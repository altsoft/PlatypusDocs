<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title></title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph"><p>Combined Title</p></div>
<div class="exampleblock">
<div class="content">
<div class="paragraph"><p>Вадим Вашкевич Альтернатива-Софт altsoft.biz <a href="mailto:vv@altsoft.biz">vv@altsoft.biz</a>@altsoft.biz
Platypus.js 0.3.0 Development Guide: Application development manual</p></div>
</div></div>
<div class="sect2">
<h3 id="application-project">Application project</h3>
<div class="paragraph"><p>In the course of development and further during the application life
cycle, the application is represented by the application project.</p></div>
</div>
<div class="sect2">
<h3 id="new-project-creation">New project creation</h3>
<div class="paragraph"><p>To create a project, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Launch the application designer (if not launched yet). To do that, use
the Platypus Application Designer shortcut on the desktop or the
corresponding item in the installed applications menu.
</p>
</li>
<li>
<p>
Select File New Project or click the New Project button on the
toolbar.
</p>
</li>
<li>
<p>
Select the project type as the Platypus Application Project and click
Next.
</p>
</li>
<li>
<p>
Specify the project name and location:
</p>
<div class="ulist"><ul>
<li>
<p>
Specify the project directory name in the Project Folder Name field.
</p>
</li>
<li>
<p>
Select the parent directory, in which the Platypus application
project will be created, in the Project Location field.
</p>
</li>
<li>
<p>
Specify the project title in the Project Title field.
</p>
</li>
<li>
<p>
Click Next to proceed to the next step.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Click Finish to finish the Platypus project creation.
</p>
</li>
</ul></div>
<div class="paragraph"><p>New project will be added to the Projects panel.</p></div>
</div>
<div class="sect2">
<h3 id="opening-an-existing-project">Opening an existing project</h3>
<div class="paragraph"><p>To open an existing project, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select File Open Project or click the Open Project button on the
toolbar.
</p>
</li>
<li>
<p>
Select the project parent directory using the selection dialog, select
the project folder, and click the Open Project button.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Opened project will be added to the Projects panel.</p></div>
</div>
<div class="sect2">
<h3 id="project-properties">Project properties</h3>
<div class="paragraph"><p>To change the project properties, select the Properties item in the
project root node context menu.</p></div>
<div class="paragraph"><p>Set the application launching parameters:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Run category.
</p>
</li>
<li>
<p>
Set the default application starting element; if necessary, use the
application element selection dialog.
</p>
</li>
<li>
<p>
Set the type of the client application to be launched: Platypus Client
or HTML5 browser.
</p>
</li>
<li>
<p>
Set the type of the server to be launched: No, Platypus Application
Server, J2EE Server.
</p>
</li>
<li>
<p>
Check the Database application option to use an application, which is
deployed in the database, when launching.
</p>
</li>
<li>
<p>
Check the Don&#8217;t start application server option to launch the client
only.
</p>
</li>
<li>
<p>
On the Client tab, in the Url field specify the URL of the application
server which will be used by the Platypus Client application when
launching, if the Don&#8217;t start application server option is enabled.
</p>
</li>
<li>
<p>
On the Client tab, in the Login and Password fields specify login and
password for the Platypus Client application.
</p>
</li>
<li>
<p>
On the Client tab, in the Options field specify additional parameters
of the Platypus Client application launching, for example, LaF (Look and
Feel).
</p>
</li>
<li>
<p>
On the Platypus Application Server tab, in the Port field specify a
port for the development application server.
</p>
</li>
<li>
<p>
On the Platypus Application Server tab, in the Options field set
additional parameters of the Platypus application server launching.
</p>
</li>
<li>
<p>
On the J2EE Server tab, in the Server field select the server instance
to be used for the application launching from the list of the installed
J2EE servers.
</p>
</li>
<li>
<p>
On the J2EE Server tab, in the Context field specify the name of the
web-application in the J2EE server.
</p>
</li>
<li>
<p>
On the J2EE Server tab, check the Enable security option to enable the
security; in this case FORMS authentication will be used for the web
application.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Set the debugging parameters:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the Platypus Client debugging port.
</p>
</li>
<li>
<p>
Set the application server debugging port.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Specify the applicaton&#8217;s default datasource:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the database connecton from the list.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="project-structure">Project structure</h3>
<div class="paragraph"><p>A Platypus Platform project has the following structure:</p></div>
<div class="ulist"><ul>
<li>
<p>
The project configuration files.
</p>
</li>
<li>
<p>
The Application Elements node is the root directory, which contains
the application elements tree.
</p>
</li>
</ul></div>
<div class="paragraph"><p>You can perform the following operations on the application elements and
directories:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create a new element using the <code>New</code> command.
</p>
</li>
<li>
<p>
Rename an application element—click the selected application element
or directory name, and press the F2 key.
</p>
</li>
<li>
<p>
Copy and Paste an application element from the buffer to the specified
project location using the <code>Paste</code> command.
</p>
</li>
<li>
<p>
Copy and Move the directory or the application elements to the
specified project location. To copy, hold the Ctrl key while dragging a
node.
</p>
</li>
<li>
<p>
Delete an application element using the <code>Delete</code> command.
</p>
</li>
<li>
<p>
Search for an element in the project using the <code>Find</code> command.
</p>
</li>
</ul></div>
<div class="paragraph"><p>These operations also avaliable by the element context menu, Edit menu
in the main menu, or the keyboard hotkeys. Some application elements
nodes supports some specific operations, e.g. running or debugging.
Specific operations are described in detail in the sections dedicated to
the certain types of application elements.</p></div>
<div class="paragraph"><p>To create a subdirectory in the applicaton tree:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu or select the
parent directory and click New File in the main menu, or click the New
File button on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Folder type in the context menu or select Choose file type
Platypus application elements Folder on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Specify the name of the directory in the Name field and click Finish
to create a directory, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To navigate to the application element, if its identifier is known:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select File Go to application element, or use the Ctrl Shift G
shortcut.
</p>
</li>
<li>
<p>
In the dialog, specify the identifier of the application element in
the Provide application element id field of the dialog.
</p>
</li>
<li>
<p>
Click OK to navigate to the application element, or click Cancel to
cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To open an application element, select Open in the application element
context menu, or double-click this element. The application element
editor opens as a window in the Platypus Application Designer editors
area.</p></div>
<div class="paragraph"><p>To find out the identifier of an application element:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select an application element in the projects application elements
tree.
</p>
</li>
<li>
<p>
Select File Application element info menu item, or use the Ctrl Shift
I shortcut.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="running-and-debugging">Running and debugging</h3>
<div class="paragraph"><p>To run an application:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Run project button on the main toolbar to start a project&#8217;s
default application element or select Run context menu in an application
element&#8217;s such as a form, module or an JavaScript file.
</p>
</li>
<li>
<p>
Select Run context menu in an application element&#8217;s such as a form,
module or an JavaScript file.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To debug an application:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set breakpoints in the JavaScript program.
</p>
</li>
<li>
<p>
Click the Debug project button on the main toolbar or select the Debug
item in an application element&#8217;s context menu. The application will
start and the debugger will be attached.
</p>
</li>
<li>
<p>
After the debugger halts at the breakpoint, see the values of
variables and the call stack. To continue the program running, click the
Continue button on the main toolbar. Use the Step over button or the F8
key, Step into or the F7 key, Step out or the Ctrl F7 shortcut for
step-by-step execution of the program.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the default application run element is not explicitly specified in
the project&#8217;s settings the selection dialog will be displayed.</p></div>
<div class="paragraph"><p>To debug an application running in an J2EE server or servlet container,
e.g. Apache Tomcat provide the JMX configuration parameters as the
server&#8217;s start Java virtual machine options:
<code>-Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=</code>
where port is the port to attach the debugger. For Apache Tomcat enter
these options in the VM Options field on the Platform tab of the
server&#8217;s configuration parameters on the Services panel. After the
server starts use Attach Debugger menu item on the Debug Project button
on the main toolbar and specify the debugging port.</p></div>
<div class="paragraph"><p>When launching the application in a J2EE server, Platypus Application
Designer uses the <code>web</code> sub-directory, which is created automatically in
the project directory. When initializing this sub-directory, its initial
structure is created and libraries are copied. After initializing the
directory, files responsible for the configuration (<code>WEB-INF/web.xml</code>,
server specific configuration file, and JavaScript file responsible for
the application launching on the HTML page) are modified, but the
libraries are not copied again.</p></div>
<div class="paragraph"><p>Select the Clean and Run menu item in the project context menu, if it is
necessary to update the libraries in the <code>web</code> directory. The libraries
will be removed, and at the next application launch these libraries will
be copied from the platform&#8217;s runtime directory.</p></div>
</div>
<div class="sect2">
<h3 id="database-connections">Database connections</h3>
<div class="paragraph"><p>Define an application project&#8217;s database connections and the default
connection of the application. The default connection to be used when a
connection is not explicitly referenced in application elements.</p></div>
<div class="paragraph"><p>Add a new database connection:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Services panel.
</p>
</li>
<li>
<p>
Select the New Connection menu item of the Databases node.
</p>
</li>
<li>
<p>
In the New Connection dialog select the JDBC driver and provide the
JDBC URL, database credentials, scheme and connection name. This name
will be used as an string identifier to refer to the connection JNDI
resource in the application.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A JDBC URL example for the H2 database server with a database located in
the user&#8217;s home directory <code>db</code> subdirectory:
<code>jdbc:h2:tcp://localhost:9092/~/db</code>.</p></div>
<div class="paragraph"><p>Specify the project&#8217;s default database connection: go to the project&#8217;s
Properties and to the Running panel. Select the default connection from
the Datasource combobox.</p></div>
<div class="paragraph"><p>When opening the project, the application designer tries to connect to
the database, in case of failure it switches to the limited
functionality mode, and some editor tools are disabled.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>We recommend that a developer in the team working on the project creates
and uses his/her own copy of the database for debugging and testing
purposes. Additionally, a common reference database is created, and all
modifications, which have passed the debugging stage at the developers'
individual databases, are applied to this common one.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Use the developer&#8217;s local database on the H2 database server, supplied
with the platform.</p></div>
<div class="paragraph"><p>To launch the built-in H2 database server:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Services panel.
</p>
</li>
<li>
<p>
Select the Databases H2 node and enable the Start menu item.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After the database server is launched and become available via the
network or locally, connect to this server by selecting the Connect to
project database item in the context menu, or by clicking the Establish
connection button on the Application Database form in the project
properties, or by selecting the Connect to project database link on the
stub-form of the data model editor.</p></div>
<div class="paragraph"><p>To disconnect, select the Disconnect from project database item in the
project context menu.</p></div>
</div>
<div class="sect2">
<h3 id="application-in-the-database">Application in the database</h3>
<div class="paragraph"><p>An application can be deployed in the special database table. After
deployment, the application elements can be hosted in the database.</p></div>
<div class="paragraph"><p>To deploy an application in the database: use Deploy item in the
project&#8217;s root node context menu. When deploying, the application
elements from the Application Elements folder are copied to the table
<code>MTD_ENTITIES</code>. When copying, the tree structure of the application
directories is preserved.</p></div>
<div class="paragraph"><p>Importing of an application from a database to a files is a process
which is reverse to deployment. To import an application from the
database: select the Import item in the project context menu. When
importing, the application elements are copied from the <code>MTD_ENTITIES</code>
table to the project&#8217;s Application Elements folder.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Important</strong></p></div>
<div class="paragraph"><p>When deploying and importing an application, the destination table or
the Application Elements folder is cleared before the copy process
starts.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="database-migrations-tools">Database migrations tools</h3>
<div class="paragraph"><p>To store and restore database(s) schema and its bootstrap data and use
the database migration tools.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Important</strong></p></div>
<div class="paragraph"><p>Backup you databases before applying migrations.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Bootstrap data includes basic references, bootstrap data, etc., the
information required to start the application.</p></div>
<div class="paragraph"><p>Database structure and initial application data are represented in the
form of migrations files. Each migration has a number expressed as a
positive integer, which is used as the file name. In the course of
development and further during the application life cycle, when changing
the database structure or in case of data modification, a migration is
created. Later on, this migration can be applied to other databases. In
the application database, information about the current database version
is maintained in the <code>MTD_VERSION</code> table.</p></div>
<div class="paragraph"><p>Migrations with the number greater than the current database version are
sequentially applied to the database during synchronization process.
After the migration is applied successfully, the database number becomes
equals to the number of this migration.</p></div>
<div class="paragraph"><p>Migrations types:</p></div>
<div class="ulist"><ul>
<li>
<p>
Database structure snapshot is a <code>.xdm</code> file containing database
metadata presentation in the XML format.
</p>
</li>
<li>
<p>
SQL commands batch is a <code>.batch</code> file containing the SQL commands
delimited by <code>#GO</code> separators tag.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>In the batch SQL file, it is recommended to use DML (<code>INSERT</code>, <code>UPDATE</code>
and <code>DELETE</code>) commands; although it is technically permissible to use
DDL commands there as well. However, it is not recommended to use
commands which modify the database structure in the batch SQL file,
since it can reduce the application portability.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Refer to the Administration Guide for more information about using
database migration tools.</p></div>
</div>
<div class="sect2">
<h3 id="version-control">Version control</h3>
<div class="paragraph"><p>During application development and further during the application life
cycle, it is recommended to use a version control system to manage the
source project files.</p></div>
<div class="paragraph"><p>The application designer has built-in support of the following version
control systems:</p></div>
<div class="ulist"><ul>
<li>
<p>
Subversion
</p>
</li>
<li>
<p>
Git
</p>
</li>
<li>
<p>
Mercurial
</p>
</li>
</ul></div>
<div class="paragraph"><p>To access options of these version control systems, use the Team item
from the global menu and/or Versioning sub-menu of the project context
menu.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Refer to the documentation of the relevant version control system for
details about this system usage.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="database-diagram">Database diagram</h3>
<div class="paragraph"><p>Database diagram is an application element responsible for
representation of the database structure. For example, the diagram can
specify some part of the knowledge domain. Generally, the project
contains several database structure diagrams at the developer
convenience.</p></div>
<div class="paragraph"><p>A database structure diagram is a visual representation of the database
structure, and it does not directly affect the application
functionality.</p></div>
<div class="paragraph"><p>The structure of the relational database is determined by the tables and
links between them. Links between two tables are implemented through the
foreign keys.</p></div>
</div>
<div class="sect2">
<h3 id="new-diagram-creation">New diagram creation</h3>
<div class="paragraph"><p>To create a new database diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu, or select
the parent directory and click New File in the main menu, or click the
New File button on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Database structure diagram type in the context menu or
select Choose file type Platypus application elements Database diagram
on the wizard first step and click Next.
</p>
</li>
<li>
<p>
Select the connection to database and database schema:
</p>
<div class="ulist"><ul>
<li>
<p>
Select the default database—click the Default button or a connection
to the external database—click the Specific button and select a specific
database connection.
</p>
</li>
<li>
<p>
Select a schema in the database in the Schema drop-down list; click
the Default button to select a default schema.
</p>
</li>
<li>
<p>
Click the Next button.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Specify the name of the new database structure diagram in the Name
field, and click the Finish button to create a new application element,
or click Cancel to abort.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After creating the database structure diagram, fill it with the database
tables structures. To do that, define the tables, its fields and their
descriptions. After determination of the table structure define foreign
key links between the tables.</p></div>
</div>
<div class="sect2">
<h3 id="diagram-visual-editor">Diagram visual editor</h3>
<div class="paragraph"><p>Diagram is a representation of some tables in the database, as well as
the links between them. In general, one includes a part of the database
overall structure, which is, for example, related to the certain segment
of application functionality.</p></div>
<div class="paragraph"><p>Visual editor tool is used for editing database structure diagrams.</p></div>
<div class="paragraph"><p>Visual editor allows you to modify the database structure e.g. add or
delete tables, links between tables, and indexes. The same table can be
represented in several diagrams.</p></div>
<div class="paragraph"><p>For navigation through a diagram, it is convenient to use the diagram
inspector panel. In the inspector, tables and their fields are
represented in the tree structure. When selecting a table or a field in
the inspector, the same selection takes place in the diagram editor.</p></div>
<div class="paragraph"><p>For mutual positioning of a node in the inspector and an object in the
diagram:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Show in diagram menu item in the inspector&#8217;s table node
context menu.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add an existing table to the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table menu item on the editor toolbar, or use the Ctrl
Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select a table in the table selection dialog; if necessary, use the
search function. To access it, click Find.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table in the diagram to the desired location.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a new table and to add it to the diagram, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table Create new table item in the menu on the editor
toolbar.
</p>
</li>
<li>
<p>
Specify the name of the new table in the dialog.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table in the diagram to the desired location.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>A numeric primary key field will be automatically created for a new
table.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To remove a table from the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a table in the diagram.
</p>
</li>
<li>
<p>
Click the Delete button on the editor toolbar.
</p>
</li>
<li>
<p>
In the confirmation dialog, click the Delete from diagram button to
remove the table from the diagram (from the diagram only, not from the
database). Click the Drop table button to remove the table from the
database (physical destruction of the table), or click Cancel to cancel
the process.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add the table fields, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table in the diagram.
</p>
</li>
<li>
<p>
Click the Create new field/parameter button on the toolbar of the
table fields editor tab. The new field dialog appears. Provide the new
table field properties and click OK button to create the new field or
Cancel to cancel the process.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Table field properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
name is the field&#8217;s name in the table
</p>
</li>
<li>
<p>
description is the field&#8217;s description
</p>
</li>
<li>
<p>
type is the field&#8217;s data type
</p>
</li>
<li>
<p>
type name is the data structure type name, this field is enabled if
the <code>STRUCT</code> data type is selected
</p>
</li>
<li>
<p>
size is the field length
</p>
</li>
<li>
<p>
scale is the field scale or precision
</p>
</li>
<li>
<p>
nullable determines if <code>NULL</code> values are allowed for the field.
</p>
</li>
</ul></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Type name </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>NUMERIC</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>DECIMAL</code></p></td>
<td align="left" valign="top"><p class="table">Decimal number</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>VARCHAR</code></p></td>
<td align="left" valign="top"><p class="table">String with limited length</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>TIMESTAMP</code></p></td>
<td align="left" valign="top"><p class="table">Date and time</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>DATE</code></p></td>
<td align="left" valign="top"><p class="table">Date</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>STRUCT</code></p></td>
<td align="left" valign="top"><p class="table">Structure</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BLOB</code></p></td>
<td align="left" valign="top"><p class="table">Binary object with unlimited length</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>CLOB</code></p></td>
<td align="left" valign="top"><p class="table">String with unlimited length</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To edit the field, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the field node among the table daughter nodes in the data model
inspector.
</p>
</li>
<li>
<p>
Edit the field parameters in the Properties editor window.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the field, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table field in the diagram.
</p>
</li>
<li>
<p>
Click Delete on the fields editor toolbar, or use the Ctrl Delete
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit the table indexes, use the inspector: open the node of the
relevant table, and use the Indexes node.</p></div>
<div class="paragraph"><p>To add a new table index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add index item in the Indexes node context menu of the
corresponding database table.
</p>
</li>
<li>
<p>
In the table columns selection dialog, select necessary fields and
click OK to add the table index, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, remove the field from the index using the Delete item
from the index column context menu.
</p>
</li>
<li>
<p>
If necessary, modify the order of the fields in the index using the
Move up and Move down items from the index column context menu.
</p>
</li>
<li>
<p>
If necessary, change the status of the Ascending checkbox on the
properties panel for the index column, setting the ascending or
descending sorting order.
</p>
</li>
<li>
<p>
Set the index name in the Index name field on the index node
properties panel.
</p>
</li>
<li>
<p>
If necessary, check the Unique option on the index node properties
panel to make the index unique or non-unique.
</p>
</li>
<li>
<p>
If necessary, check the Clustered option on the index node properties
panel to create a clustered index.
</p>
</li>
<li>
<p>
If necessary, check the Hashed option on the index node properties
panel to enable or disable hashing for this index.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To modify an table index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the index in the table indexes list.
</p>
</li>
<li>
<p>
Edit the index; to do that, follow the same steps as when adding a new
index.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To delete an index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the index among other child nodes of the relevant table in the
inspector.
</p>
</li>
<li>
<p>
Select the Delete item in the index node context menu.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add a foreign key for the table, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Using the mouse, drag the field of one table to the primary key field
of the other table.
</p>
<div class="paragraph"><p>After that, a foreign key will be created in the database; visually, the
link will be represented by the arrow between the tables fields.
* Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.</p></div>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Important</strong></p></div>
<div class="paragraph"><p>Data types of the fields connected by the foreign key link must be the
same.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To build a hierarchical table structure (unary link), drag the table
field to the primary key field of the same table using the mouse.</p></div>
<div class="paragraph"><p>To remove the table foreign key, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the foreign key link using the mouse.
</p>
</li>
<li>
<p>
Click the Delete button or use the Ctrl Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>When working in a developers team, after modification of the database
structure, it is recommended to create a migration — a database metadata
snapshot, and make it available for all participants of the development
process in order to apply the modifications to the rest of the database
copies engaged in the development process.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To query the data from the table, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table in the diagram.
</p>
</li>
<li>
<p>
Click the Query Table Data button on the local toolbar — the data will
be requested from the table, and the results will be displayed in the
editor&#8217;s output area.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To modify the size of the database structure diagram visual
representation, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Zoom In button to scale up, or Zoom out button to scale down
the representation of the database structure in the editor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To search through the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Find to open the diagram search dialog.
</p>
</li>
<li>
<p>
Specify the search string.
</p>
</li>
<li>
<p>
Select fields to be searched through: Datasets, Fields, Params, and
check (uncheck) the following options: use the option Whole words to
search for whole words and the Match case to perform a case-sensitive
search.
</p>
</li>
<li>
<p>
Click Next and Previous buttons to go to the next found entity.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="external-connection">External connection</h3>
<div class="paragraph"><p>Platypus Platform application has a default connection to the database.
This connection configuration is set when creating an application
project. Besides, the application can use connections to any number of
external databases.</p></div>
<div class="paragraph"><p>To define a connection to external databases, application elements of
the <em>Connection to external database</em> type are used.</p></div>
</div>
<div class="sect2">
<h3 id="new-connection-creation">New connection creation</h3>
<div class="paragraph"><p>To create a new connection to the external database, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu, or select
the parent directory and click New File in the main menu, or click the
New File button on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the External database connection type in the context menu or
select Choose file type Platypus application elements External database
connection on the wizard first step and click Next.
</p>
</li>
<li>
<p>
Specify the name of the new application element in the Name field, and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="database-connection-editor">Database connection editor</h3>
<div class="paragraph"><p>Use the special editor for modification the External database connection
application element. To open the application element editor,
double-click an application element in the project tree.</p></div>
<div class="paragraph"><p>To modify the settings of the connection to the external database,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Fill in the Name field — specify the ID of the external database
connection application element; ID is subject to the requirements of the
Platypus application elements names.
</p>
</li>
<li>
<p>
Fill in the JDBC Url field — specify URL of the connection to the
external database in the JDBC format.
</p>
</li>
<li>
<p>
Fill in the Database User field — specify the database user name.
</p>
</li>
<li>
<p>
Fill in the Password field — specify the database user password.
</p>
</li>
<li>
<p>
Select the default schema of this connection from the dropdown list in
the Default schema field.
</p>
</li>
<li>
<p>
Test the connection to the database by clicking the Test connection
button.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the Platypus
Application Designer toolbar, or by using the Ctrl Shift S shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When the application is running in the J2EE server environment or
servlet container, the connection to the database is provided by the
external environment, where the Platypus application is running. Set up
the connection to the database as the JNDI resource and specify the name
of this resource in the JDBCURL field. In this case, do not fill in the
Database User, Password, and Default schema fields. The procedure is
performed without testing the connection.</p></div>
</div>
<div class="sect2">
<h3 id="user-interface-guide">User interface guide</h3>
</div>
<div class="sect2">
<h3 id="form">Form</h3>
<div class="paragraph"><p><code>Form</code> is a user interface building block wich can be represented as a
top-level window with a title and a border or can be build-in on a panel
or on another form.</p></div>
<div class="paragraph"><p>A form is a regular JavaScript module with visual components. Any form
can be displayed both in desktop client as well in HTML5 web-browser.</p></div>
<div class="paragraph"><p><code>Form</code> includes a top-level container, which holds widgets and other
containers and accessible under <code>view</code> property.</p></div>
<div class="paragraph"><p>A widget is a component, which has a visual representation. A container
is a component, which holds widgets and other containers.</p></div>
<div class="paragraph"><p>Each component, as well as the form itself, has a set of properties,
which defines the component appearance and behavior, and a set of events
(e.g. user actions, for which you can define handlers).</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/form.png" alt="Form&#8217;s components layout" />
</span></p></div>
<div class="paragraph"><p>In the desktop client, forms are displayed in separate windows, can be
minimized or expanded to the full screen, displayed in other forms as
built-in elements (frames) and as internal windows in the DesktopPane
component. In the HTML5 browser client, forms are displayed in the same
way, but within a browser page.</p></div>
</div>
<div class="sect2">
<h3 id="new-form-creation">New form creation</h3>
<div class="paragraph"><p>To create a new form layout and JavaScript code in the IDE, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select New in the parent directory context menu, or select the parent
directory and click New File in the main menu, or click New File on the
main toolbar, or use a corresponding keyboard shortcut.
</p>
</li>
<li>
<p>
Select Form type of the Platypus application element in the context
menu, or select Choose file type Platypus application elements on the
wizard first step and click Next.
</p>
</li>
<li>
<p>
Enter the name for the new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="visual-ui-editor">Visual UI editor</h3>
<div class="paragraph"><p>Edit form components layout using the visual form editor. To open the
editor double-click the application element in the project tree.</p></div>
<div class="paragraph"><p>To edit the form:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Design tab of the module editor.
</p>
</li>
<li>
<p>
Drag a widget, a container or a menu from the components palette onto
the form surface.
</p>
</li>
<li>
<p>
Arrange the components on the form.
</p>
</li>
<li>
<p>
Set the general properties of the form and properties of each
component on the Properties panel, e.g. text font, foreground and
background colors.
</p>
</li>
<li>
<p>
Specify handlers functions of the form and components on the
Properties/Events, write the event handlers code in the JavaScript
editor.
</p>
</li>
<li>
<p>
Configure the form&#8217;s data model and write code responsible for data
manipulations.
</p>
</li>
<li>
<p>
Save the form by clicking Save All on the Platypus Application
Designer tool bar or by pressing Ctrl S shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>A form should contain JavaScript code, responsible for user interface.
Business logic should be implemented in server modules.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Form&#8217;s structure is presented as a tree in the form inspector panel. Use
the inspector to select a widget, a container or a menu, to move a
component from one container to another, and to select the container
layout.</p></div>
<div class="paragraph"><p>Drag components up or down in the inspector tree or activate the Move
Up, Move Down, and Change Order context menu items to set the order
along the Z axis.</p></div>
<div class="paragraph"><p>To run a quick preview of the form, click Preview design on the visual
editor tool bar. The preview window opens, showing a visual
representation of the form, which is identical to its look in runtime.</p></div>
<div class="paragraph"><p>The anchors layout is enabled for all form&#8217;s containers by default. To
choose some other layout for the specific container, select the layout
menu item in the Set Layout submenu from the container&#8217;s context menu in
the inspector component tree.</p></div>
<div class="paragraph"><p>Add a component from the pallete using the visual editor, anchors are
attached for the nearest container&#8217;s sides and width and height values
are automatically set.</p></div>
<div class="paragraph"><p>Change dimensions of the component and its location by using the mouse
or arrows keys. When you move a component using arrows keys, the
position of the component is tied to the grid. Hold down the Ctrl to
move the component smoothly. Hold down the Shift key to expand the
widget.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>To define form&#8217;s editor settings, use the properties setting
dialog:Tools Options Miscellaneous GUI Builder.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To enable or disable an anchor, use anchors buttons on the form editor
toolbar.</p></div>
<div class="paragraph"><p>As an alternative way to specify the layout anchors, use widget node
menu in the inspector: enable the corresponding anchor in the Anchor
submenu. Thus, if there&#8217;s one anchor enabled for one coordinate, then
this anchor and the appropriate dimension will be used. If there are two
anchors enabled, then they will be used, and the dimension will be
extended.</p></div>
<div class="paragraph"><p>Specify values for anchors and dimensions explicitly, changing the
values of the component&#8217;s properties panel in the Layout properties
group: Left, Top, Right, Bottom, Left, Width, and Height.</p></div>
<div class="paragraph"><p>Anchors properties values are specified as a strings together with the
indication of measurement units: pixels or percentages. If measurement
units are not specified, pixels are used. If a value is defined as a
percentage, this anchor and dimension will be changed while maintaining
the defined value when changing dimensions of the container, for example
: <code>60px</code>, <code>30%</code>, <code>40</code>.</p></div>
<div class="paragraph"><p>Use the component alignment control buttons on the form editor tool bar
to align widgets in relation to each other. Alignment buttons become
active when you select multiple widgets. To select multiple widgets,
click them while holding down the Ctrl key.</p></div>
<div class="paragraph"><p>Specify a component&#8217;s the properties and event handlers:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click a form area, which is free from other components, or select a
form node in the component inspector.
</p>
</li>
<li>
<p>
Change properties of the form on the Properties panel.
</p>
</li>
<li>
<p>
Specify the event handlers on the Properties/Events panel.
</p>
</li>
<li>
<p>
Write code of the handlers in the JavaScript editor.
</p>
</li>
<li>
<p>
To remove an event handler, delete the name of the handler from the
corresponding event field; as a result, the &lt;none&gt; name is assigned to
the handler and the handler function will be removed from the code.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="form-api">Form API</h3>
<div class="paragraph"><p>Create a module instance in client JavaScript as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create an instance of a form with the help of the <code>new</code> keyword, using
a module constructor, for example:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is a form's constructor.</code></pre>
</div></div>
</li>
<li>
<p>
Create an instance of the module with the help of the <code>new</code> keyword
using special <code>Form</code> constructor, for example:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Form</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is the module constructor name string, for example,</code></pre>
</div></div>
<div class="paragraph"><p><code>"MainForm"</code>;</p></div>
</li>
</ul></div>
<div class="paragraph"><p>To make a form visible use the <code>show</code> method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>formInstance<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>An application supports a registry of its shown forms. For every form a
identifier can be specifyed to refer to the shown form in this registry,
to do this use form&#8217;s instance <code>formKey</code> property. By default a form&#8217;s
key set to its constructor name.</p></div>
<div class="paragraph"><p>Use the <code>Form.getShownForm()</code> method, where formKey is a form&#8217;s key to
get the shown form by its key.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formA <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FormA</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formB <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FormB</span></span><span style="color: #990000">();</span>
formA<span style="color: #990000">.</span>formKey <span style="color: #990000">=</span> <span style="color: #FF0000">'A1'</span><span style="color: #990000">;</span>
formB<span style="color: #990000">.</span>formKey <span style="color: #990000">=</span> <span style="color: #FF0000">'B1'</span><span style="color: #990000">;</span>
formA<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span>
formB<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span>
Form<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getShownForm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'A1'</span><span style="color: #990000">).</span>visible <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Get the array of the application&#8217;s shown forms registry using <code>Form</code>
object <code>shown</code> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span>i <span style="color: #990000">&lt;</span> Form<span style="color: #990000">.</span>shown<span style="color: #990000">.</span>length<span style="color: #990000">;</span>i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>shownForms<span style="color: #990000">[</span>i<span style="color: #990000">].</span>title<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Explicitly provide form keys before using <code>Form.shown</code> because the shown
forms registry uses this keys as identifiers.</p></div>
<div class="paragraph"><p>Add a handler function to the shown form&#8217;s registry change event. Use
the <code>Form</code> object <code>onChange</code> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Form<span style="color: #990000">.</span>onChange <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span>source<span style="color: #990000">.</span>formKey<span style="color: #990000">);</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span>source<span style="color: #990000">.</span>visible<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The form properties are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>title</code></p></td>
<td align="left" valign="top"><p class="table">Form&#8217;s title text.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>top</code></p></td>
<td align="left" valign="top"><p class="table">The distance from the parent container top side.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>left</code></p></td>
<td align="left" valign="top"><p class="table">The distance from the parent container left side.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>width</code></p></td>
<td align="left" valign="top"><p class="table">The form&#8217;s width.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>height</code></p></td>
<td align="left" valign="top"><p class="table">The form&#8217;s height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>allwaysOnTop</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form should be displayed on top of all
other windows and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>formKey</code></p></td>
<td align="left" valign="top"><p class="table">The form&#8217;s identifier in the open forms registry.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table">The form&#8217;s <code>Icon</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>locationByPlatform</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if form should appear at the default
location for the native windowing system or at the current location and
<code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>opacity</code></p></td>
<td align="left" valign="top"><p class="table">Opacity of the form, Number in the range of 0..1: 0 when it
is completely transparent, 1 when form is completely opaque.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>resizable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if it is allowed changing of the form dimensions
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>undecorated</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to enable displaying of the system borders and
form buttons and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>minimizable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form is minimizable, and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maximizable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form is maximizable, and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>minimized</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form is minimized, and <code>false</code> otherwise
(read-only).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maximized</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form is maximized, and <code>false</code> otherwise
(read-only).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>visible</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the form is visible and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>view</code></p></td>
<td align="left" valign="top"><p class="table">The top-level container of the form.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The form methods are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Method </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>show()</code></p></td>
<td align="left" valign="top"><p class="table">Displays the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showInternalFrame(desktopPane)</code></p></td>
<td align="left" valign="top"><p class="table">Displays the form within the
<code>DesktopPane</code> container provided as a <code>desktopPane</code> parameter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showModal(callback)</code></p></td>
<td align="left" valign="top"><p class="table">Displays the form as a confirmation dialog. If
<code>form.close(param)</code> method is used to close the dialog form, then
<code>callback</code> function is invoked with a <code>param</code> passed as an argument.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showOnPanel(parent)</code></p></td>
<td align="left" valign="top"><p class="table">Displays the form on the container panel,
<code>parent</code> is an object of the panel, on which the form should be shown.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>close(selected)</code></p></td>
<td align="left" valign="top"><p class="table">Closes the form. This method may be used to return a
value, selected using the dialog. If the <code>selected</code> parameter is
specified, it will be passed as the <code>callback</code> argument of the function,
which is passed in turn as a parameter to the <code>showModal()</code> method of
the parent form. If the <code>selected</code> parameter has the <code>null</code> value, the
<code>callback</code> function will still be called. If the <code>selected</code> parameter is
not passed at all, the <code>callback</code> function won&#8217;t be called.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>minimize()</code></p></td>
<td align="left" valign="top"><p class="table">Minimizes the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maximize()</code></p></td>
<td align="left" valign="top"><p class="table">Maximizes the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>restore()</code></p></td>
<td align="left" valign="top"><p class="table">Restores the previous state of the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>toFront()</code></p></td>
<td align="left" valign="top"><p class="table">Brings the form to the forefront.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>Form</code> events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Event type </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseWheelMoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseWheelEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after rotating the
mouse wheel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseClicked</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after the mouse is clicked.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentAdded</code></p></td>
<td align="left" valign="top"><p class="table"><code>ContainerEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after adding a
component into the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentHidden</code></p></td>
<td align="left" valign="top"><p class="table"><code>ContainerEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after hiding a
component.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentRemoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>ContainerEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after removing a
component from the form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentResized</code></p></td>
<td align="left" valign="top"><p class="table"><code>ContainerEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after changing the
component size.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentShown</code></p></td>
<td align="left" valign="top"><p class="table"><code>ContainerEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after displaying the
component.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onFocusGained</code></p></td>
<td align="left" valign="top"><p class="table"><code>FocusEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after getting the keyboard
focus.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onFocusLost</code></p></td>
<td align="left" valign="top"><p class="table"><code>FocusEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after losing the keyboard focus.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onKeyPressed</code></p></td>
<td align="left" valign="top"><p class="table"><code>KeyEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after pressing the keyboard key.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onKeyReleased</code></p></td>
<td align="left" valign="top"><p class="table"><code>KeyEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after releasing the keyboard
key.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowActivated</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after the window
activation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowClosed</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after closing the form
window.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowClosing</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called before closing the form
window.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowDeactivated</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">object Is called after
deactivating the form window.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowDeiconified</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after retrieving the
form from an icon on the panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowMinimized</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after minimizing the
form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onWindowOpened</code></p></td>
<td align="left" valign="top"><p class="table"><code>WindowEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after opening the form
window.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The <code>windowClosing</code> event is cancelable. This event is useful for
invoking a dialog to confirm the window closing: if the handler returns
<code>false</code>, the form won&#8217;t be closed:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Handles windowClosing event</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">formWindowClosing</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Close the window?"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the properties and events of the form from JavaScript
code, use the corresponding property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Sets form's title</span></span>
self<span style="color: #990000">.</span>title <span style="color: #990000">=</span> <span style="color: #FF0000">"Document form"</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//Handles onWindowClosing event</span></span>
self<span style="color: #990000">.</span>onWindowClosing <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Close the window?"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the top-level container, use the <code>view</code> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Sets the form's background</span></span>
self<span style="color: #990000">.</span>view<span style="color: #990000">.</span>background <span style="color: #990000">=</span> Color<span style="color: #990000">.</span>BLACK<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>In the above example the form title is set programmatically, and also an
alternative way to specify a form event handler is provided.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>For the top-level container, the layout should be set by the designer
and can&#8217;t be changed by program means.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="components-events">Components events</h3>
<div class="paragraph"><p>Component events are not propogated to the its parent. A container&#8217;s
event is generated only if it has not been generated for its child
components. Thus, the form will recieve the mouse event only if it has
occurred over an area, which is free from its children.</p></div>
<div class="paragraph"><p>The base <code>ComponentEvent</code> object contains <code>source</code> property that
contains the event&#8217;s source component.</p></div>
<div class="paragraph"><p>Use an event handler function as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">onEventHandler</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   evt<span style="color: #990000">.</span>source<span style="color: #990000">.</span>background <span style="color: #990000">=</span> Color<span style="color: #990000">.</span>WHITE<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The specific event objects also contain <code>source</code> property, as well as
their own specific properties. The following types of specific events
are defined: <code>ContainerEvent</code>, <code>KeyboardEvent</code> and <code>MouseEvent</code>.</p></div>
<div class="paragraph"><p><code>ContainerEvent</code> event object represents an event what is called when
something happens with the container, e.g. an component added or
removed, its specific propetries are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>child</code></p></td>
<td align="left" valign="top"><p class="table">Child component container operation is performed on.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>KeyEvent</code> event object contains information about a keyboard event,
e.g. a key pressed or released, its specific propetries are listed in
the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>key</code></p></td>
<td align="left" valign="top"><p class="table">Key code associated with this event.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>altDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Alt key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>controlDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Ctrl key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>shiftDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Shift key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>metaDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Meta key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>MouseEvent</code> event object contains information about a mouse event, e.g.
a mouse moved or a mouse key is clicked, its specific propetries are
listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>x</code></p></td>
<td align="left" valign="top"><p class="table">Key code associated with this event.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>y</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Alt key is down on this event and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>button</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Ctrl key is down on this event and <code>false</code>
otherwise.One of the following <code>Number</code> values: 0 for no button, 1 for
the button 1, 2 for the button 2 and 3 for the button 3.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>clickCount</code></p></td>
<td align="left" valign="top"><p class="table">The number of mouse clicks associated with this event.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>altDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Alt key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>controlDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Ctrl key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>shiftDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Shift key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>metaDown</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if Meta key is down on this event and <code>false</code>
otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="standard-widgets">Standard widgets</h3>
<div class="paragraph"><p>Standard widgets are simple components intended to organize
application&#8217;s user interface.</p></div>
<div class="paragraph"><p>To specify visual presentation of the widget, set its properties and
event handlers in the visual editor or in JavaScript code.</p></div>
<div class="paragraph"><p>Standard widgets have a set of common properties and events as well as
specific properties and events.</p></div>
<div class="paragraph"><p>The common properties for all components are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>visible</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the component is visible and <code>false</code> otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>background</code></p></td>
<td align="left" valign="top"><p class="table">Background color</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>font</code></p></td>
<td align="left" valign="top"><p class="table">Font</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>componentPopupMenu</code></p></td>
<td align="left" valign="top"><p class="table">Popup menu</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>foreground</code></p></td>
<td align="left" valign="top"><p class="table">Color</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>toolTipText</code></p></td>
<td align="left" valign="top"><p class="table">Text, which is shown when hovering a cursor over the
component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>border</code></p></td>
<td align="left" valign="top"><p class="table">Component border</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cursor</code></p></td>
<td align="left" valign="top"><p class="table">Cursor above the component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>enabled</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the component is enabled and <code>false</code> otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>focusable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if it is allowed for the component to get keyboard
focus and <code>false</code> otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>opaque</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the component&#8217;s background is opaque and <code>false</code>
otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>error</code></p></td>
<td align="left" valign="top"><p class="table">Error message of this component. Validation procedure may set
this property and subsequent focus lost event will clear it.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Common events for all components are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called when main action
performed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentAdded</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after adding the
component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentHidden</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after hiding the
component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentМoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after moving the
component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentRemoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after removing the
component from its container</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentResized</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after changing the
component size</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onComponentShown</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after displaying the
component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onFocusGained</code></p></td>
<td align="left" valign="top"><p class="table"><code>FocusEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after getting the keyboard
focus</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onFocusLost</code></p></td>
<td align="left" valign="top"><p class="table"><code>FocusEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after losing the keyboard focus</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onKeyPressed</code></p></td>
<td align="left" valign="top"><p class="table"><code>KeyEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after pressing the keyboard key</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onKeyReleased</code></p></td>
<td align="left" valign="top"><p class="table"><code>KeyEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after releasing the keyboard key</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onKeyTyped</code></p></td>
<td align="left" valign="top"><p class="table"><code>KeyEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after pressing the keyboard key</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseClicked</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse key is pressed and released</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseDragged</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Component is dragged by the mouse</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseEntered</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse cursor has entered the component
rectangle</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseExited</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse cursor has left the component
rectangle</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseMoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse cursor has changed its position</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMousePressed</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse key is pressed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseReleased</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse key is released</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onMouseWheelMoved</code></p></td>
<td align="left" valign="top"><p class="table"><code>MouseWheelEvent</code></p></td>
<td align="left" valign="top"><p class="table">Mouse wheel is rotated</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="label">Label</h4>
<div class="paragraph"><p><code>Label</code> is a widget with a short piece of text, images or text with an
image. The label does not respond to keyboard input events and can&#8217;t get
the keyboard focus.</p></div>
<div class="paragraph"><p>The specific properties of this component are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Text</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table">Icon</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>iconTextGap</code></p></td>
<td align="left" valign="top"><p class="table">Gap between the text and the icon, in pixels</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>horizontalTextPositon</code></p></td>
<td align="left" valign="top"><p class="table">Horizontal position of the text in relation to
the icon, one of the following: <code>HorizontalPosition.RIGHT</code>,
<code>HorizontalPosition.LEFT</code>, <code>HorizontalPosition.CENTER</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>horizontalAlignment</code></p></td>
<td align="left" valign="top"><p class="table">Horizontal position of the text with the icon
relative to the component&#8217;s size, one of the following:
<code>HorizontalPosition.RIGHT</code>, <code>HorizontalPosition.LEFT</code>,
<code>HorizontalPosition.CENTER</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>verticalTextPositon</code></p></td>
<td align="left" valign="top"><p class="table">Vertical position of the text relative to the
icon, one of the following: <code>VerticalPosition.TOP</code>,
<code>VerticalPosition.BOTTOM</code>, <code>VerticalPosition.CENTER</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>verticalAlignment</code></p></td>
<td align="left" valign="top"><p class="table">Vertical position of the text with the icon
relative to the component&#8217;s size, one of the following:
<code>VerticalPosition.TOP</code>, <code>VerticalPosition.BOTTOM</code>,
<code>VerticalPosition.CENTER</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the Label
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> label <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text (optional), icon is an icon (optional),
iconTextGap is a gap between the icon and text (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>label<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Message text"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>label<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="button">Button</h4>
<div class="paragraph"><p><code>Button</code> is a simple button, which responds to the click action.</p></div>
<div class="paragraph"><p>The properties of this component are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table"><code>Icon</code> attached to <code>Button</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Component&#8217;s text.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>iconTextGap</code></p></td>
<td align="left" valign="top"><p class="table">Gap between the text and the icon, in pixels.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>horizontalTextPositon</code></p></td>
<td align="left" valign="top"><p class="table">Horizontal position of the text in relation to
the icon: <code>HorizontalPosition.RIGHT</code>, <code>HorizontalPosition.LEFT</code>,
<code>HorizontalPosition.CENTER</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>verticalTextPosition</code></p></td>
<td align="left" valign="top"><p class="table">Vertical position of the text in relation to
the icon: <code>VerticalPosition.BOTTOM</code>, <code>VerticalPosition.TOP</code>,
<code>VerticalPosition.CENTER</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The specific component events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ActionEvent</code></p></td>
<td align="left" valign="top"><p class="table">Button click event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the Button,
which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> btn5 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text (optional), icon is an icon (optional), iconTextGap
is a gap between the icon and text (optional), actionPerformed is a
handler of the button clicking event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Click me"</span><span style="color: #990000">;</span>
btn1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Clicked!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>btn1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="togglebutton">ToggleButton</h4>
<div class="paragraph"><p><code>ToggleButton</code> is a button with two states: selected and not selected.</p></div>
<div class="paragraph"><p>This component looks like a standard button, but after a click action it
and it will stay in a toggled state. You can use this widget, for
example, when it is necessary to choose from the two options, but flags
or switches are not suitable.</p></div>
<div class="paragraph"><p>The list of <code>ToggleButton</code> widget properties is identical to the
<code>Button</code> widget properties, with the the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>buttonGroup</code></p></td>
<td align="left" valign="top"><p class="table">The button group this button belongs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selected</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the button is selected and <code>false</code> otherwise</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The specific component events:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ActionEvent</code></p></td>
<td align="left" valign="top"><p class="table">Button toggle event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the
ToggleButton constructor, which can be called with a different number of
parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> btn <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ToggleButton</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">,</span> selected<span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text, icon is an icon (optional), iconTextGap is a gap
between the icon and text, selected is set to <code>true</code>, if the button is
selected and <code>false</code> otherwise (optional), actionPerformed is a handler
function of the button clicking event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me on!"</span><span style="color: #990000">;</span>
btn1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">(</span>btn<span style="color: #990000">.</span>selected<span style="color: #990000">)</span>
        btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me off."</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
        btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me on!"</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>btn1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="checkbox">CheckBox</h4>
<div class="paragraph"><p><code>CheckBox</code> is a component with two states: selected/not selected.</p></div>
<div class="paragraph"><p>The specific component events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ActionEvent</code></p></td>
<td align="left" valign="top"><p class="table">The components state changing event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the CheckBox
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> cb <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CheckBox</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text (optional), icon is an icon (optional), selected is
set to <code>true</code>, when the check box is selected and <code>false</code> otherwise
(optional), actionPerformed is a handler function of the check box
switching event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
cb1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Check box 1"</span><span style="color: #990000">;</span>
cb1<span style="color: #990000">.</span>selected <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
cb1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  cb1<span style="color: #990000">.</span>selected <span style="color: #990000">&amp;&amp;</span> <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Check box 1 selected!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>cb1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="radiobutton">RadioButton</h4>
<div class="paragraph"><p><code>RadioButton</code> is a component with two states: selected/not selected.
Widgets of this type can be joined into groups. Only one widget of this
type can be selected in one group.</p></div>
<div class="paragraph"><p>The list of <code>RadioButton</code> widget properties is identical to the <code>Button</code>
widget properties, but it includes the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>buttonGroup</code></p></td>
<td align="left" valign="top"><p class="table">The button group this button belongs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table">The <code>Icon</code> for the widget</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selected</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the button is selected and <code>false</code> otherwise</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>See the description of the <code>Button</code> widget for the list of <code>RadioButton</code>
widget properties.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ActionEvent</code></p></td>
<td align="left" valign="top"><p class="table">Radio button state switching event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the RadioButton
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rb4 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is text (optional), `

    ` is set to `true` when the radio button is selected and `false`</code></pre>
</div></div>
<div class="paragraph"><p>otherwise (optional), `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the button switching handler function (optional).</code></pre>
</div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
rb1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Radio button 1"</span><span style="color: #990000">;</span>
rb1<span style="color: #990000">.</span>selected <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
rb1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
rb1<span style="color: #990000">.</span>selected <span style="color: #990000">&amp;&amp;</span> <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Radio button 1 selected!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>rb1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="buttongroup">ButtonGroup</h4>
<div class="paragraph"><p><code>ButtonGroup</code> is a special kind of a component without its own visual
representation. After adding to the form, the button group component
will be added to the Other components tree node on the inspector panel.</p></div>
<div class="paragraph"><p>The group of buttons enables the simultaneous selection of only one of
widgets belonging to the <code>ToggleButton</code>, <code>RadioButton</code>, and
<code>RadioMenuItem</code> types, for which the same button group is assigned. When
you select one of the widgets in the group, the other widgets will be
reset.</p></div>
<div class="paragraph"><p>Set the <code>buttonGroup</code> property for the supported components types. To do
this, select the appropriate button group from the property field list
on the properties panel.</p></div>
<div class="paragraph"><p>Use ButtonGroup constructor in your program:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> buttonGroup <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ButtonGroup</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To specify a <code>ButtonGroup</code> for a exclusive buttons, use component&#8217;s
buttonGroup property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>radioButton<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>As an alternative method to add child buttons to the <code>ButtonGroup</code>, use
the add method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>buttonGroup<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a button widget to add.</p></div>
<div class="paragraph"><p>After creating, add button widgets to the group:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rbA <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"A"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rbB <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"B"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">);</span>
rbA<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span>
rbB<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="textfield">TextField</h4>
<div class="paragraph"><p><code>TextField</code> is a simple component, which allows you to edit single line
of text.</p></div>
<div class="paragraph"><p>The properties of this component are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">The text for the widget.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>emptyText</code></p></td>
<td align="left" valign="top"><p class="table">The text displayed when the actual value is absent.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The specific component events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ActionEvent</code></p></td>
<td align="left" valign="top"><p class="table">Text input event: pressing the
Enter key</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the TextField
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tf2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the field text (optional).</code></pre>
</div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and event handlers and
add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>tf<span style="color: #990000">.</span>emptyText <span style="color: #990000">=</span> <span style="color: #FF0000">"Enter your name..."</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>rb1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="slider">Slider</h4>
<div class="paragraph"><p><code>Slider</code> is a component, which allows you to visually select a value by
moving the slider lever within the specified interval.</p></div>
<div class="paragraph"><p>The properties of this component are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>maximum</code></p></td>
<td align="left" valign="top"><p class="table">Maximum value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>minimum</code></p></td>
<td align="left" valign="top"><p class="table">Minimum value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>orientation</code></p></td>
<td align="left" valign="top"><p class="table">Horizontal or vertical orientation of the component:
<code>HORIZONTAL</code>, <code>VERTICAL</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>value</code></p></td>
<td align="left" valign="top"><p class="table">Value</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The specific component events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Slider movement termination
event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the Slider
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sl <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Slider</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the slider orientation, an object of the Orientation type</code></pre>
</div></div>
<div class="paragraph"><p>(optional), min is a minimum value (optional), max is a maximum value
(optional), value is the current value (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sl1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Slider</span></span><span style="color: #990000">(</span>Orientation<span style="color: #990000">.</span>HORIZONTAL<span style="color: #990000">);</span>
sl1<span style="color: #990000">.</span>minimum <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
sl1<span style="color: #990000">.</span>maximum <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">;</span>
sl1<span style="color: #990000">.</span>value <span style="color: #990000">=</span> <span style="color: #993399">50</span><span style="color: #990000">;</span>
s1l<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Slider moved."</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>sl1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="progressbar">ProgressBar</h4>
<div class="paragraph"><p><code>ProgressBar</code> is a component, which visually shows the progress of some
task.</p></div>
<div class="paragraph"><p>For example, during the execution of a task the percentage of its
completion may be displayed. In this case, set the minimum property
value to 0, maximum set the maximum property value to 100 and specify
the value when receiving new data on the progress of this task.</p></div>
<div class="paragraph"><p>If you have no information about the current task progress or such data
can&#8217;t be obtained, use the uncertainty mode, in which the indicator will
show that the task was started but is not completed yet instead of its
progress.</p></div>
<div class="paragraph"><p>The specific properties of this component are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>maximum</code></p></td>
<td align="left" valign="top"><p class="table">Maximum value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>minimum</code></p></td>
<td align="left" valign="top"><p class="table">Minimum value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>value</code></p></td>
<td align="left" valign="top"><p class="table">Value of progress</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Text displayed inside a progress bar</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type, use the ProgressBar constructor,
which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pb <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ProgressBar</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a minimum value (optional), `

    ` is a maximum value (optional).</code></pre>
</div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pb1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ProgressBar</span></span><span style="color: #990000">();</span>
pb1<span style="color: #990000">.</span>minimum <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
pb1<span style="color: #990000">.</span>maximum <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>pb1<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="formattedfield">FormattedField</h4>
<div class="paragraph"><p><code>FormattedField</code> is a component, which allows you to edit value of some
specific type as the text. So, a user sees just text and a program sees
a value of specific type e.g. date, number, boolean, string and etc.
Specify the set of characters, which will be considered acceptable to
enter in this field. Provide the value&#8217;s format and the widget&#8217;s value.
The value is converted into the required format before displaying.</p></div>
<div class="paragraph"><p>For example, you can configure the widget to enter some date some
predefined formats, and also set the custom format to enter strings.</p></div>
<div class="paragraph"><p>The <code>FormattedField</code> properties is identical to the <code>TextField</code> widget
properties, but it includes the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>format</code></p></td>
<td align="left" valign="top"><p class="table">Format string, check Java`java.util.Formatter` documentation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The formatted field is intended to display and enter values of a
particular type. The format of displaying and editing can vary only
within a given type. Therefore, when you programmatically create this
widget, you should specify a value determining the type, within which
this widget will work, before defining the format. After determining the
value type, the format can be changed if the new format will be suitable
for displaying and editing the values of this type.</p></div>
<div class="paragraph"><p>Use the format setting dialog to specify the format string in the visual
editor. Click the button in the format property field. Select a category
from the following: number, date, time, percentage, currency, and mask.
Select a predefined format for the selected category or specify the
custom one in the Format field.</p></div>
<div class="paragraph"><p>The specific component events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onActionPerformed</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Value input event: pressing the
Enter key.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the
FormattedField constructor, which can be called with a different number
of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> ff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FormattedField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> ff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FormattedField</span></span><span style="color: #990000">();</span>
ff<span style="color: #990000">.</span>value <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">();</span>
ff<span style="color: #990000">.</span>format <span style="color: #990000">=</span> <span style="color: #FF0000">"dd.MM.yyyy HH:mm:ss"</span><span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="passwordfield">PasswordField</h4>
<div class="paragraph"><p><code>PasswordField</code> is a simple input component, which allows you to edit
single line of text. It displays placeholders instead of actual
characters.</p></div>
<div class="paragraph"><p>The properties and events of <code>PasswordField</code> are identical to the
<code>TextField</code> widget.</p></div>
<div class="paragraph"><p>To create a component of this type in JavaScript code, use PasswordField
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pf <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PasswordField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is text (optional).</code></pre>
</div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pf <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PasswordField</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>pf<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="textarea">TextArea</h4>
<div class="paragraph"><p><code>TextArea</code> is the text component for editing and displaying multistring
text.</p></div>
<div class="paragraph"><p>The properties and events of <code>TextArea</code> are identical to the <code>TextField</code>
widget.</p></div>
<div class="paragraph"><p>To create a component of this type in JavaScript code, use TextArea
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextArea</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is text (optional).</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextArea</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>textArea<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="htmlarea">HtmlArea</h4>
<div class="paragraph"><p><code>HtmlArea</code> is a component for editing and displaying HTML documents.</p></div>
<div class="paragraph"><p>When showing a form in web-browser, the editor area is displayed as HTML
WYSIWYG editor.</p></div>
<div class="paragraph"><p>The properties and events of <code>HtmlArea</code> are identical to the <code>TextField</code>
widget.</p></div>
<div class="paragraph"><p>To create a component of this type in JavaScript code, use HtmlArea
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">HtmlArea</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is text (optional).</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> htmlArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">HtmlArea</span></span><span style="color: #990000">();</span>
htmlArea<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"&lt;p&gt;Sample text&lt;/p&gt;"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>htmlArea<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="model-widgets">Model widgets</h3>
<div class="paragraph"><p>Model widgets are components, which can interact with the data model and
respond to the model&#8217;s datasets events.</p></div>
<div class="paragraph"><p>You can bind a model widgets to any data model entity dataset (including
"parameters" entity). This dataset will change in response to the user
actions on the widgets and its changes will lead to automatic update of
data displayed on all bound widgets.</p></div>
<div class="paragraph"><p>Configure specific properties for binding to data model, using
properties in the Model binding category.</p></div>
<div class="paragraph"><p>Scalar model widgets represents a single dataset object and its specific
field. This data object is the object at the cursor position. Other more
complex model widgets as <code>ModelGrid</code> and <code>ModelMap</code> can represent
multiply objects in dataset and control the cursor in this dataset.</p></div>
<div class="paragraph"><p>Scalar model widgets have the following common properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>field</code></p></td>
<td align="left" valign="top"><p class="table">Bound model entity field.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>value</code></p></td>
<td align="left" valign="top"><p class="table">The current value for the component.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Scalar model widgets common events are listed in the following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameter </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onSelect</code></p></td>
<td align="left" valign="top"><p class="table">The <code>aEditor</code> object is the source component, is passed to
the event handler as a parameter, specify the value of the component by
setting its properties.</p></td>
<td align="left" valign="top"><p class="table">Occurs when the select button, located next to
the component, is clicked. The select button is displayed only if the
handler is defined.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onRender</code></p></td>
<td align="left" valign="top"><p class="table"><code>RenderEvent</code></p></td>
<td align="left" valign="top"><p class="table">Occurs when preparing the widget for
displaying (both when it is used independently or as a <code>ModelGrid</code>
widget cell). This event is cancelable: return <code>true</code> in its handler
function to apply rendering and <code>false</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Any model widget can be presented as an independent component and as a
<code>ModelGrid</code> widget cell. There is an "abstract" cell in each model
widget. It is available in the <code>onRender</code> event handlers.</p></div>
<div class="paragraph"><p><code>RenderEvent</code> object specific propetries are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>id</code></p></td>
<td align="left" valign="top"><p class="table">The primary key of the data object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cell</code></p></td>
<td align="left" valign="top"><p class="table">The "abstract" cell.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>For such a <code>cell</code>, the following properties are defined:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>display</code> is the displayed text.
</p>
</li>
<li>
<p>
<code>style</code> is the <code>Style</code> of displaying.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Model widgets also have the same basic properties and event as standard
widgets. It is not recommended to specify handlers of low-level events
(keyboard, mouse movement events, etc.) for model widgets.</p></div>
<div class="paragraph"><p>The following example illustrates how to use <code>onSelect</code> event:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Shows custom selector dialog and sets</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * the cell's editor's value.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">buttonOnSelect</span></span><span style="color: #990000">(</span>aEditor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> selector <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PetSelector</span></span><span style="color: #990000">();</span>
  selector<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">showModal</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    aEditor<span style="color: #990000">.</span>value <span style="color: #990000">=</span> selector<span style="color: #990000">.</span>pet<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p><code>onRender</code> event usage example is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Renders a cell with complex data</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">entityOnRender</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> txt <span style="color: #990000">=</span> <span style="color: #FF0000">''</span><span style="color: #990000">;</span>
    categories<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span>categories<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>CAT_ID<span style="color: #990000">,</span> evt<span style="color: #990000">.</span>id<span style="color: #990000">)</span>
        <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aDoc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
           <span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">(</span>txt<span style="color: #990000">.</span>length <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            txt <span style="color: #990000">+=</span> <span style="color: #FF0000">' '</span><span style="color: #990000">;</span>
           <span style="color: #FF0000">}</span>
          txt <span style="color: #990000">+=</span> aCat<span style="color: #990000">.</span>NAME <span style="color: #990000">?</span> aDoc<span style="color: #990000">.</span>NAME <span style="color: #990000">:</span> <span style="color: #FF0000">''</span><span style="color: #990000">;</span>
          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
    evt<span style="color: #990000">.</span>cell<span style="color: #990000">.</span>display <span style="color: #990000">=</span> txt<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="sect3">
<h4 id="modelcheck">ModelCheck</h4>
<div class="paragraph"><p><code>ModelCheck</code> is a scalar model widget representing a check box, the
state of which is linked to an entity&#8217;s field of a Boolean, Number, or
String type.</p></div>
<div class="paragraph"><p>The data of various types is displayed as boolean data by this widget.
Data types conversion rules are as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Widget&#8217;s value is displayed as <code>true</code> when actual data is the
following values: Boolean type: <code>true</code>, Number type: any number other
than <code>0</code> or <code>null</code>, String type: any string other than empty and <code>null</code>.
</p>
</li>
<li>
<p>
Widget&#8217;s <code>true</code> value is converted to various types as follows:
Boolean: <code>true</code>, Number type: <code>1</code>, String type: <code>'true'</code>.
</p>
</li>
<li>
<p>
Widget&#8217;s <code>false</code> value is converted to various types as follows:
Boolean type: <code>false</code>, Number type: 0, String type: an empty string.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To configure the widget model binding specifiy the field property for
the component, select a parameter or a data model entity&#8217;s field in the
data model field selection form.</p></div>
<div class="paragraph"><p>To create a component of this type by program means, use the
ModelCheckBox constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelCheck <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelCheckBox</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelCheck<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>fieldA<span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelCheck<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modelcombo">ModelCombo</h4>
<div class="paragraph"><p><code>ModelCombo</code> is a scalar model widget representing a combo box that is
bound to some data model field. This widget uses other two fields of an
entity to generate visual representation and syncronise it to the value.
As other model widgets, it holds and edits model&#8217;s value and displays
some other looked up value. It also allows you to select a value from a
list. List items are also looked up while displaying.</p></div>
<div class="paragraph"><p><code>ModelCombo</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>valueField</code></p></td>
<td align="left" valign="top"><p class="table">Value field of the component.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>displayField</code></p></td>
<td align="left" valign="top"><p class="table">Display field of the component.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>list</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to allow selection from drop-down list and <code>false</code>
otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the widget model binding:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the field property for the component. Select a parameter or a
data model entity field.
</p>
</li>
<li>
<p>
Specify the value field, i.e. the field, the values from which will be
compared with the values of the list items, to do this, use the
valueField property. Select a data model parameter or some entity field.
The entity for this field must be the same as for displayField property,
but different from the one specified for the <code>field</code> property.
</p>
</li>
<li>
<p>
Set the display field, i.e. a field, the values from which will be
shown to the user. Use thedisplayField property. Select a data model
parameter or a data model entity field. The entity for this field must
be the same as for displayField property, but different from the one
specified for the <code>field</code> property.
</p>
</li>
<li>
<p>
To allow selection of value from the list, enable the list property
checkbox.
</p>
</li>
<li>
<p>
To allow a customized selection of the widget&#8217;s value, specify
<code>onSelect</code> event handler.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a component of this type by program means, use the ModelCombo
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelCombo <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelCombo</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Specify value field as a model parameter:</span></span>
modelCombo<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>paramA<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//Lookup fields:</span></span>
modelCombo<span style="color: #990000">.</span>valueField <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityB<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>id<span style="color: #990000">;</span>
modelCombo<span style="color: #990000">.</span>displayField <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityB<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>name<span style="color: #990000">;</span>

view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelCombo<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modeldate">ModelDate</h4>
<div class="paragraph"><p><code>ModelDate</code> is a scalar model widget representing a date and bound to
some date or timestamp field in the model.</p></div>
<div class="paragraph"><p><code>ModelDate</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>editable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the date is editable and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>expanded</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to show calndar panel and <code>false</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the widget model binding:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the field property. Select a parameter or a data model entity
field in the form for selecting a data model entity field.
</p>
</li>
<li>
<p>
Configure the date and time format by selecting from the drop-down
list.
</p>
</li>
<li>
<p>
Enable the expanded flag to display the calendar in an expanded form.
To ensure that the widget is displayed correctly, set its dimensions
according to its full-scale view.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a component of this type by program means, use the ModelDate
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelDate <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelDate</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelDate<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>dateField<span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>editable <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelDate<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modelgrid">ModelGrid</h4>
<div class="paragraph"><p><code>ModelGrid</code> model widget is a powerful widget to display and enter data,
which is presented in a tabular form and as a tree. <code>ModelGrid</code> widget
is the most powerful UI component.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>At the current version of the platfom you can create and setup an
instance of <code>ModelGrid</code> only using visual editor.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p><code>ModelGrid</code> component has the following features:</p></div>
<div class="ulist"><ul>
<li>
<p>
Entity&#8217;s data representation as a columns and rows.
</p>
</li>
<li>
<p>
Data cells editing, inserting new and deleting rows.
</p>
</li>
<li>
<p>
Fixed non-scrollable rows and/or columns.
</p>
</li>
<li>
<p>
Service column with the cursor pointer.
</p>
</li>
<li>
<p>
Entity&#8217;s data scrolling and cursor positioning.
</p>
</li>
<li>
<p>
Expandable dynamic columns.
</p>
</li>
<li>
<p>
Tree view of hierarchical data.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>ModelGrid</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Layout </th>
<th align="left" valign="top">JS </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>border</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">The component&#8217;s border.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fixedColumns</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The number of the fixed grid columns.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fixedRows</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The number of the fixed grid rows.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>gridColor</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The <code>Color</code> of the grid.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>oddRowsColor</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The <code>Color</code> of the grid&#8217;s odd rows.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>rowsHeaderType</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The service column&#8217;s type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>rowsHeight</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The height of the grid&#8217;s rows.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showHorizontalLines</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to show horizontal lines and
<code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showVerticalLines</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to show vertical lines and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>showOddRowsInOtherColor</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to show odd rows in the
different color and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>deletable</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to enable rows delete operation for the grid
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>editable</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to enable cells edit operation for the grid
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>insertable</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to enable rows insert operation for the grid
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>entity</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">The bounded model entity for
the grid.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>param2GetChildren</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See tree option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>paramSourceField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See tree option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>unaryLinkField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See tree option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cells</code></p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">All grid cells as an array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selectedCells</code></p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">All selected grid cells
as an array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>columns</code></p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">Grid columns as an array.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure <code>ModelGrid</code> properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
To select the model entity for the component use the entity property
under the Model binding propetries group. To delete the binding, clear
the entity field.
</p>
</li>
<li>
<p>
Use the fixedColumns and fixedRows properties in the Apperance
properties group to freeze the required number of columns on the left
and/or rows on the top of the grid.
</p>
</li>
<li>
<p>
Configure the rowsHeaderType property to define appearance of the rows
header. It has the following options: None — the service column is not
displayed, Usual — the service column is displayed with the cursor icon,
Check box — a check box control, which allows you to select multiple
rows, Radio button — to show a radio button control, which allows you to
select only one row of the grid.
</p>
</li>
<li>
<p>
Use the <code>onRender</code> event handler, which will be called for each data
grid cell, if a similar handler was not defined for their columns.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>ModelGridColumn</code> has the following properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Layout </th>
<th align="left" valign="top">JS </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>enabled</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the column is
enabled and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fixed</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the column is fixed
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>readonly</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> the column is in a read-only mode and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selectOnly</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> the column is in a
select-only mode and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>title</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The column&#8217;s title string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>expandable</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>visible</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table"><code>true</code> the column is visible and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>width</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">The column&#8217;s width in pixels.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>background</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">The header style background
color.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>font</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">The header style font.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>field</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">Model entity&#8217;s field bound to
this column.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>columnsEntity</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>columnsDisplayField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable
option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellsEntity</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellsValueField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellsColumnKeyField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable
option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>rowsKeyField</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>substitute</code></p></td>
<td align="left" valign="top"><p class="table">•</p></td>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table">See expandable option.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>&#8216;ModelGrid` has ability to change it&#8217;s cells&#8217; display style and to
select values using custom editors while editing cells. In order to use
these features, define <code>onRender</code> and <code>onSelect</code> event handlers in
particular columns. If <code>onRender</code> event handler is defined on a column,
it will be ivoked rather than similar event handler, defined on
<code>ModelGrid</code>. Refer to <a href="#mwidgets">Model Widgets</a> section to read
about how to deal with <code>onRender</code> and <code>onSelect</code> event handlers.</p></div>
<div class="paragraph"><p>Use the form inspector: the inspector displays the grid&#8217;s columns node
as children of <code>ModelGrid</code> component node and allows you to edit them.</p></div>
<div class="paragraph"><p>To add, remove and configure grid columns:</p></div>
<div class="ulist"><ul>
<li>
<p>
To fill all <code>ModelGrid</code> columns corresponding to the fields of the
linked data model entity, select Fill columns — in this case, link to
the entity fields will be performed automatically.
</p>
</li>
<li>
<p>
To manually add a column to <code>ModelGrid</code> drag it from the components
palette or add it using Add from palette Model-aware controls Model grid
columncontext menu item in form inspector.
</p>
</li>
<li>
<p>
To add a column as a child to another column use parent column&#8217;s node
Add from palette Model-aware controls Model grid column context menu
item in form inspector.
</p>
</li>
<li>
<p>
Move the selected columns up and down using the Move up, Move down or
Change Order context menu items or by draggining it by mouse.
</p>
</li>
</ul></div>
<div class="paragraph"><p>In standard mode a column represents entity&#8217;s field data. To configure
the column in standard mode:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the bound entity&#8217;s field, to which the column should be
linked. To do this, use the field property and select a field from the
bound entity.
</p>
</li>
<li>
<p>
Define a widget, which will be used for displaying in the column
cells. Select its type from the view context menu of the column&#8217;s node
in the inpector. The choices will be compatible with the type of the
linked entity field. Set the properties of the corresponding widget (see
the corresponding sections for the description of the model widget
setting procedure).
</p>
</li>
</ul></div>
<div class="paragraph"><p>In expanded mode, a column can contain an arbitrary number of child
columns. Their combination can be changed dynamically at runtime.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/expandableTables.png" alt="Expandable columns data tables" />
</span></p></div>
<div class="paragraph"><p><span class="image">
<img src="images/expandableResult.png" alt="Expandable column result grid" />
</span></p></div>
<div class="paragraph"><p>The combination of dynamic children columns is determined by a special
column entity in the data model. Values for the child column cells are
determined by another cell entity, the objects of which also contain
references to objects in the main entity (grid&#8217;s rows source) and to the
column entity objects.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/gridFilpColumnsDatasource.png" alt="Expandable column entities" />
</span></p></div>
<div class="paragraph"><p>Use the following <code>ModelGridColumn</code> propeties to configure an expandable
column:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>expandable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the column is in a expanded mode and <code>false</code>
otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>substitute</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> to hide the parent column and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>columnsEntity</code></p></td>
<td align="left" valign="top"><p class="table">Columns entity representing data to form columns.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>columnsDisplayField</code></p></td>
<td align="left" valign="top"><p class="table">The field in Columns entity for dynamic columns
titles.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellsEntity</code></p></td>
<td align="left" valign="top"><p class="table">Cells entity.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellValueField</code></p></td>
<td align="left" valign="top"><p class="table">The value field in Cells entity.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellColumnKeyField</code></p></td>
<td align="left" valign="top"><p class="table">The field in Cells entity refering to the primary
key in Columns entity.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cellRowKeyField</code></p></td>
<td align="left" valign="top"><p class="table">The field in Cells entity refering to the primary
key in Main entity.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The widget can be configured to display a tree structure in the first
column on the left (next to the service column). Other columns in this
grid are displayed as usual.</p></div>
<div class="paragraph"><p>To show a tree we need an entity, which contains a field referring to
some other field, thus forming a hierarchical data structure.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/gridTree.png" alt="Hierarchical data dataset" />
</span></p></div>
<div class="paragraph"><p>A tree structure in the grid can function in two modes:</p></div>
<div class="ulist"><ul>
<li>
<p>
The simple mode, in which all tree levels are loaded by a single
query.
</p>
</li>
<li>
<p>
The lazy mode, in which each level is loaded as the nodes are
expanded.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>The simple tree operation mode is acceptable only for small sets of
data, since in this mode all tree elements are requested simultaneously
and it can lead to the performance problems and slow user interface. For
large data sets, use the lazy tree operation mode.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To configure a tree in the simple mode:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify a value for the <code>unaryLinkField</code> property. For this property
select the link source field, which is responsible for hierarchical
relationships, in the example figure above it is the <code>ParentID</code> field.
To remove the selection, clear the property.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Important</strong></p></div>
<div class="paragraph"><p>The link source field should be in the same data set as configured as
the grid&#8217;s rows source.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To use a lazy tree grid, create an entity based on a query, which
returns child elements by the parent identifier passed as a parameter,
for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> LazyTree</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> tree_table t
<span style="font-weight: bold"><span style="color: #0000FF">WHERE</span></span> t<span style="color: #990000">.</span>PARENT_ID <span style="color: #990000">=</span> <span style="color: #990000">:</span>parentId
<span style="font-weight: bold"><span style="color: #0000FF">OR</span></span> <span style="color: #990000">(:</span>parentId <span style="font-weight: bold"><span style="color: #0000FF">IS</span></span> <span style="font-weight: bold"><span style="color: #0000FF">NULL</span></span> <span style="font-weight: bold"><span style="color: #0000FF">AND</span></span> t<span style="color: #990000">.</span>PARENT_ID <span style="font-weight: bold"><span style="color: #0000FF">IS</span></span> <span style="font-weight: bold"><span style="color: #0000FF">NULL</span></span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>To configure lazy tree for <code>ModelGrid</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify <code>unaryLinkField</code> property. For this property select the link
source field, which is responsible for hierarchical relationships, in
the example figure above it is the <code>ParentID</code> field.
</p>
</li>
<li>
<p>
Set <code>param2GetChildren</code> property. Select the entity&#8217;s parameter that
is responsible for fetching child records. In the code snippet above
this corresponds to <code>:parentId</code> parameter.
</p>
</li>
<li>
<p>
Set <code>paramSourceField</code> property. Select the field that will be used as
a source for the parameter to get child records. The field&#8217;s value will
provided to the parameter specified by <code>param2GetChildren</code> property. In
the example above this property should be set to <code>ID</code> primary key field.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="modelimage">ModelImage</h4>
<div class="paragraph"><p><code>ModelImage</code> is a scalar model widget to display an image. The state of
this component is linked to a field of the data model, which contains
binary data of the image in one of the following formats: GIF, JPEG,
PNG. This field usually corresponds to the BLOB type in the database.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>In the current Platypus Platform version, this component is supported
only in the J2SE client.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p><code>ModelImage</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>editable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the image is editable and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>plain</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if image is displayed with real dimensions and not
scaled. If true, the image is not fitted by its size and can&#8217;t be scaled
with the mouse wheel and <code>false</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the widget:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the entity property for the component, using the field property on
the properties panel; select the data model parameter or data model
entity property in the dialog.
</p>
</li>
<li>
<p>
Set the <code>plain</code> property to prevent image scaling.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To upload an image or other binary file into the database, open the file
selection dialog in the component selection event handler. In the
handler, assign a file byte array to the <code>value</code> property of the
ModelImage control. Then the contents of the file be added to the
control and the corresponding entity field will be changed. If you later
request saving of the <code>model.save()</code> model, the file contents will by
saved by the model in usual way.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>modelImage<span style="color: #990000">.</span>onSelect <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aEditor<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">selectFile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">functon</span></span> <span style="color: #990000">(</span>file<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      aEditor<span style="color: #990000">.</span>value <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">readFile</span></span><span style="color: #990000">(</span>file<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To create a component of this type by program means, use the ModelImage
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelImage <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelImage</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelImage<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>images<span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelImage<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modelformattedfield">ModelFormattedField</h4>
<div class="paragraph"><p><code>ModelFormattedField</code> is a scalar model widget, the state of which is
linked to a field of the data model string or number type. The widget
can be used to display and enter text. You can apply specified
formatting to the displayed value and impose restrictions on entered
data.</p></div>
<div class="paragraph"><p><code>ModelFormattedField</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>format</code></p></td>
<td align="left" valign="top"><p class="table">Format string, check Java`java.util.Formatter` documentation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the widget:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the entity property for the component, using the field property on
the properties panel; select the data model parameter or data model
entity property in the dialog.
</p>
</li>
<li>
<p>
If necessary, set handlers for selection and data changing events.
</p>
</li>
<li>
<p>
Configure the format of displaying by setting a value for the format
property; see the section dedicated to the FormattedField widget for
information on using this property.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a component of this type by program means, use the
ModelFormattedField constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> mff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelFormattedField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to a container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
mff<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>dateField<span style="color: #990000">;</span>
mff<span style="color: #990000">.</span>format <span style="color: #990000">=</span> <span style="color: #FF0000">"dd.MM.yyyy HH:mm:ss"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>mff<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modeltextarea">ModelTextArea</h4>
<div class="paragraph"><p><code>ModelTextArea</code> is a scalar model widget, the state of which is linked
to a field of the data model of string or number type. The widget can be
used to display and enter text.</p></div>
<div class="paragraph"><p><code>ModelTextArea</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>editable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the text is editable and <code>false</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the widget:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the entity property for the component, using the field property on
the properties panel; select the data model parameter or data model
entity property in the dialog.
</p>
</li>
<li>
<p>
If necessary, set handlers for selection and data changing events.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a component of this type by program means, use the
ModelTextArea constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> mta <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelTextArea</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
mta<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityB<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>textField<span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>mta<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modelmap">ModelMap</h4>
<div class="paragraph"><p><code>ModelMap</code> widget is used to display a map and objects on it. This
widget displays a map by loading bitmap tiles from the network using a
given URL. An arbitrary number of layers are imposed upon the map to
display objects.</p></div>
<div class="paragraph"><p>The map component allows you to position the map, change its scale, turn
layers on and off, select objects, etc.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>In the current Platypus Platform version, this widget is supported only
in the J2SE desktop client.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Coordinates and shapes of the displayed objects should be presented
using the "Geometry" data type. The layer entity should contain one
column of the "Geometry" type and an arbitrary number of columns
containing additional attributes.</p></div>
<div class="paragraph"><p>Each layer should have an assigned entity, which contains information
about objects. One entity can be linked with one or more layers. If the
entity is linked with several layers, a field with information about
entity instance belonging to the layer should be defined. In this case,
each layer should have its own identifier for this field. A layer
identifier must be a positive integer.</p></div>
<div class="paragraph"><p><code>ModelMap</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>backingUrl</code></p></td>
<td align="left" valign="top"><p class="table">URL for tiles source.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To configure the map:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the map title by filling out the Title field.
</p>
</li>
<li>
<p>
Link the data model parameter to the map scale: to do this, click the
select button next to the Zoom factor parameter field, on the form for
selecting a data model field choose the data model parameter; to remove
the parameter link, click the clear button.
</p>
</li>
<li>
<p>
Provide a description of the coordinate system used by the map in the
well known text format (WKT). To do this, fill out the Geographic CRS
WKT field. This text should also contain projected <code>CRS</code> definition.
</p>
</li>
<li>
<p>
Specify the map event handler by filling out the Map event listener
field — an event handler will be created.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The backingURL and Geographic CRS WKT values are specific for map tiles
providers, such as Open Street Map:</p></div>
<div class="ulist"><ul>
<li>
<p>
An example of value for
backingURL:<code>http://%s.tile.openstreetmap.org/%d/%d/%d.png</code>
</p>
</li>
<li>
<p>
An example of value for Geographic CRS WKT:
<code>PROJCS["WGS 84 / World Mercator",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.01745329251994328,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],UNIT["metre",1,AUTHORITY["EPSG","9001"]],PROJECTION["Mercator_1SP"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],AUTHORITY["EPSG","3395"],AXIS["X",EAST],AXIS["Y",SOUTH]]</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a component of this type by program means, use the ModelMap
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelMap <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelMap</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelMap<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="modelspin">ModelSpin</h4>
<div class="paragraph"><p><code>ModelSpin</code> is a scalar model widget, the state of which is linked to a
field of a data model entity of number type. One can input numbers
either from the keyboard or using buttons to increase/decrease values.</p></div>
<div class="paragraph"><p><code>ModelSpin</code> widget has the following specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>editable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the component is editable and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>min</code></p></td>
<td align="left" valign="top"><p class="table">Determines the lower bound of spinner&#8217;s value. If it&#8217;s <code>null</code>,
valus is unlimited at lower bound.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>max</code></p></td>
<td align="left" valign="top"><p class="table">The upper bound of spinner&#8217;s value. If it&#8217;s <code>null</code>, valus is
unlimited at upper bound.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>step</code></p></td>
<td align="left" valign="top"><p class="table">The spinner&#8217;s value change step. Can&#8217;t be <code>null</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>emptyText</code></p></td>
<td align="left" valign="top"><p class="table">The text displayed when the actual value is absent.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the ModelSpin
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelSpin <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelSpin</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and component event
handlers and add the component to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelSpin<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityC<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>fieldC<span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelSpin<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="containers">Containers</h3>
<div class="paragraph"><p>Containers are components, which can contain other components e.g.
widgets or other containers and control their child components size and
location.</p></div>
<div class="paragraph"><p>Containers are represented as panel component with specific layout in
the visual editor.</p></div>
<div class="paragraph"><p>The layout of a panel can be changed using the editor. At runtime, panel
with particular layout will be replaced by the corresponding container.</p></div>
<div class="paragraph"><p>Containers have a set of properties and events common for all components
as well as their own specific properties and events.</p></div>
<div class="paragraph"><p>The common methods for all containers:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Method </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>remove(сomponent)</code></p></td>
<td align="left" valign="top"><p class="table">Removes a child component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>child(index)</code></p></td>
<td align="left" valign="top"><p class="table">Returns a child component by its numeric index</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>clear()</code></p></td>
<td align="left" valign="top"><p class="table">Removes all child components</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The common property all containers:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>сount</code></p></td>
<td align="left" valign="top"><p class="table">The number of child components (read-only)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="anchorspane">AnchorsPane</h4>
<div class="paragraph"><p><code>AnchorsPane</code> is a lightweight container with the anchors layout.</p></div>
<div class="paragraph"><p>Anchors layout provides a simple, flexible yet powerful layout
algorithm, which allows you to build complex user interfaces.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/anchorLayout.png" alt="Anchor layout: anchors and component&#8217;s width and height dimensions" />
</span></p></div>
<div class="paragraph"><p>Configure the position and behavior of a widget in the container by
defining Left, Top, Right, Bottom anchors and Width and Height settings
of the component. You can specify two of the three properties by the
horizontal and vertical axis.</p></div>
<div class="paragraph"><p>Аt the same time can be set two anchors or one anchor and one dimension
values. The set properties are fixed and maintained when changing
dimensions of the container. If the property is not defined, it is
stretched along with the dimensions of the container.</p></div>
<div class="paragraph"><p>Use AnchorsPane constructor in form&#8217;s JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child components to the container, use the add method and pass a
child component and object of the Anchors type as parameters to this
method.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add, anchors is an object of the
Anchors type.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(</span><span style="color: #993399">12</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span> <span style="color: #993399">14</span><span style="color: #990000">,</span> <span style="color: #993399">22</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span> <span style="color: #993399">24</span><span style="color: #990000">));</span></tt></pre></div></div>
<div class="paragraph"><p>In the above example a button with the specified Left, Right, Top, and
Bottom anchors is added to the anchor pane.</p></div>
<div class="paragraph"><p><code>Anchors</code> object defines component&#8217;s binding anchors in a container with
anchors layout.</p></div>
<div class="paragraph"><p>To create an <code>Anchors</code> object, use its constructor by passing values for
the corresponding anchor as parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> anchors <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">,</span>
            <span style="color: #990000">,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where left is a left anchor, width is width, right is a right anchor,
top is a top anchor, height is height, bottom is a bottom anchor.</p></div>
<div class="paragraph"><p>Each anchor can be specified in pixels; to do this, define an anchor
using a number or string with the " <code>px</code>" symbols added, for example:
<code>100</code>, "<code>100px</code>". To specify an anchor in percents, define an anchor
using a string with the "<code>%</code>" symbol added, for example: "<code>30%</code>".</p></div>
<div class="paragraph"><p>According to the rules of anchor layout, you can define two anchor
values per coordinate.</p></div>
<div class="paragraph"><p>If the anchor value is not set, pass the <code>null</code> value to the
corresponding parameter, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> anchors <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="color: #993399">200</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span>
            <span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> panel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
panel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Test"</span><span style="color: #990000">),</span> anchors<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>There&#8217;s also alternative syntax for adding a child component: pass the
JavaScript object with the left, width, right, top, height, bottom
properties as a second parameter to the add method. An example of code
with the same execution results:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span>
  <span style="color: #FF0000">{</span>
    left <span style="color: #990000">:</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    right <span style="color: #990000">:</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    top <span style="color: #990000">:</span> <span style="color: #993399">22</span><span style="color: #990000">,</span>
    bottom <span style="color: #990000">:</span> <span style="color: #993399">24</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="borderpane">BorderPane</h4>
<div class="paragraph"><p><code>BorderPane</code> is a lightweight container with the border layout.</p></div>
<div class="paragraph"><p>Border layout is a simple way of arranging components, when a container
changes the position and dimensions of its components to the fit five
regions: northern, southern, western, eastern and center. Each area can
contain only one component, which is determined by one of the following
constants: North, South, East, West, Center.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/borderLayout.png" alt="Border layout" />
</span></p></div>
<div class="paragraph"><p>Explicitly set the value of the property, which controls the position of
the component in the container. To do this, change widget Direction
property fields at the Layout property group, by selecting one of the
values from the drop-down list.</p></div>
<div class="paragraph"><p>Use BorderPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BorderPane</span></span><span style="color: #990000">(</span>hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <code>hgap</code> is the horizontal gap (optional) and <code>vgap</code> is the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child components to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add, place is an instance of a
<code>HorizontalPosition</code> or <code>VerticalPosition</code> constants, determining the
region (optional) and size is the size of the component by the provided
place direction (optional).</p></div>
<div class="paragraph"><p>The following example shows how to create a <code>BorderPane</code> container and
add to this container two child components:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BorderPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> topComp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Top"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>topComp<span style="color: #990000">,</span> VerticalPosition<span style="color: #990000">.</span>TOP<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> bottomComp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Bottom"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>bottomComp<span style="color: #990000">,</span> VerticalalPosition<span style="color: #990000">.</span>BOTTOM<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="asolutepane">AsolutePane</h4>
<div class="paragraph"><p><code>AbsolutePane</code> is a lightweight container with the absolute positioning,
e.g. without layout rules.</p></div>
<div class="paragraph"><p>The absolute layout positons child components using its explicit
position and dimensions.</p></div>
<div class="paragraph"><p>It is generally not recommended to use this layout, because when
changing the dimensions of the container, the position of its components
is not changed or you&#8217;ll have to recalculate positions and sizes by your
program. However, in some cases, using this layout makes sense, for
example, when creating a simple animation.</p></div>
<div class="paragraph"><p>Set X, Y, width and height parameters for each component in the
container. To do this, select a component and set values for the X, Y,
Width and Height fields on the properties panel in the Layout properties
group. The Preferred value allows you to set the automatic calculation
of width and height of the components according to their content.</p></div>
<div class="paragraph"><p>Use AbsolutePane constructor to create this container in JavaScript
code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AbsolutePane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child components to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add and pos is an JavaScript object
with the <code>left</code>, <code>width</code>, <code>top</code>, <code>height</code> properties.</p></div>
<div class="paragraph"><p>The following example shows how to create an <code>AbosolutePane</code> container
and add to this container to the components tree:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AboslutePane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">{</span>
    left <span style="color: #990000">:</span> <span style="color: #993399">100</span><span style="color: #990000">,</span>
    right <span style="color: #990000">:</span> <span style="color: #993399">150</span><span style="color: #990000">,</span>
    width <span style="color: #990000">:</span> <span style="color: #993399">32</span><span style="color: #990000">,</span>
    height <span style="color: #990000">:</span> <span style="color: #993399">32</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="gridpane">GridPane</h4>
<div class="paragraph"><p><code>GridPane</code> is a lightweight container with the grid layout. It is
intended for static UI designs.</p></div>
<div class="paragraph"><p><code>GridPane</code> lays components out by the grid, all columns must have the
same width and all rows must have the same height.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/gridLayout.png" alt="Grid Layout — arranging by a grid" />
</span></p></div>
<div class="paragraph"><p>To set the number of columns and rows and the vertical and horizontal
interval between cells, select the GridLayout node in the component tree
of the inspector and change the corresponding values on the properties
panel.</p></div>
<div class="paragraph"><p>If you set a value other than zero for the number of columns and rows,
column number setting is ignored. Instead of this, the number of columns
is determined by the number of rows and the total number of components
in the container.</p></div>
<div class="paragraph"><p>Use GridPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GridPane</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where rows is the number of grid rows, cols is the number of grid
columns, hgap is the horizontal gap (optional) and vgap vgap the
vertical gap (optional).</p></div>
<div class="paragraph"><p>To add child components to the container, use add instance method, which
adds a component to the next avaliable position:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add.</p></div>
<div class="paragraph"><p>Use <code>child</code> method to get an child component at the specified row and
column, if the target position is empty the method will return <code>null</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">child</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where row is the row of the component and column is the column of the
grid position.</p></div>
<div class="paragraph"><p>The following example shows how to create an <code>GridPane</code> container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GridPane</span></span><span style="color: #990000">(</span><span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"1"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"2"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"3"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp1<span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp2<span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp3<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="flowpane">FlowPane</h4>
<div class="paragraph"><p><code>FlowPane</code> is a lightweight container with the flow layout.</p></div>
<div class="paragraph"><p>Flow layout aligns components into a row/line. Dimensions of the
components are calculated according to their content (component
preferences). If the component doesn&#8217;t fit into a row, it is transferred
to the next line.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/flowLayout.png" alt="Flow Layout — arranging into a line" />
</span></p></div>
<div class="paragraph"><p>Use FlowPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FlowPane</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child components to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add.</p></div>
<div class="paragraph"><p>The following example shows how to create an <code>FlowPane</code> container and
add this container to its parent container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FlowPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="cardpane">CardPane</h4>
<div class="paragraph"><p><code>CardPane</code> is a lightweight container with the card layout.</p></div>
<div class="paragraph"><p>Card layout allows you to arrange components as a stack of cards, one
above the other; only the top component is visible. This layout manager
is usually used to create a step-by-step wizard.</p></div>
<div class="paragraph"><p>Each component has an assigned card name, which can be set on the
component properties panel in the Card Name field of the Layout
properties group. This name can be used later to select a visible
component.</p></div>
<div class="paragraph"><p>To select a visible component, use show(cardName) method, where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the card name.</code></pre>
</div></div>
<div class="paragraph"><p>Use CardPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CardPane</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child components to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add and cardName is the name of the
card.</p></div>
<div class="paragraph"><p>The following example shows how to create an <code>FlowPane</code> container and
add this container to the components tree:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CardPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compA <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleA"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"A"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compB <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleB"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"B"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compC <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleC"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"C"</span><span style="color: #990000">);</span>

pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"B"</span><span style="color: #990000">);</span><span style="font-style: italic"><span style="color: #9A1900">//Shows the SampleB button</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="boxpane">BoxPane</h4>
<div class="paragraph"><p><code>BoxPane</code> is a lightweight container with the box layout.</p></div>
<div class="paragraph"><p>The box layout arranges components in the order, in which they were
added to the container, one after the other, back to back.</p></div>
<div class="paragraph"><p>Specify an axis, along which the Box layout manager will arrange
components. For this select the BoxLayout node in the inspector
component tree and select the Axis property value from the list on the
properties panel:</p></div>
<div class="ulist"><ul>
<li>
<p>
HORIZONTAL for components are laid out horizontally from left to
right.
</p>
</li>
<li>
<p>
VERTICAL for components are laid out vertically from top to bottom.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Use BoxPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BoxPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Where orientation is a value of <code>Orientation.HORIZONTAL</code> or
<code>Orientation.VERTICAL</code> constants (optional). By default
<code>Orientation.HORIZONTAL</code> orientation is specified.</p></div>
<div class="paragraph"><p>To add child components to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add.</p></div>
<div class="paragraph"><p>The following example shows how to create an <code>BoxPane</code> instance and add
a component to this container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BoxPane</span></span><span style="color: #990000">(</span>Orientation<span style="color: #990000">.</span>VERTICAL<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="tabbedpane">TabbedPane</h4>
<div class="paragraph"><p><code>TabbedPane</code> component allows the user to switch between a group of
components by clicking tabs with titles and icons.</p></div>
<div class="paragraph"><p>Component&#8217;s specific properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>selectedComponent</code></p></td>
<td align="left" valign="top"><p class="table">Active tab&#8217;s component</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selectedComponentIndex</code></p></td>
<td align="left" valign="top"><p class="table">Active tab index</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Component&#8217;s specific events:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Event type </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onStateChanged</code></p></td>
<td align="left" valign="top"><p class="table"><code>ComponentEvent</code></p></td>
<td align="left" valign="top"><p class="table">Tab switching event</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the TabbedPane
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TabbedPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child components to the container, use the add method and pass a
child component as well as a tab title and an optional icon setting as
parameters to this method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component to add, text is the tab&#8217;s label text,
icon is the tab&#8217;s label icon (optional).</p></div>
<div class="paragraph"><p>An example of code using the <code>TabbedPane</code> container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TabbedPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tab1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tab2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>tab1<span style="color: #990000">,</span> <span style="color: #FF0000">"Tab 1"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>tab2<span style="color: #990000">,</span> <span style="color: #FF0000">"Tab 2"</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="splitpane">SplitPane</h4>
<div class="paragraph"><p><code>SplitPane</code> container is used to display two (and only two) splitted
components; the user can change their size by moving the separator.</p></div>
<div class="paragraph"><p>Split pane setup in form editor:</p></div>
<div class="ulist"><ul>
<li>
<p>
Drag-and-drop a container of the type from the palette, exactly two
components to be added.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The specific properties of the <code>SplitPane</code>:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>orientation</code></p></td>
<td align="left" valign="top"><p class="table">The separator&#8217;s orientation: <code>Orientation.VERTICAL</code> or
<code>Orientation.HORIZONTAL</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>dividerLocation</code></p></td>
<td align="left" valign="top"><p class="table">The split pane divider&#8217;s location in pixels</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>oneTouchExpandable</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the pane is one touch expandable and
<code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>firstComponent</code></p></td>
<td align="left" valign="top"><p class="table">The first component of the container.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>secondComponent</code></p></td>
<td align="left" valign="top"><p class="table">The second component of the container.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the SplitPane
constructor with an optional parameter for specifying orientation:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SplitPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where orientation is an object of the Orientation type, which defines
orientation of the panel separator (optional). The container uses the
horizontal orientation by default.</p></div>
<div class="paragraph"><p>As an alternative to the <code>firstComponent</code> and
`secondComponent`properties use add method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is the first and then the second component to add.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SplitPane</span></span><span style="color: #990000">(</span>Orientation<span style="color: #990000">.</span>VERTICAL<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span>firstComponent <span style="color: #990000">=</span> comp1<span style="color: #990000">;</span>
pane<span style="color: #990000">.</span>secondComponent <span style="color: #990000">=</span> comp2<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="scrollpane">ScrollPane</h4>
<div class="paragraph"><p><code>ScrollPane</code> is a container, which supports scrolling of its content.
Usually another container is added to this one, using <code>ScrollPane</code> as a
wrapper.</p></div>
<div class="paragraph"><p>Specific properties of the container:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>view</code></p></td>
<td align="left" valign="top"><p class="table">A wrapped component.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a component of this type by program means, use the ScrollPane
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">ScrollPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is a component, which is added inside the scroll panel
(optional).</p></div>
<div class="paragraph"><p>You also can use the view property, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span>view <span style="color: #990000">=</span> <span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Alternatively you can add one child component to the container using the
add method, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> wrapper <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ScrollPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
wrapper<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>pane<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="toolbar">ToolBar</h4>
<div class="paragraph"><p><code>ToolBar</code> is a container used to display components, which are
responsible for the most common user actions.</p></div>
<div class="paragraph"><p>Toolbars are intended to display a set of buttons (usually without
labels, but with tooltips and small, clearly visible icons) which
trigger the most frequently used application actions.</p></div>
<div class="paragraph"><p>Components in the toolbar are stacked one-to-one according to the
applied orientation.</p></div>
<div class="paragraph"><p>To create a component of this type by program means, use the ToolBar
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> toolbar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ToolBar</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where floatable is <code>true</code> when the tool bar can be moved and <code>false</code>
otherwise (optional). By default set to <code>false</code>.</p></div>
<div class="paragraph"><p>To add child components to the container, use the add method and pass a
child component as well as a tab title and an optional icon setting as
parameters to this method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where component is the component to add.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> toolbar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ToolBar</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">();</span>
b1<span style="color: #990000">.</span>icon <span style="color: #990000">=</span> Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"1.png"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b1<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">();</span>
b2<span style="color: #990000">.</span>icon <span style="color: #990000">=</span> Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"2.png"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b2<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="desktoppane">DesktopPane</h4>
<div class="paragraph"><p><code>DesktopPane</code> is used to create a multi-document interface.</p></div>
<div class="paragraph"><p>Forms can be displayed inside this container. Add forms to the container
in your program. After adding, these forms can be moved, closed,
minimized or expanded to the full container size.</p></div>
<div class="paragraph"><p>To create a component of this type by program means, use the DesktopPane
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">DesktopPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>minimizeAll()</code></p></td>
<td align="left" valign="top"><p class="table">Minimizes all frames on the pane.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>restoreAll()</code></p></td>
<td align="left" valign="top"><p class="table">Restores frames original state and location.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maximizeAll()</code></p></td>
<td align="left" valign="top"><p class="table">Maximizes all frames on the pane.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>closeAll()</code></p></td>
<td align="left" valign="top"><p class="table">Closes all frames on the pane.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The specific property of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>forms</code></p></td>
<td align="left" valign="top"><p class="table">An array of all frames on the pane (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To add a form to a <code>DesktopPane</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create a new form instance.
</p>
</li>
<li>
<p>
Add this new form to the desktop by calling the
showInternalFrame(desktopPane) method where desktopPane is a
<code>DesktopPane</code> object instance.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> desktop <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">DesktopPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> myForm <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">InnerForm</span></span><span style="color: #990000">();</span>
myForm<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">showInternalFrame</span></span><span style="color: #990000">(</span>desktopPane<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="menus">Menus</h3>
<div class="paragraph"><p>Menus components provide a convinient way to let the user choose one of
several options.</p></div>
<div class="sect3">
<h4 id="menubar">MenuBar</h4>
<div class="paragraph"><p><code>MenuBar</code> component is a form&#8217;s main menu bar, into which individual
menus can be added. This compontent is a kind of a container and
inherits it common properties and methods.</p></div>
<div class="paragraph"><p>After adding this component from the palette, the menu bar contains some
default menus, this menus can be changed or deleted.</p></div>
<div class="paragraph"><p>To create a component of this type by in your code, use the MenuBar
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menuBar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MenuBar</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>menuBar<span style="color: #990000">);</span><span style="font-style: italic"><span style="color: #9A1900">// add it to the root container</span></span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>add()</code></p></td>
<td align="left" valign="top"><p class="table">Adds a new menu to the menu bar, where menu is a <code>Menu</code> to
add.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="menu">Menu</h4>
<div class="paragraph"><p><code>Menu</code> is an individual menu, it can contain <code>MenuItem</code> and
<code>MenuSeparator</code> components. This compontent is a kind of a container and
inherits it&#8217;s common properties and methods.</p></div>
<div class="paragraph"><p>Add new <code>Menu</code> components on to the <code>MenuBar</code> from the components
pallete in the visual editor.</p></div>
<div class="paragraph"><p>Add the submenu into a <code>Menu</code> by selecting Add From Palette in the
context menu.</p></div>
<div class="paragraph"><p>To create a component of this type by in your code, use the Menu
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menu <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Menu</span></span><span style="color: #990000">();</span>
menuBar<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>menu<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific properties of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Menu&#8217;s text label.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The list of specific methods of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>add()</code></p></td>
<td align="left" valign="top"><p class="table">Adds an item to the menu, where comp is the <code>MenuItem</code> or
<code>MenuSeparator</code> component to add.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="popupmenu">PopupMenu</h4>
<div class="paragraph"><p><code>PopupMenu</code> is an options selection window, which can be assigned to any
component. This compontent is a kind of a container and inherits it&#8217;s
common properties and methods.</p></div>
<div class="paragraph"><p>Add the <code>PopupMenu</code> component onto the form by dragging it from the
palette in visual editor. After adding, this component will have no
visual representation in the form&#8217;s layout, it will be avaliable under
the Other components node in the inspector component tree.</p></div>
<div class="paragraph"><p>Add items to the pop-up menu the same way as to the standard menu.</p></div>
<div class="paragraph"><p>To assign a popup menu for a component in the visual editor, define a
component&#8217;s <code>PopupMenu</code> property and select the required popup menu from
the list.</p></div>
<div class="paragraph"><p>To create a component of this type by in your code, use the PopupMenu
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> popup <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PopupMenu</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> label <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
label<span style="color: #990000">.</span>componentPopupMenu <span style="color: #990000">=</span> popup<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>add()</code></p></td>
<td align="left" valign="top"><p class="table">Adds an item to the menu, where comp is the <code>MenuItem</code> or
<code>MenuSeparator</code> component to add.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="menuitem">MenuItem</h4>
<div class="paragraph"><p>The default <code>MenuItem</code> object contains a simple labeled menu item.</p></div>
<div class="paragraph"><p>To create a component of this type by in your program, use the MenuItem
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MenuItem</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the component (optional), icon is the icon of
the component (optional), actionPerformed the function for the action
performed handler (optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Menu item&#8217;s text label.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table">Menu item&#8217;s <code>Icon</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>An example of code using <code>MenuItem</code> component:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MenuItem</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
item<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample selected."</span><span style="color: #990000">)</span>
<span style="color: #FF0000">}</span>
menu<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>item<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="checkmenuitem">CheckMenuItem</h4>
<div class="paragraph"><p><code>CheckMenuItem</code> is a menu item combined with a checkbox.</p></div>
<div class="paragraph"><p>To create a component of this type by in your program, use the
CheckMenuItem constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> checkMenuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CheckMenuItem</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the component (optional), selected is <code>true</code>
when the check box is selected and <code>false</code> otherwise (optional),
actionPerformed the function for the action performed handler
(optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Menu item text.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selected</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the menu item is selected and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>A menu item of this type can be added to a <code>ButtonGroup</code> component,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.</p></div>
</div>
<div class="sect3">
<h4 id="radiomenuitem">RadioMenuItem</h4>
<div class="paragraph"><p><code>RadioMenuItem</code> is a menu item combined with a radio button.</p></div>
<div class="paragraph"><p>To create a component of this type by in your program, use the
RadioMenuItem constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> radioMenuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">RadioMenuItem</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the component (optional), selected is <code>true</code>
when the check box is selected and <code>false</code> otherwise (optional),
actionPerformed the function for the action performed handler
(optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>text</code></p></td>
<td align="left" valign="top"><p class="table">Menu item text.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selected</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> if the menu item is selected and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>buttonGroup</code></p></td>
<td align="left" valign="top"><p class="table">The button group this component belongs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>A menu item of this type can be added to a <code>ButtonGroup</code> component,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.</p></div>
</div>
<div class="sect3">
<h4 id="menuseparator">MenuSeparator</h4>
<div class="paragraph"><p><code>MenuSeparator</code> is a separator of menu items. Use this component to
visually split the groups of menu items.</p></div>
<div class="paragraph"><p>To create a component of this type by in your program, use the
MenuSeparator constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> separator <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MenuSeparator</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific properties of the component:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ui-utilities-api">UI utilities API</h3>
<div class="sect3">
<h4 id="style">Style</h4>
<div class="paragraph"><p><code>Style</code> object, which can inherit the property values from the parent
style.</p></div>
<div class="paragraph"><p><code>Style</code> properites list:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>align</code></p></td>
<td align="left" valign="top"><p class="table">Alignment: <code>TOP</code>, <code>RIGHT</code>, <code>BOTTOM</code>, <code>LEFT</code>, <code>CENTER</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>background</code></p></td>
<td align="left" valign="top"><p class="table">Background color</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>folderIcon</code></p></td>
<td align="left" valign="top"><p class="table">Folder node icon</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>font</code></p></td>
<td align="left" valign="top"><p class="table">Font</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>foreground</code></p></td>
<td align="left" valign="top"><p class="table">Color</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>icon</code></p></td>
<td align="left" valign="top"><p class="table">Icon</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>leafIcon</code></p></td>
<td align="left" valign="top"><p class="table">Leaf node icon</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>openFolderIcon</code></p></td>
<td align="left" valign="top"><p class="table">Open folder node icon</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>parent</code></p></td>
<td align="left" valign="top"><p class="table">Parent style object</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a style object by program means, use a constructor, which can
accept the parent style object as a parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> style1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Style</span></span><span style="color: #990000">();</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> style2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Style</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="icon">Icon</h4>
<div class="paragraph"><p><code>Icon</code> is a bitmap picture.</p></div>
<div class="paragraph"><p>To create an icon object, use the factory load method of the Icon
object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> icon <span style="color: #990000">=</span> Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where path is the name of the icon file, relative path of an application
or URL.</p></div>
<div class="paragraph"><p>The icon file name will be used for accessing the built-in collection of
icons.</p></div>
<div class="paragraph"><p>An example of using an icon to create a button:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> carIcon <span style="color: #990000">=</span> Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"car.png"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Car"</span><span style="color: #990000">,</span> carIcon<span style="color: #990000">);</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="fontstyle">FontStyle</h4>
<div class="paragraph"><p><code>FontStyle</code> object contains constants, which can be used to set font
styles.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>NORMAL</code></p></td>
<td align="left" valign="top"><p class="table">Standard font</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BOLD</code></p></td>
<td align="left" valign="top"><p class="table">Bold</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ITALIC</code></p></td>
<td align="left" valign="top"><p class="table">Italics</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BOLD_ITALIC</code></p></td>
<td align="left" valign="top"><p class="table">Bold italics</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> italicFontStyle <span style="color: #990000">=</span> FontStyle<span style="color: #990000">.</span>ITALIC<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="font">Font</h4>
<div class="paragraph"><p><code>Font</code> object.</p></div>
<div class="paragraph"><p>Object properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>family</code></p></td>
<td align="left" valign="top"><p class="table">Name of the font family</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>style</code></p></td>
<td align="left" valign="top"><p class="table">Style</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>size</code></p></td>
<td align="left" valign="top"><p class="table">Size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create a font object, use the Font constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> font <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Font</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>where family is a string of the font family name; fontStyle is a font
style of the FontStyle type, size is a font size.</p></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> font <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Font</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Verdana"</span><span style="color: #990000">,</span> FontStyle<span style="color: #990000">.</span>BOLD<span style="color: #990000">,</span> <span style="color: #993399">14</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="color">Color</h4>
<div class="paragraph"><p><code>Color</code> represents color an the object.</p></div>
<div class="paragraph"><p>The color object contains constants of main colors:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>WHITE</code></p></td>
<td align="left" valign="top"><p class="table">White</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>LIGHT_GRAY</code></p></td>
<td align="left" valign="top"><p class="table">Light gray</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>GRAY</code></p></td>
<td align="left" valign="top"><p class="table">Gray</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>DARK_GRAY</code></p></td>
<td align="left" valign="top"><p class="table">Dark gray</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BLACK</code></p></td>
<td align="left" valign="top"><p class="table">Black</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>RED</code></p></td>
<td align="left" valign="top"><p class="table">Red</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>PINK</code></p></td>
<td align="left" valign="top"><p class="table">Pink</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ORANGE</code></p></td>
<td align="left" valign="top"><p class="table">Orange</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>YELLOW</code></p></td>
<td align="left" valign="top"><p class="table">Yellow</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>MAGENTA</code></p></td>
<td align="left" valign="top"><p class="table">Magenta</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>CYAN</code></p></td>
<td align="left" valign="top"><p class="table">Cyan</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>GREEN</code></p></td>
<td align="left" valign="top"><p class="table">Green</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BLUE</code></p></td>
<td align="left" valign="top"><p class="table">Blue</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To create an object of an arbitrary color, use the Color constructor by
passing it three RGB integers as parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> color <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(,</span> <span style="color: #990000">,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where R, G, B are red, green and blue constituents in the form of
integers.</p></div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
button<span style="color: #990000">.</span>foreground <span style="color: #990000">=</span> Color<span style="color: #990000">.</span>BLUE<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> IVORY_COLOR <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="color: #993399">255</span><span style="color: #990000">,</span> <span style="color: #993399">255</span><span style="color: #990000">,</span> <span style="color: #993399">240</span><span style="color: #990000">);</span>
panel<span style="color: #990000">.</span>background <span style="color: #990000">=</span> IVORY_COLOR<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="horizontalposition">HorizontalPosition</h4>
<div class="paragraph"><p><code>HorizontalPosition</code> is the horizontal position constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the horizontal position:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>LEFT</code></p></td>
<td align="left" valign="top"><p class="table">To the left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>CENTER</code></p></td>
<td align="left" valign="top"><p class="table">Center</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>RIGHT</code></p></td>
<td align="left" valign="top"><p class="table">To the right</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> horizontalPosition <span style="color: #990000">=</span> HorizontalPosition<span style="color: #990000">.</span>CENTER<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="verticalposition">VerticalPosition</h4>
<div class="paragraph"><p><code>VerticalPosition</code> is the vertical position constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the vertical position:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>TOP</code></p></td>
<td align="left" valign="top"><p class="table">To the top</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>CENTER</code></p></td>
<td align="left" valign="top"><p class="table">Center</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>BOTTOM</code></p></td>
<td align="left" valign="top"><p class="table">To the bottom</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> verticalPosition <span style="color: #990000">=</span> VerticalPosition<span style="color: #990000">.</span>CENTER<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="orientation">Orientation</h4>
<div class="paragraph"><p><code>Orientation</code> is the orientation constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the orientation:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>HORIZONTAL</code></p></td>
<td align="left" valign="top"><p class="table">Horizontally</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>VERTICAL</code></p></td>
<td align="left" valign="top"><p class="table">Vertically</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> orientation <span style="color: #990000">=</span> Orientation<span style="color: #990000">.</span>HORIZONTAL<span style="color: #990000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="dialogs-api">Dialogs API</h3>
<div class="paragraph"><p>Use this global functions to display custom dialogs:</p></div>
<div class="tableblock">
<table rules="all"
width="98%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="17%" />
<col width="83%" />
<thead>
<tr>
<th align="left" valign="top">Function </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>alert(, )</code></p></td>
<td align="left" valign="top"><p class="table">Displays an info message, where</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>message</code> is the message text,</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>title</code> is the message window.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>prompt(, )</code></p></td>
<td align="left" valign="top"><p class="table">Displays a prompt window, returns the response string,
where</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>message</code> is the message text,</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>defaultvalue</code> is the default value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>confirm()</code></p></td>
<td align="left" valign="top"><p class="table">Displays a dialog with confirmation, where</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>message</code> is the message text.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fileDialog(, )</code></p></td>
<td align="left" valign="top"><p class="table">Displays a dialog, which allows the user to select a
file; returns a file object, where</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>curDir</code> is the current directory,</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>save</code> is a <code>true</code> to enable the saving mode
for the dialog and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>selectFile()</code></p></td>
<td align="left" valign="top"><p class="table">Displays a file selection dialog, whrere</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>callback</code> is a function, which will be
called after the file is selected, with a parameter,</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[multiblock cell omitted]</p></td>
<td align="left" valign="top"><p class="table"><code>file</code> is the file object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Code examples:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Message title"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Message"</span><span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> txt <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">prompt</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Enter text here"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Some default text"</span><span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Confirm?"</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Do something here...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="installation-and-configuration">Installation and configuration</h3>
<div class="paragraph"><p>The application designer software package is included into the
developer&#8217;s kit and can be bundled with the Platypus Platform runtime
installation.</p></div>
<div class="paragraph"><p>If the developer&#8217;s kit is supplied as an archive, unpack its contents to
the folder of your choice on the hard drive.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Platypus Platform runtime installation instructions are provided in the
Administration Guide.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="system-requirements">System requirements</h3>
<div class="paragraph"><p>System requirements for installing the developer&#8217;s kit on a computer
includes:</p></div>
<div class="ulist"><ul>
<li>
<p>
32-bit (x86) or 64-bit (x64) CPU, 1 GHz or above
</p>
</li>
<li>
<p>
2 GB (for 32-bit system) or 3 GB (for 64-bit system) RAM
</p>
</li>
<li>
<p>
10 GB of free disk space
</p>
</li>
<li>
<p>
Operating system with graphical user interface: Windows or Linux
</p>
</li>
<li>
<p>
Oracle JDK 7
</p>
</li>
<li>
<p>
Internet access for updates downloading
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="installation-guide">Installation guide</h3>
<div class="paragraph"><p>To install the developer&#8217;s kit, perform the following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Run the <code>platypusdesigner-windows.exe</code> file for Windows OS or
<code>platypusdesigner-linux.sh</code> for Linux. The Linux user must have access
rights to launch the installer.
</p>
</li>
<li>
<p>
Click Next to proceed to the next installation step.
</p>
</li>
<li>
<p>
Read licensing terms and conditions; check the I accept the terms of
the license agreement option to accept; click Next to proceed to the
next step.
</p>
</li>
<li>
<p>
Select the applications installation directory and options for
creating shortcuts on the desktop and in the installed programs menu;
click Next to proceed to the next step.
</p>
</li>
<li>
<p>
Click Install to begin the Platypus Application Designer
installation process.
</p>
</li>
<li>
<p>
After the installation process is finished, click Finish; check the
Launch Platypus application designer after the installer closes option
to launch the designer.
</p>
</li>
</ol></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Specify the path to the JDK in the <code>jdkhome</code> parameter in the Platypus
Application Designer configuration file at
<code>platypusdesigner/etc/platypusdesigner.conf</code>, if the its installation
location is other than default. Incorrect value of the <code>jdkhome</code>
parameter can lead to errors which may occur when launching the
designer.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To remove Platypus Application Designer from you computer, perform the
following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Use the your OS standard mechanism of programs removal, as an
alternative, use the <code>uninstall.exe</code> program for Windows or
<code>uninstall.sh</code> for Linux from the installation directory.
</p>
</li>
<li>
<p>
Confirm the components removal by clicking Finish button; if
necessary, select the option of removing configuration data from the
user&#8217;s directory.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="configuration-tips">Configuration tips</h3>
<div class="paragraph"><p>Platypus Application Designer supports localization of menus, messages
texts, etc. Currently, the following languages are supported:</p></div>
<div class="ulist"><ul>
<li>
<p>
English
</p>
</li>
<li>
<p>
Russian
</p>
</li>
</ul></div>
<div class="paragraph"><p>The localization language is selected automatically when you launch the
application designer according to the regional settings of the operating
system.</p></div>
<div class="paragraph"><p>To force the change of the localization language:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit the Platypus Application Designer configuration file — append the
<code>default_options</code> parameter with the <code>--locale ru:RU</code> or
<code>--locale en:US</code> option.
</p>
</li>
<li>
<p>
Restart the application designer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>You can also change the application designer localization language by
adding the <code>--locale ru:RU</code> or <code>--locale en:US</code> option to the command
line for launching the Platypus Application Designer.</p></div>
<div class="paragraph"><p>Platypus Application Designer supports connection of the various user
interface Look and Feel (L&amp;F). There are L&amp;Fs for specific operating
systems, universal styles (<code>Metal</code> and <code>Nimbus</code>), and LaFs which can be
supplied by third-party developers.</p></div>
<div class="paragraph"><p>To change the Application Designer L&amp;F:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit the designer configuration file — append the <code>default_options</code>
parameter with the <code>--laf</code> option, where LaF corresponds to the name of
LaF or full name of the LaF class. If the third-party LaF is used, it is
also necessary to include the style library into the path which can be
accessed by the Application Designer classloader.
</p>
</li>
<li>
<p>
Restart the application designer.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="runtime-environment-setup">Runtime environment setup</h3>
<div class="paragraph"><p>The Platypus Platform runtime is required to start, debug and deploy
it&#8217;s applications. You must specify the path to the runtime directory
for the Platypus Application Designer to be able to run and debug your
applications.</p></div>
<div class="paragraph"><p>Specify the location of the platform runtime directory in the computer&#8217;s
file system:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select Tools Platypus Platform in the main menu.
</p>
</li>
<li>
<p>
In the selection dialog, specify path to the Platypus Platform
directory.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Add the J2EE server instance which can be used to launch the Platypus
application:</p></div>
<div class="ulist"><ul>
<li>
<p>
In the Services window of the Servers node context menu select the Add
server&#8230; item.
</p>
</li>
<li>
<p>
In the J2EE server adding wizard, select the server type, server name,
and specify its preferences: path to the server directory,
administrator&#8217;s login and password.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>The current version of Platypus Application Designer supports launching
of applications in Apache Tomcat 7+. Download Apache Tomcat from the
developer&#8217;s site and unpack it in the directory of your choice on your
hard drive.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="introduction">Introduction</h3>
</div>
<div class="sect2">
<h3 id="about-the-platform">About the platform</h3>
<div class="paragraph"><p>The Platypus Platform is a JavaScript client and server applications
platform for rapid development of enterprise-level information systems.</p></div>
<div class="paragraph"><p>The platform uses two application programming languages:</p></div>
<div class="ulist"><ul>
<li>
<p>
JavaScript (compatible with the ECMA-262-3 standard) is used to write
program logic.
</p>
</li>
<li>
<p>
SQL is used to access data.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Application creation and editing, deployment, debugging and maintenance
are performed using the Platypus Application Designer IDE based on the
NetBeans Platform. However, individual files, for example, JavaScript
modules, can be edited in any text editor.</p></div>
<div class="paragraph"><p>The IDE includes following development tools:</p></div>
<div class="ulist"><ul>
<li>
<p>
Application database structure visual editor.
</p>
</li>
<li>
<p>
SQL queries visual editor.
</p>
</li>
<li>
<p>
JavaScript code editor.
</p>
</li>
<li>
<p>
User interface forms visual editor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The platform offers a set of features, making development process
extremely productive:</p></div>
<div class="ulist"><ul>
<li>
<p>
JavaScript modules automatic dependencies resolving, manual resolving
is also avaliable.
</p>
</li>
<li>
<p>
SQL queries with named parameters and SQL clauses re-use.
</p>
</li>
<li>
<p>
Data model and ORM (Object-Relation Mapping) for JavaScript.
</p>
</li>
<li>
<p>
Desktop cross-platform as well as HTML5 web-browser user interface
presentation sharing the same code and the GUI layout.
</p>
</li>
<li>
<p>
The GUI widgets which directly interact with the data model, allowing
implementation of a CRUD (Create-Read-Update-Delete) user interface with
visual configuration and without or just a little coding.
</p>
</li>
<li>
<p>
Built-in security support, including users authentication and
authorization, constraints of access to application resources.
</p>
</li>
<li>
<p>
Application database schema structure and initial applicaton data
migrations tools.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="application-structure">Application structure</h3>
<div class="paragraph"><p>Application has a tree structure which contains directories and files.
Some files or file groups, called application elements, have a special
meaning to the platform.</p></div>
<div class="paragraph"><p>The types of application elements are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#query-chapter">Query</a> is a data source based on SQL query.
</p>
</li>
<li>
<p>
<a href="#module-chapter">Module</a> is a structural unit of the JavaScript
code.
</p>
</li>
<li>
<p>
<a href="#form-intro">Form</a> is a module with UI layout.
</p>
</li>
<li>
<p>
<a href="#report-chapter">Report</a> is a module with a template.
</p>
</li>
<li>
<p>
<a href="#diargram-chapter">Database diagram</a> is a visual representation of
the database structure.
</p>
</li>
</ul></div>
<div class="paragraph"><p>During development process, the application tree is stored on disk in
the project&#8217;s directory <code>src</code> subfolder. For production operation
application can be deployed into the database <code>MTD_ENTITIES</code> table.</p></div>
</div>
<div class="sect2">
<h3 id="runtime-configurations">Runtime configurations</h3>
<div class="paragraph"><p>In general, the platform works on three-tier archeticture including
presentation, logic and data storage tiers. The presentation and the
logic tier can be combined in some configurations.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/tiers.png" alt="Applicaton tiers" />
</span></p></div>
<div class="paragraph"><p>The platform&#8217;s applications can work in the following configurations:</p></div>
<div class="ulist"><ul>
<li>
<p>
2-tier solution is the Java SE desktop client connects directly to the
database server. This scheme is recommended for relatively simple
applications, which do not require any application server.
</p>
<div class="paragraph"><p><span class="image">
<img src="images/2-tiers.png" alt="2-tier solution" />
</span>
* The 3-tier solution with deskop client and Platypus Application Server
(PAS). This server is a lightweight non-J2EE Java application server.
The custom binary protocol is used to transmit data. The application
server, in turn, interacts with a database server.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/3-tiers.png" alt="3-tier solution using PAS" />
</span>
* The 3-tier solution with a Java EE compatible server to host the
platfroms server components. The deskotp client or HTML5 browser
connects to the servlet container or J2EE server using HTTP/HTTPS
protocol. In this case, an application&#8217;s data source resources are
managed by the Java EE container.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/3-tiers-j2ee.png" alt="3-tier configuration on Java EE" />
</span></p></div>
</li>
</ul></div>
<div class="paragraph"><p>3-tier configuration has a number of advantages as compared with 2-tier
one:</p></div>
<div class="ulist"><ul>
<li>
<p>
Improved security, as the client has no direct access to the database
and database request text is not transmitted via network.
</p>
</li>
<li>
<p>
Improved performance, as business logic is executed on the server.
</p>
</li>
<li>
<p>
Better system maintainability.
</p>
</li>
<li>
<p>
Application is more scalabile.
</p>
</li>
<li>
<p>
The ability to use HTML5 web browser as a client when using J2EE
servlet container or application server.
</p>
</li>
</ul></div>
<div class="paragraph"><p>In case of no-server 2-tier configuration the presentation tier and
logic tier operate at Java SE desktop client. In case of 3-tier server
configuration the presentation tier operates in the client, either at
Java SE desktop client or HTML5 browser and the logic tier runs on
application server.</p></div>
</div>
<div class="sect2">
<h3 id="development-steps">Development steps</h3>
<div class="paragraph"><p>To develop an application iteratively perform the following steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#diargram-chapter">Specify</a> datatbase structure using the database
structure diagrams visual editor.
</p>
</li>
<li>
<p>
<a href="#query-chapter">Write</a> the queries and specify theirs parameters.
If required, implement the queries for updating and adding data in SQL
language (it is not needed in general, because data
inserts/updates/deletions in most cases can be completed automatically
by the data model).
</p>
</li>
<li>
<p>
<a href="#module-chapter">Implement</a> the application logic as JavaScript
modules. Specify the module&#8217;s data model using visual tool. Write the
JavaScript code, for example to implement the business-logic.
</p>
</li>
<li>
<p>
<a href="#gui-chapter">Implement</a> the application user interface as forms
using visual tool. Specify the form&#8217;s data model. Create the form&#8217;s
layout using the visual editor. Write JavaScript code responsible for
the user interface.
</p>
</li>
<li>
<p>
<a href="#report-chapter">Implement</a> reports using the reports tool.
Specify the report&#8217;s data model. Create the report template using the
visual editor. Write JavaScript code if some non-standard data
processing required.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="javascript-module">JavaScript module</h3>
<div class="paragraph"><p>Module is a JavaScript file containing the constructor function. Modules
contain data model responsible for data access.</p></div>
<div class="paragraph"><p>Modules can be executed both under JVM in a client and server on Mozilla
Rhino engine or in a browser.</p></div>
</div>
<div class="sect2">
<h3 id="new-module-creation">New module creation</h3>
<div class="paragraph"><p>To create a new module, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select New in the parent directory context menu, or select the parent
directory and click New Filе in the main menu, or click New File on the
toolbar, or use a corresponding shortcut.
</p>
</li>
<li>
<p>
Select Module type in the context menu, or select Choose file type
Platypus application elements Module on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Enter the name of a new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="javascript-code-editor">JavaScript code editor</h3>
<div class="paragraph"><p>You can edit the module code in the JavaScript code editor. To open the
application element editor, double-click an application element in the
project tree.</p></div>
<div class="paragraph"><p>To edit the JavaScript code:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Source tab of the module editor.
</p>
</li>
<li>
<p>
Change text in the JavaScript code editor.
</p>
</li>
<li>
<p>
Use the code completion for field names and functions of objects and
modules.
</p>
</li>
<li>
<p>
Use automatic transition to declarations of variables, functions, and
to the functions of other modules; to do this, click a module ID or
function while holding down the Ctrl key.
</p>
</li>
<li>
<p>
Use context menus and shortcuts to use built-in editor functions.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the Platypus
Application Designer toolbar or by using the Ctrl S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Use the editor&#8217;s context menu Format menu item to format the JavaScript
code automatically.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>If necessary, configure the code editor parameters; to do this:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the following main menu items: Tools Options.
</p>
</li>
<li>
<p>
In the Options properties dialog, select the Editor tab.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To configure auto completion modes, go to the Code Completion tab and
enable or disable corresponding options.</p></div>
</div>
<div class="sect2">
<h3 id="module-constructor">Module constructor</h3>
<div class="paragraph"><p>Using modules allows you to manage the complexity according to the
object-oriented programming principles.</p></div>
<div class="paragraph"><p>Module is an equivalent of a class in other programming languages, such
as in Java or С++.</p></div>
<div class="paragraph"><p>Every module contains a constructor function. This function is used for
module&#8217;s instanses creation.</p></div>
<div class="paragraph"><p>Constructor function can have a header, which is represented as a
comment in the JsDoc format and is located at the top of the module
text.</p></div>
<div class="paragraph"><p>Example of a module with a header:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Module description goes here</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleConstructor</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">otherFunction</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>If a JavaScript file contains exactly one top-level fucntion, this
fuction is considered as a module constructor, otherwise the module
constructor must be marked with the <code>@module</code> annotation.</p></div>
<div class="paragraph"><p>In addition to the <code>@module</code> annotation, a header may contain the module
description, annotations for defining security constraints and other
JsDoc annotations.</p></div>
<div class="paragraph"><p>Specify module instance methods:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleA</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>somePublicMethod <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">fucntion</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//instance method</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Module instance methods are available for the client code.</p></div>
<div class="paragraph"><p>Add module scope methods and fields:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleB</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> a<span style="color: #990000">,</span> b<span style="color: #990000">,</span> c<span style="color: #990000">;</span><span style="font-style: italic"><span style="color: #9A1900">//private fields</span></span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>somePublicMethod <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//instance method</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>

   <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">somePrivateMethod</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//scope function</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Create or get a module instance by the following ways:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create an instance of the module with the help of the <code>new</code> keyword,
using a module constructor, for example:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is a module constructor.</code></pre>
</div></div>
</li>
<li>
<p>
Create an instance of the module with the help of the <code>new</code> keyword
using special <code>Module</code> constructor, for example:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is the module constructor name string, for example,</code></pre>
</div></div>
<div class="paragraph"><p><code>"WebModule"</code>;
* Get a module instance from the modules pool using <code>Modules</code> object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> Modules<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is the module constructor name string.</code></pre>
</div></div>
</li>
<li>
<p>
Create a proxy stub for the server module, to invoke the server code
on the application server:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ServerModule</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      ` is the module constructor name string, the server module</code></pre>
</div></div>
<div class="paragraph"><p>should be marked with the <code>@public</code> annotation to enable access from the
external client code.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>To call the module&#8217;s instance method, use the following structure, for
example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> result <span style="color: #990000">=</span> moduleInstance<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getResult</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="dependencies-resolving">Dependencies resolving</h3>
<div class="paragraph"><p>When executing the code on a application server or on a desktop client,
all application modules and other elements are loaded on demand.</p></div>
<div class="paragraph"><p>In a web browser, all application elements, on which initial application
element depends, are loaded during the process of automatic dependencies
resolution.</p></div>
<div class="paragraph"><p>Automatic dependencies resolving works as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
The source code is analyzed and expressions of the following types are
searched for the following expressions:
</p>
<div class="paragraph"><p><code>new ()</code></p></div>
<div class="paragraph"><p><code>new Module("")</code></p></div>
<div class="paragraph"><p><code>Modules.get("")</code></p></div>
<div class="paragraph"><p><code>new ServerModule("")</code></p></div>
<div class="paragraph"><p><code>new ()</code></p></div>
<div class="paragraph"><p><code>new Form("")</code></p></div>
<div class="paragraph"><p><code>new ()</code></p></div>
<div class="paragraph"><p><code>new Report("")</code></p></div>
<div class="paragraph"><p><code>new ServerReport("")</code></p></div>
<div class="paragraph"><p>where ModuleName, FormName and ReportName is the name of the module,
form and report what are in fact a special kinds of a module.
* Application elements with the specified names are loaded or server
proxies for server modules/reports are generated.
* The process continues recursevly for the loaded modules, except for
the server proxies.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>If it is not necessary or not possible to resolve the dependency
automatically, for example, if you want to determine the called module
in a dynamic manner, you can use the manual dependencies resolving with
<code>require</code>.</p></div>
<div class="paragraph"><p>Use <code>require([], )</code> global function, where param is the module
constructor name, or the relative path to the JavaScript file in the
application, or an array of these elements, callback is a function,
which will be called when all the specified modules are downloaded and
executed.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Don&#8217;t use manual dependencies resolving against a server modules. It
will lead to attempt to download the module body on the client.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Example of using manual dependencies resolving is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleName1 <span style="color: #990000">=</span> <span style="color: #FF0000">"Module1"</span><span style="color: #990000">,</span>
    moduleName2 <span style="color: #990000">=</span> <span style="color: #FF0000">"Module2"</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span>moduleName1<span style="color: #990000">,</span> moduleName2<span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span>moduleName1<span style="color: #990000">);</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span>moduleName2<span style="color: #990000">);</span>
  m2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The following example shows how to use the <code>require</code> function for
loading the module by its constructor name as well as the plain
JavaScript file by specifing its path:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span><span style="color: #FF0000">"Module1"</span><span style="color: #990000">,</span>
 <span style="color: #FF0000">"localLib.js"</span><span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>

  <span style="font-style: italic"><span style="color: #9A1900">//Platypus module</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Module1"</span><span style="color: #990000">);</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>

  <span style="font-style: italic"><span style="color: #9A1900">// Constructor LibObject is defined in localLib.js</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> o1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">LibObject</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Relative paths are counted off from the <code>src</code> directory of the Platypus
application. If the JavaScript file path matches the Platypus module
identifier name, the Platypus module will be loaded.</p></div>
<div class="paragraph"><p>The <code>require</code> function also has a synchronous variant, which can be used
in the server code. In this case, if you don&#8217;t need to maintain
compatibility with the client&#8217;s code, the second parameter is optional:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"localLib.js"</span><span style="color: #990000">);</span>
<span style="font-style: italic"><span style="color: #9A1900">// LibObject is defined in localLib.js</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> obj <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">LibObject</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>You should pay attention to the combination of automatic and manual
dependencies resolution. For example, in the following snippet it is not
necessary to call the <code>require</code> function:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var moduleName1 = "SampleModule1",
    moduleName2 = "SampleModule2";
require([moduleName1, moduleName2], function() {
  var m1 = new SampleModule1();
  m1.bar();
  var m2 = new SampleModule2();
  m2.foo();
});</code></pre>
</div></div>
<div class="paragraph"><p>This code leads to the automatic dependencies resolution regarding to
the SampleModule1 и SampleModule2, as calls of their constructors are
present in the code in explicit form.</p></div>
<div class="paragraph"><p>On the other hand, creating modules in the <code>var m = new SampleModule1()</code>
form is preferred. In order to avoid automatic resolving of
dependencies, explicitly specify module constructor names in the form of
string literals the <code>require</code> function parameter:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>require(["SampleModule1", "SampleModule2"], function() {
  var m1 = new SampleModule1();
  m1.bar();
  var m2 = new SampleModule2();
  m2.foo();
});</code></pre>
</div></div>
<div class="paragraph"><p>This method of calling the <code>require</code> function excludes these explicitly
specified constructor names in the first parameter from the automatic
dependencies resolution. So, SampleModule1 and SampleModule2 will be
loaded only when calling the <code>require</code>, rather than before starting the
application.</p></div>
</div>
<div class="sect2">
<h3 id="security">Security</h3>
<div class="paragraph"><p>The executable module code is a resource, access to which can be
restricted on the basis of the roles. When a user, who has no rights to
execute some code, tries to call it, a security exception is thrown.</p></div>
<div class="paragraph"><p>In order to restrict access to the entire module code, add the
<code>@rolesAllowed</code>&#8230; annotation to the module header. Specify roles,
allowed to access the module code execution, in the <code>@rolesAllowed</code>
annotation, dividing them by spaces. If the annotation is omitted,
access to the module is granted to all users.</p></div>
<div class="paragraph"><p>You can restrict access to the module code on the level of an individual
function. To do this, add the <code>@rolesAllowed</code> annotation to the
function&#8217;s JsDoc. The restrictions on the function level have a higher
priority than the module level restrictions. For example, only a user
with the <code>role2</code> role from the following example will have access to the
<code>f2</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> role1 role2</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> ModuleC <span style="color: #FF0000">{</span>

   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> role2</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    */</span></span>
   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>f2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
      <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Use <code>principal</code> property to get access to the information about the
current user in the executable code. The <code>principal</code> property is
read-only. The object of information about the user contains the <code>name</code>
property, i.e. the name of the current user, and the `hasRole()`method,
which allows you to check if this user has any role:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Current user: '</span> <span style="color: #990000">+</span> self<span style="color: #990000">.</span>principal<span style="color: #990000">.</span>name<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>self<span style="color: #990000">.</span>principal<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hasRole</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Manager'</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Some operations allowed only to managers ...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Use <code>logout()</code> global function, where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>  ` is a function, which will be called after the session is</code></pre>
</div></div>
<div class="paragraph"><p>terminated. Open forms will be closed and the user will see the login
and password entering form.</p></div>
</div>
<div class="sect2">
<h3 id="resources-loading">Resources loading</h3>
<div class="paragraph"><p>The platfrom runtime enables loading of resources in the form of binary
data and text. Resources may be loaded using their relative paths or
URLs. Relative paths are counted off from the <code>src</code> root directory of
the application. Use the Resource object methods for resource loading.</p></div>
<div class="paragraph"><p>To download a binary resource, use the <code>Resource.load(, )</code> method, where
<code>path</code> is a relative path or URL, <code>callback(obj)</code> is a function, which
will be called after the resource is loaded, <code>obj</code> is an array of bytes
of the downloaded resource for the server code and Platypus Client or an
object of the ArrayBuffer type for the HTML5 browser:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Loads binary resource</span></span>
Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/pict.bin"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>obj<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>You can use a synchronous version of this method with a single parameter
in the server code or in the code, which is executed in the Platypus
Client. In this case, the method itself will return an array of bytes of
the downloaded resource:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Loads binary resource synchronously</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> obj <span style="color: #990000">=</span> Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/pict.bin"</span><span style="color: #990000">);</span>
<span style="color: #990000">...</span></tt></pre></div></div>
<div class="paragraph"><p>To download text, use the <code>Resource.loadText(, , ))</code> method, where
<code>path</code> is a relative path or URL, <code>encoding</code> is the name of the text
encoding, <code>callback(txt)</code> is a function, which will be called after the
resource is loaded, <code>txt</code> is the downloaded text:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Loads text</span></span>
Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadText</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/res.txt"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"UTF-8"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>txt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>txt<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>You can use a synchronous version of this method with one or two
parameters in the server code or in the Platypus Client code. In this
case, the method itself will return an object of a downloaded resource
string:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Loads text synchronously</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> txt <span style="color: #990000">=</span> Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadText</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/res.txt"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"UTF-8"</span><span style="color: #990000">);</span>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>txt<span style="color: #990000">);</span></tt></pre></div></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p><code>Resource.loadText("resourceUrl", function(){})</code> loads text without an
encoding specified. When resource is loaded via http, encoding comes
from http headers and it is <code>utf-8</code> otherwise.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To get the absolute path to the application directory, use the
<code>Resource.applicationPath</code> read-only property. If an application is
deployed into database, this property returns <code>null</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Reads the application's path</span></span>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>Resource<span style="color: #990000">.</span>applicationPath<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="data-model">Data model</h3>
<div class="paragraph"><p>Data model is a module&#8217;s persistence manager. It provides access to the
data obtained from a relational database or any other data source. Data
model allows you to perform the following tasks:</p></div>
<div class="ulist"><ul>
<li>
<p>
Fetch data from the data source(s) to the entities datasets.
</p>
</li>
<li>
<p>
Automatically requery/filter data, according to the inter-entities
links.
</p>
</li>
<li>
<p>
Save changes made to the entities data (insert, update and delete).
</p>
</li>
<li>
<p>
Entities data change events handling with JavaScript.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Data model consists of entities and links and is configured using the
visual editor.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/dataModel.png" alt="Data model structure" />
</span></p></div>
<div class="paragraph"><p>Data is stored in the form of JavaScript objects within an etnity&#8217;s
array.</p></div>
<div class="paragraph"><p>The following types of entities can be used in the data model:</p></div>
<div class="ulist"><ul>
<li>
<p>
Regular entity is created using a module implements special datasouce
interface methods or a query application element.
</p>
</li>
<li>
<p>
Table entity is a special query entity, which selects all data from
the table. It is created automatically by runtime. A table entity can be
used on two-tier configurations with direct connection to a database.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each entity can have parameters and contains a dataset with predefined
fields according to the data schema defined by the module or query, on
the basis of which the entity is created.</p></div>
<div class="paragraph"><p>The parameters of the data model are contained in the special entity
named Parameters, which is present in each data model and does not have
a full-featured dataset.</p></div>
<div class="paragraph"><p>In general, a dataset is an array of objects, each of which corresponds
to a tuple in the query results.</p></div>
<div class="paragraph"><p>There is a cursor for each dataset. The cursor can point to some row in
the dataset and determines the current item of this set. Also the
dataset cursor can point to the positions "before the first row" and
"after the last row". The entity cursor position can affect to the
linked entities data.</p></div>
<div class="paragraph"><p>Entity fields and parameters may be connected by links. The following
link types are used in a data model:</p></div>
<div class="ulist"><ul>
<li>
<p>
Query link—if the target field of connection is an entity parameter
field.
</p>
</li>
<li>
<p>
Filter link—if the target filed of connection is a entity data field.
</p>
</li>
<li>
<p>
Link defined by the database table external keys.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Query link requeries the target entity&#8217;s dataset according to the
parameter value change. The new parameter value is determined according
to the source point of the link. Both dataset field&#8217;s current value or a
parameter value can be used. When the value at the link source changes,
new data is requested from the database and reoladed in the target
entity.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>When a module runs in browser, data comes asynchronously from the
network. When a module runs on desktop client and on application server,
data comes synchronously. It is recommended to build the client side of
applications as if data were obtained asynchronously in all cases. It
will allow to avoid compatibility issues when transferring the client
side of applications to the browser.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Filter link provides the restricted rows view of the target entity
dataset according to the new filter value. The new filter value is
determined according to the source point of the link. A dataset field&#8217;s
current value or a parameter value can be used. When the value at the
link source changes, no data is fetched from the database.</p></div>
<div class="paragraph"><p>Foreign key link is defined by a database table foreign keys. This kind
of link is created automatically, if a dataset contains fields included
to such foreign key. This type of link does not affect the content of
the datasets and is used to generate inter-instance connections between
instances of entities. This is done via new properties, wich are created
while data fetching. The link of this type is visually shown as a dashed
line on the data model diagram.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>To get inter-instance connections work, primary and foreign keys are
required. Such keys may come from database structure definitions or from
schema definitions in a JavaScript datasource module.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p><span class="image">
<img src="images/dataModelLinks.png" alt="Query and filtration types links" />
</span></p></div>
<div class="paragraph"><p>The figure shows an example of operation of filter and query links for
the three entities in the data model. In the <code>Persons</code> entity, a cursor
is pointing to a string corresponding to a person named <code>Mike</code>.</p></div>
<div class="paragraph"><p>When initializing a module, data corresponding to the input parameter
values is loaded into the model by default, then every change of input
parameters leads to a cascade update of all datasets, which are directly
or inderectly associated with the modified parameter.</p></div>
<div class="paragraph"><p>For any dataset you can determine any number of incoming and outgoing
links of both types. When building connections you should consider the
following restrictions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Links must not create circular references.
</p>
</li>
<li>
<p>
Links fields and parameters of the souce and the target entities must
match by its type: the types of connected fields and parameters must
allow the mutual conversion of values. For example, it is possible to
connect field if there&#8217;s a number specified for the connection on the
source, and a string specified the connection on the target, it is quite
possible, since there is a possibility of an unambiguous conversion of a
number to a string, but not vice versa.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Batch change of the model input parameters is also possible, in this
case, data is updated only after changing all the required parameters.</p></div>
<div class="paragraph"><p>Added, deleted and changed datasets of these entities objects are saved
to the database or sent to the application server for subsequent saving
when calling the save function of the data model object.</p></div>
<div class="paragraph"><p>The data model object is represented in the module constructor by the
<code>this.model</code> object.</p></div>
<div class="paragraph"><p>Create an alias variable for the data model object, in the following
code snippets we will use this model alias object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleD</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> model <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">;</span>
   <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
Set the data model parameters to update the data of the linked
entities.
</p>
</li>
<li>
<p>
Get access to data for data processing, analysis, and so on.
</p>
</li>
<li>
<p>
Use inter-instances connections to process the data in ORM manner.
</p>
</li>
<li>
<p>
Use the cursor to move through the data rows.
</p>
</li>
<li>
<p>
Specify entity event handler functions and write their JavaScript
code.
</p>
</li>
<li>
<p>
Alter, remove or add objects in the entity and allow the data model to
save the changes.
</p>
</li>
<li>
<p>
Read entity fields metadata for special needs.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To force updating of all data model entities, call the requery function
of the <code>model</code> object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>where <code>onSuccess</code> is the handler function for refresh data on success
event (optional), <code>onFailure</code> is the handler function for refresh data
on failure event (optional).</p></div>
<div class="sect3">
<h4 id="data-model-editor">Data model editor</h4>
<div class="paragraph"><p>Data model is configured using the visual editor.</p></div>
<div class="paragraph"><p>For navigating to a data model elements, it is convenient to use a data
model inspector panel. In the data model inspector, entity and model
parameters are presented in the form of a tree structure. You can select
an entity or a connection both in the visual editor and in the data
model inspector. Mutual positioning of the model data inspector and its
diagram is possible.</p></div>
<div class="paragraph"><p>To add a table entity to the data model, perform the following steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Datamodel tab of the module&#8217;s editor.
</p>
</li>
<li>
<p>
Select the Add query / Add table Add table menu item on the editor
toolbar, or use the Ctrl Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select the table from the list in the table selection dialog, if
necessary select a schema from the drop-down Schema list; the Default
button sets the default schema for the application; use the search
option by clicking Find, if necessary.
</p>
</li>
<li>
<p>
Click OK add the table or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, move the table on the model diagram to the right place.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add an entity based on an existing query to the data model, perform
the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select Add query / Add table Add query on the editor toolbar.
</p>
</li>
<li>
<p>
Select an application element of the Query type in the dialog.
</p>
</li>
<li>
<p>
Click OK to add the query or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, move the query on the visual editor diagram to the right
place.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Drag an existing query or a module from the application elements tree on
the project panel to the visual editor diagram of the data model to
include it into the editable data model.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>An entity object and its data is available from module&#8217;s JavaScript
code. When you add a new entity, its name will be specified by default,
according to the query, or module consturctor name or a table name in
the database. To change the name of the entity, perform the following
steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
Go to the Datamodel tab.
</p>
</li>
<li>
<p>
Select the corresponding entity on the data model diagram or in the
data model inspector.
</p>
</li>
<li>
<p>
In the Properties editing window specify the name value in the name
field; entity name is case-sensitive and must meet the requirements for
the JavaScript identifiers.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add entity dataset events handlers, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Go to the Datamodel tab.
</p>
</li>
<li>
<p>
Select the corresponding entity on the data model diagram or in the
data model inspector.
</p>
</li>
<li>
<p>
On the Properties panel select the Events tab and specify the name of
the handler for the corresponding event.
</p>
</li>
<li>
<p>
Go to the Source editor tab and write the JavaScript code for the
event handler.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After adding the event handler function, a protected code section will
be added to the code editor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">rowDeleted</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-style: italic"><span style="color: #9A1900">//TODO add your handling code here:</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To remove an entity event handler:</p></div>
<div class="ulist"><ul>
<li>
<p>
Go to the Datamodel tab.
</p>
</li>
<li>
<p>
Select an entity in the data model inspector or on the diagram.
</p>
</li>
<li>
<p>
On the properties panel select the Events tab for the event and delete
the event handler name.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>If the Properties panel is not displayed, enable this panel. To do this,
select Window Properties in the Platypus Application Designer main menu.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To delete an entity from the data model, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select an entity in the data model inspector or on the diagram.
</p>
</li>
<li>
<p>
Click Delete on the editor toolbar.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add data model parameters:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Create new field/parameter on the fields editing tab toolbar to
add a parameter or press the Insert key.
</p>
</li>
<li>
<p>
Change the parameter properties in the Properties editor window.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Data model parameters have the following properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
Name is the name of the parameter.
</p>
</li>
<li>
<p>
Description is the description of the parameter.
</p>
</li>
<li>
<p>
Type is the type of the parameter; select the type of the parameter
from the drop-down list.
</p>
</li>
<li>
<p>
Type Name is the name of the data structure type, the field is
available for input if the Structure field type is selected.
</p>
</li>
<li>
<p>
Size is the length or accuracy of the field.
</p>
</li>
<li>
<p>
Scale is the scale of the field.
</p>
</li>
<li>
<p>
Nullable property selects, weather the <code>NULL</code> value is available for
the field.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit the data model parameter properties, perform the following
actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a parameter on the diagram or in the data model inspector.
</p>
</li>
<li>
<p>
Edit the properties of the parameter in the Properties window.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To delete a data model parameter, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a parameter on the data model diagram.
</p>
</li>
<li>
<p>
Click Delete on the parameter editing tab toolbar or press the Delete
shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add a query or a filter link between two entites:</p></div>
<div class="ulist"><ul>
<li>
<p>
Move the parameter to the field of an entity, with which you want to
connect this parameter. The connection will be displayed as a line with
an arrow between fields or parameters of the entity.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Query link type in the visual editor is highlighted by purple. Filter
link is highlighted by black. The link target field is shown by an
arrow.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To delete a link, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the link to remove.
</p>
</li>
<li>
<p>
Click Delete or use the Delete key.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit a foreign key link properties, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a dashed link.
</p>
</li>
<li>
<p>
Select Scalar and collection properties menu item from the foreign key
link context menu.
</p>
</li>
<li>
<p>
In the dialog specify Scalar property name and Collection property
name fields.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To zoom-in or zoom-out the data model visual presentation:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Zoom In to scale up the data model presentation in the editor;
click Zoom out to scale it down.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To use the search function on the data model diagram:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Find to open the search dialog in the data model editor.
</p>
</li>
<li>
<p>
Enter the search line, select fields to be used for searching:
Datasets, Fields, Params, and also check the necessary options: use the
Whole words option to search for the whole words. Use the Match case
option to perform the case-sensitive search.
</p>
</li>
<li>
<p>
Click Next and Previous to go to the next or previous search result.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="data-model-parameters">Data model parameters</h4>
<div class="paragraph"><p>Use the data model parameters to fetch specific data to the data model.</p></div>
<div class="paragraph"><p>Data model parameters object is in the <code>model.params</code> property. To set a
new value to the data model parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span> <span style="color: #990000">=</span> newValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the corresponding parameter name, and `newValue` is a new</code></pre>
</div></div>
<div class="paragraph"><p>value of the parameter (literal, variable, or expression).</p></div>
<div class="paragraph"><p>Below you can see a piece of code, the execution of which will result in
loading the new model entity data by assigning a new value to the
<code>documentID</code> parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>documentID <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// Changes data model parameter</span></span></tt></pre></div></div>
<div class="paragraph"><p>Each change of any data model parameter leads to the automatic update of
data of the model entities, which are directly or indirectly connected
with it.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Datasets in the model are updated only if the value of the model
parameter was changed. To force updating of entity data, use the requery
method.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>It is often necessary to change some parameters before updating data. To
do this, use the beginUpdate and endUpdate methods of the <code>params</code>
object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">beginUpdate</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Update parameters here,</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// for example:</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// params.documentID = 1;</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// params.language = 'en';</span></span>
<span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">finally</span></span> <span style="color: #FF0000">{</span>
  params<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">endUpdate</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="entities">Entities</h4>
<div class="paragraph"><p>Data model entities are available as the data model object&#8217;s properties:
<code>model.</code>, where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the script presentation of an entity.</code></pre>
</div></div>
<div class="paragraph"><p>Entities may have its own parameters and can be updated independently
from the other model entities.</p></div>
<div class="paragraph"><p>To access entity parameters, use the <code>params</code> entity property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityParams <span style="color: #990000">=</span> <span style="color: #990000">.</span>params</tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an object of the corresponding entity.</code></pre>
</div></div>
<div class="paragraph"><p>To access the specific parameters, use properties of the <code>model..params</code>
object with names, which match the entity parameter names:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityParam <span style="color: #990000">=</span> model<span style="color: #990000">..</span>params<span style="color: #990000">.</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity object,`

    ` is the property of the corresponding parameter.</code></pre>
</div></div>
<div class="paragraph"><p>To set the parameter value, assign a new value to it:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span>params<span style="color: #990000">.</span> <span style="color: #990000">=</span> newValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <code>newValue</code> is a new value of the parameter.</p></div>
<div class="paragraph"><p>Setting a new value for a entity parameter doesn&#8217;t result in automatic
update of the dataset.</p></div>
<div class="paragraph"><p>To update entity data and related entities, use the execute, function.
New data will be loaded only if the entity parameter values were
changed:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity object, `onSuccess` is the handler function for</code></pre>
</div></div>
<div class="paragraph"><p>refresh data on success event (optional) and <code>onFailure</code> is the handler
function for refresh data on failure event (optional).</p></div>
<div class="paragraph"><p>To force the update of entity data and related entities, use the requery
function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity object, `onSuccess` is the handler function for</code></pre>
</div></div>
<div class="paragraph"><p>refresh data on success event (optional), <code>onFailure</code> is the handler
function for refresh data on failure event (optional). Callback
functions are called when the database request is executed and its
results come to the client over the network.</p></div>
<div class="paragraph"><p>Handler of the <code>onRequeried</code> entity event will be called in any case,
regardless of the method of calling the <code>requery</code> function.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Update of entity data does not cancel the data changes made in the
entity dataset earlier, so after saving the model these changes will be
applied to the database. Data changes are reset only after saving the
entire model.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To access to the entity&#8217;s data, refer to the entity dataset as a regular
JavaScript array:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> model<span style="color: #990000">.[]</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` is an index of the array element within the `0...length - 1`</code></pre>
</div></div>
<div class="paragraph"><p>range.</p></div>
<div class="paragraph"><p>An array element is an data row instance, which was obtained as a result
of executing the query in the database. To access row&#8217;s fields, refer to
them by name:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propValue <span style="color: #990000">=</span> <span style="color: #990000">[].</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an object of the corresponding entity, `

    ` is an index of the array element within the `0...length - 1`</code></pre>
</div></div>
<div class="paragraph"><p>range, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a property of the entity object having the same name as the</code></pre>
</div></div>
<div class="paragraph"><p>rowset field.</p></div>
<div class="paragraph"><p>The following example shows the process of enumerating document rows in
the <code>documents</code> entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Logs all documents names</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> documents<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">[</span>i<span style="color: #990000">].</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>If an external key link is established between two entities, you can get
access to the data of the connected entity by using data instance
property having the same name as the connected entity. This properties
are generated during ORM resolution. If the entity&#8217;s underlying database
table contains an foreign key reference, the corresponding property
represents the connected entity.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propValue <span style="color: #990000">=</span> model<span style="color: #990000">.[]..</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the name of an entity, which contains the external key</code></pre>
</div></div>
<div class="paragraph"><p>reference, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an index of the array element within the `0...length - 1`</code></pre>
</div></div>
<div class="paragraph"><p>range, entityName2 is an entity containing the field, which is
referenced by the external key, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a property of the entity object having the same name as the</code></pre>
</div></div>
<div class="paragraph"><p>query results field.</p></div>
<div class="paragraph"><p>If the entity contains a field, which is referenced by the external key,
the property contains an array of the connected entity objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propValue <span style="color: #990000">=</span> model<span style="color: #990000">.[]..</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, which contains the external key reference, `

    ` is an index of the array element within the `0...length - 1`,</code></pre>
</div></div>
<div class="paragraph"><p>range entityName2 is an entity containing the field, which is referenced
by the external key, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an index of the connected object array element, `

    ` is a property of the entity object having the same name as the</code></pre>
</div></div>
<div class="paragraph"><p>query results field.</p></div>
<div class="paragraph"><p>Change for a foregn key link scalar and collection properties if
required. The changed values will be used as a properties names in the
correspondent entities.</p></div>
</div>
<div class="sect3">
<h4 id="cursor-api">Cursor API</h4>
<div class="paragraph"><p>To get access to the dataset row pointed out by the entity cursor use
the <code>model..cursor</code> property, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> currentValue <span style="color: #990000">=</span> model<span style="color: #990000">..</span>cursor</tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a corresponding entity, `

    ` is a property of interest.</code></pre>
</div></div>
<div class="paragraph"><p>The cursor is defined by position in the entity data array. In addition
to pointing to some object, the cursor can point to the position <em>before
the first object</em> and <em>after the last object</em>. In this case cursor
property is null.</p></div>
<div class="paragraph"><p>After loading or filtering dataset the cursor is placed on the first
object of the entity&#8217;s data array.</p></div>
<div class="paragraph"><p>To move the cursor over the data array, use the beforeFirst, afterLast,
first, next, prev, last, and pos entity&#8217;s methods.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Function </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>beforeFirst()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor to the position <em>before the first</em>
object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>afterLast()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor to the position <em>after the last</em> object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>first()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor on the first object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>last()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor on the last object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>next()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor on the next object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>prev()</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor on the previous object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pos(index)</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor to the specified position, where index is
the row index <code>Number</code> starting form 1.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>scrollTo(obj)</code></p></td>
<td align="left" valign="top"><p class="table">Sets the cursor on the specified object, where obj is
a row object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To get information about the cursor position, use the bof, eof methods
and the <code>rowIndex</code> entity property.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Function/property </th>
<th align="left" valign="top">Type </th>
<th align="left" valign="top">Returned value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>bof()</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table">true, if the cursor points to the position <em>before
the first object</em>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>eof()</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table">true, if the cursor points to the position <em>after the
last object</em>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>rowIndex</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">The current position of the cursor.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Use the <code>rowIndex</code> property to move the cursor to the specified
position.</p></div>
<div class="paragraph"><p>The following example uses cursor moving control functions to enumerate
<code>documents</code> entity objects and output document names:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">();</span><span style="font-style: italic"><span style="color: #9A1900">//Cursor is on the first object</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(!</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>eof<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>cursor<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
  model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To check for instances of data in the entity data array, use its <code>empty</code>
property: <code>model..empty</code>.</p></div>
<div class="paragraph"><p>The <code>empty</code> property is <code>true</code> if the entity data array is empty, and
<code>false</code> otherwise. For example, the following snippet outputs a message
into the log, if the <code>documents</code> entity data array is empty:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>empty <span style="color: #990000">&amp;&amp;</span> Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Documents is empty.'</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="saving-data">Saving data</h4>
<div class="paragraph"><p>Module&#8217;s data model provides automatic tracking of data changes. Data
changes can be saved only as a part of entire model.</p></div>
<div class="paragraph"><p>To edit, insert, or delete data, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit, insert, or delete an object from the entity data.
</p>
</li>
<li>
<p>
Call the save method of the model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To obtain access to the entity arbitrary objects, use the syntax of
referring to an array element:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.[].</span> <span style="color: #990000">=</span> <span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, entityName[i].propName is an object property</code></pre>
</div></div>
<div class="paragraph"><p>with the specified index in the entity data. `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an expression for the new value.</code></pre>
</div></div>
<div class="paragraph"><p>To change the appropriate property of the entity&#8217;s cursor, use the
following way:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span> <span style="color: #990000">=</span> <span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `


    ` is a property in the current cursor position in the entity</code></pre>
</div></div>
<div class="paragraph"><p>data, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an expression for the new value.</code></pre>
</div></div>
<div class="paragraph"><p>To save changes the data model changes, use its save method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span>where onSuccess is the handler <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> an event of successfull saving of <span style="font-weight: bold"><span style="color: #000000">data</span></span> <span style="color: #990000">(</span>optional<span style="color: #990000">)</span> and onFailure is the handler <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> a save data on failure <span style="font-weight: bold"><span style="color: #000000">event</span></span> <span style="color: #990000">(</span>optional<span style="color: #990000">).</span></tt></pre></div></div>
<div class="paragraph"><p>To insert a new object to a dataset:</p></div>
<div class="ulist"><ul>
<li>
<p>
Add a new object to entity dataset.
</p>
</li>
<li>
<p>
Call the save method of the data model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To insert a new object into a dataset, use the insert or push entity
functions.</p></div>
<div class="paragraph"><p>Call the insert function to insert a new object into the entity data. If
necessary, pass "key-value" pairs as parameters to this function. Here,
a key is the <code>.schema.</code> entity property, and a value is the value of
this property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">insert</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">insert</span></span><span style="color: #990000">(</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span> <span style="color: #990000">,</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span>
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Call the push function to insert a new object in the entity data — this
function is a standard method of inserting a new element into the
JavaScript array:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>If necessary, pass the JavaScript object, the property names of which
match the names of properties in the entity objects, as a parameter to
the function. Their values will be set as values of the new object
properties:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">:</span> <span style="color: #990000">,</span>
  <span style="color: #990000">:</span> <span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>When using the insert function, as well as when using the push function,
the cursor will point to a new object.</p></div>
<div class="paragraph"><p>After inserting, the new object will have the following properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
An identifying property gets the generated value, if a value was not
explicitly assigned to this property when inserting.
</p>
</li>
<li>
<p>
Properties, which form a part of the filter (if any), get values of
the corresponding filtration keys; a filter can be applied by the model
filtering connections or by the custom code.
</p>
</li>
<li>
<p>
Properties belonging to the "key-value" get the transferred values.
</p>
</li>
<li>
<p>
Other properties will be set to <code>null</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example of code for inserting a new object into the <code>documents</code> entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span>documens<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span> ID<span style="color: #990000">:</span><span style="color: #993399">101</span><span style="color: #990000">,</span> NAME<span style="color: #990000">:</span><span style="color: #FF0000">'New document name'</span><span style="color: #FF0000">}</span><span style="color: #990000">);</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To delete an object, use the deleteRow or splice entity functions.</p></div>
<div class="paragraph"><p>Call the deleteRow function without parameters to delete the current
object, i.e. the object, which the cursor is pointing to.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">deleteRow</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Pass an index of the object, which you want to delete, as a parameter to
the deleteRow method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">deleteRow</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` can take on `1...length` values.</code></pre>
</div></div>
<div class="paragraph"><p>Alternatively, pass the object to delete as the parameter of deleteRow
method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">deleteRow</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the one of the dataset row items.</code></pre>
</div></div>
<div class="paragraph"><p>Use the splice function to delete an object from the entity data by
passing an index and a number of elements to be deleted as arguments:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `index` is an index of the entity data array</code></pre>
</div></div>
<div class="paragraph"><p>element. <code>index</code> can take on a value within the <code>0...length-1</code> range, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a number of elements to be deleted.</code></pre>
</div></div>
<div class="paragraph"><p>Example of deleting the current object from the <code>documents</code> entity and
from the database:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Removes first element</span></span>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To remove all objects from the entity data, use the deleteAll entity
function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">deleteAll</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Example of deleting all objects from the <code>documents</code> entity and from the
database:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Removes all elements</span></span>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">deleteAll</span></span><span style="color: #990000">();</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Calling <code>save</code> function results in saving changes and commiting the
transaction.</p></div>
<div class="paragraph"><p>Calling save function may lead to an exception, for example, if saved
data are inconsistent with the database schema. In this case data are
not saved to the database. To handle this exception, use the
<code>try-catch-finally</code> statement:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
  model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span>e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">revert</span></span><span style="color: #990000">();</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">error</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Save data error: '</span> <span style="color: #990000">+</span> e<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>After handling the error, you can try to correct the cause of the
problem and re-call the save function.</p></div>
<div class="paragraph"><p>Use model&#8217;s <code>revert</code> method to revert model data changes. After this
method call, no data changes are avaliable for <code>save()</code> method, but the
model still attempts to commit. Calling <code>save()</code> on unchanged model
nevertheless leads to a commit.</p></div>
</div>
<div class="sect3">
<h4 id="search-api">Search API</h4>
<div class="paragraph"><p>Search operations can be performed after the data model loads its
entities' data.</p></div>
<div class="paragraph"><p>Search is performed in the model and doesn&#8217;t send new requests to the
database neither changes the data.</p></div>
<div class="paragraph"><p>To find an object by its identifier, use the findById entity method by
passing a key value to it:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">findById</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` is an expression for the search key.</code></pre>
</div></div>
<div class="paragraph"><p>If nothing is found, the findById function returns the <code>null</code> value.</p></div>
<div class="paragraph"><p>Example of code for searching for a document by its identifier and
displaying its name in the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documentId <span style="color: #990000">=</span> <span style="color: #993399">101</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> document <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">findById</span></span><span style="color: #990000">(</span>documentId<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>document<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Document name is '</span> <span style="color: #990000">+</span> document<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To perform search by arbitrary properties of objects, use the find
entity&#8217;s function. Pass the "key-value" pairs corresponding to the
property and search value as parameters of the find function. The search
is performed by checking the equality of the entity object property
values and values to search for.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> items <span style="color: #990000">=</span> model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span>
  prop1<span style="color: #990000">,</span> propValue1<span style="color: #990000">,</span>
  prop2<span style="color: #990000">,</span> propValue2
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">//propN, propValueN</span></span>
<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` — is an entity property in the form of `.schema.`; `

    ` — is a value to search for.</code></pre>
</div></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>findById и find functions are searching for objects using prepared hash
table by corresponding properties and don&#8217;t enumerate the row objects.
Therefore, it is recommended to logically separate the code for
searching and changing data, as after any change of data prepared hashes
are marked as obsolete, and are rebuilded when you attempt to perform
the search next time.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To get an object-property of the entity, use entity metadata:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> field <span style="color: #990000">=</span> model<span style="color: #990000">..</span>schema<span style="color: #990000">.;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` is the name of the corresponding property.</code></pre>
</div></div>
<div class="paragraph"><p>Search operation returns an array of found objects or an empty array if
nothing was found.</p></div>
<div class="paragraph"><p>This code snippet illustrates search documents by their names and by the
set flag:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documentName <span style="color: #990000">=</span> <span style="color: #FF0000">'Document 1'</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> isChecked <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> foundDocuments <span style="color: #990000">=</span> documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span>
  documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>NAME<span style="color: #990000">,</span> documentName<span style="color: #990000">,</span>
  documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>CHECKED<span style="color: #990000">,</span> isChecked<span style="color: #990000">,</span>
<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>foundDocuments<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> foundDocument <span style="color: #990000">=</span> foundDocuments<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>foundDocument<span style="color: #990000">.</span>DESC<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="filter-api">Filter API</h4>
<div class="paragraph"><p>Filtering operations can be performed after the data model loads its
entities data.</p></div>
<div class="paragraph"><p>Data filtering is performed in the model and do not cause sending new
requests to the database neither changes the data model data.</p></div>
<div class="paragraph"><p>You can specify filtering rules for any entity. Filtering rules will be
applied every time the data is loaded. Data rows, which failed to pass
the filtration condition, are not lost, but becomes invisible to the
application code.</p></div>
<div class="paragraph"><p>To create a filter, use the createFiter entity function and pass entity
schema properties, by which the filtration to be performed, as
parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> filter <span style="color: #990000">=</span> model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">createFilter</span></span><span style="color: #990000">(</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span>
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
  model<span style="color: #990000">..</span>shema<span style="color: #990000">.);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity,` model..schema.` is an entity field metadata</code></pre>
</div></div>
<div class="paragraph"><p>property.</p></div>
<div class="paragraph"><p>To apply a filter to data, use the apply function and pass filters
values in the same order, in which filtered fields were specified:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>filter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">apply</span></span><span style="color: #990000">(</span>
  filterValue1<span style="color: #990000">,</span>
  filterValue2<span style="color: #990000">,</span>
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
  filterValueN<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <code>filterValueN</code> is a value, by which the corresponding property
will be filtered.</p></div>
<div class="paragraph"><p>To cancel the filter, call the cancel filter function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>filter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">cancel</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>You can specify only one filter for each entity at a time. When you
apply a filter to the already filtered dataset, the previous filter is
replaced by a new one.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Example of using data filtrating and enumeration of results:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Set filter values</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> status <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> checked <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>
<span style="font-style: italic"><span style="color: #9A1900">//Create and apply filter</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> filter <span style="color: #990000">=</span> documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createFilter</span></span><span style="color: #990000">(</span>
  entity1<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>STATUS<span style="color: #990000">,</span>
  entity1<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>CHECKED<span style="color: #990000">);</span>
filter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">apply</span></span><span style="color: #990000">(</span>status<span style="color: #990000">,</span> checked<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// List filtered data</span></span>
documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">beforeFirst</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">while</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">())</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
<span style="font-style: italic"><span style="color: #9A1900">// Cancel filter</span></span>
filter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">cancel</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="sort-api">Sort API</h4>
<div class="paragraph"><p>To sort datasets objects according to some criteria use entity sorting
operations. Sorting can be performed after entity data is loaded.</p></div>
<div class="paragraph"><p>Data sorting is performed in the model and do not spawn new requests to
the database neither changes the data model data.</p></div>
<div class="paragraph"><p>Entity data can be sorted by several fields using the sorting rules.</p></div>
<div class="paragraph"><p>To specify the rules, create the sorting objects. To do this, use
createSorting entity&#8217;s function. Pass pairs defining the sorting order
and a property, by which sorting should be performed, as the parameters
to this function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sorting <span style="color: #990000">=</span> model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">createSorting</span></span><span style="color: #990000">(</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span> <span style="color: #990000">,</span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span> <span style="color: #990000">,</span>
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
  model<span style="color: #990000">..</span>schema<span style="color: #990000">.,</span> <span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `.schema.` is a property, by which sorting of</code></pre>
</div></div>
<div class="paragraph"><p>data of the entity, the createSorting function of which is called, will
be performed; <code>ascDescN</code> is the boolean ascending sorting order
attribute wich is equals <code>true</code> or for the descending sorting order is
equals to <code>false</code>.</p></div>
<div class="paragraph"><p>To sort data, use the sort entity function passing a sorting object as a
parameter to this function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">sort</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a sorting object.</code></pre>
</div></div>
<div class="paragraph"><p>Example of sorting entity data by name and reverse sorting by flag:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>
<span style="font-style: italic"><span style="color: #9A1900">//Create sorter</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sorter <span style="color: #990000">=</span> documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createSorting</span></span><span style="color: #990000">(</span>
  documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>NAME<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>CHECKED<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Sort objects</span></span>
model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">sort</span></span><span style="color: #990000">(</span>sorter<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To define the specific comparison logic, use an alternative version of
the sort function. To do this, pass a function, which implements the
comparison of two elements, as a parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span><span style="font-weight: bold"><span style="color: #000000">sort</span></span><span style="color: #990000">(</span>sortingFunction<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, sortingFunction is a function, which takes two</code></pre>
</div></div>
<div class="paragraph"><p>objects as parameters and compares them. The comparison function returns
a negative integer, if the first object is smaller than the second one,
returns 0, if they are equal, and returns a positive integer, if the
first object is greater than the second one.</p></div>
<div class="paragraph"><p>The following example shows the process of sorting entity data using an
anonymous comparison function. Sorting is performed by the length of the
document name:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
module<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">sort</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>doc1<span style="color: #990000">,</span> doc2<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> length1 <span style="color: #990000">=</span> doc1<span style="color: #990000">.</span>NAME <span style="color: #990000">!=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">?</span> doc1<span style="color: #990000">.</span>NAME<span style="color: #990000">.</span>length <span style="color: #990000">:</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> length2 <span style="color: #990000">=</span> doc2<span style="color: #990000">.</span>NAME <span style="color: #990000">!=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">?</span> doc2<span style="color: #990000">.</span>NAME<span style="color: #990000">.</span>length <span style="color: #990000">:</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> length1 <span style="color: #990000">-</span> length2<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="entity-events">Entity events</h4>
<div class="paragraph"><p>To implement some logic to react to the data events specify entity
events handlers functions. To create these handler functions assign
functions to entities' properties or use data model editor.</p></div>
<div class="paragraph"><p>Use an event handler function as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">EntityOnEventHandler</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   <span style="font-style: italic"><span style="color: #9A1900">//..code to handle this event</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Entity data events list is given in the table below:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Event type </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onChanged</code></p></td>
<td align="left" valign="top"><p class="table"><code>ChangeEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after changing the dataset object</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onDeleted</code></p></td>
<td align="left" valign="top"><p class="table"><code>DeleteEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after removing an object from the
dataset</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onInserted</code></p></td>
<td align="left" valign="top"><p class="table"><code>InsertEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after inserting a new object
into the entity dataset</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onFiltered</code></p></td>
<td align="left" valign="top"><p class="table"><code>EntityEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after filtering the entity
dataset</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onRequeried</code></p></td>
<td align="left" valign="top"><p class="table"><code>EntityEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after re-requesting the dataset
data, including the first request during the module&#8217;s startup</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>onScrolled</code></p></td>
<td align="left" valign="top"><p class="table"><code>CursorChangeEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called after changing the cursor
position in the entity dataset array</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>willChange</code></p></td>
<td align="left" valign="top"><p class="table"><code>ChangeEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called before changing the rowset
object</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>willDelete</code></p></td>
<td align="left" valign="top"><p class="table"><code>DeleteEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called before removing an object from
the dataset</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>willInsert</code></p></td>
<td align="left" valign="top"><p class="table"><code>InsertEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called before inserting an object into
the dataset</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>willScroll</code></p></td>
<td align="left" valign="top"><p class="table"><code>CursorChangeEvent</code></p></td>
<td align="left" valign="top"><p class="table">Is called before moving the cursor
over the entity dataset</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The events that are invoked before some action are cancelable from the
handler function by returning the <code>false</code> value. That way you can cancel
the following events: <code>willChange</code>, <code>willDelete</code>, <code>willInsert</code> and
<code>willScroll</code>.</p></div>
<div class="paragraph"><p><code>EntityEvent</code> is a generic entity object and contains the following
property:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>source</code></p></td>
<td align="left" valign="top"><p class="table">Event source object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Other entity events contain <code>source</code> property as in <code>EntityEvent</code>, as
well as their own specific properties.</p></div>
<div class="paragraph"><p><code>ChangeEvent</code> object specific propetries are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>propertyName</code></p></td>
<td align="left" valign="top"><p class="table">Changed property name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>oldValue</code></p></td>
<td align="left" valign="top"><p class="table">The value before change.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>newValue</code></p></td>
<td align="left" valign="top"><p class="table">The value after change.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>DeleteEvent</code> object specific propetries are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>deleted</code></p></td>
<td align="left" valign="top"><p class="table">The deleted object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>InsertEvent</code> object specific propetries are listed in the following
table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>inserted</code></p></td>
<td align="left" valign="top"><p class="table">The inserted object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>CursorChangeEvent</code> object specific propetries are listed in the
following table:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>oldIndex</code></p></td>
<td align="left" valign="top"><p class="table">The cursor position index before position change.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>newIndex</code></p></td>
<td align="left" valign="top"><p class="table">The cursor position index after position change.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of using an event handler function for validation:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Handles willChange event</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">usersWillChange</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">validateEmail</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">.</span>newValue<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">//Simple e-mail validation</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">validateEmail</span></span><span style="color: #990000">(</span>email<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> re <span style="color: #990000">=</span> <span style="color: #FF6600">/\S+@\S+\.\S+/</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> re<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">test</span></span><span style="color: #990000">(</span>email<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="data-schema">Data schema</h4>
<div class="paragraph"><p>JavaScript code has access to an entity&#8217;s fields metadata. It is
possible to read types, names, descriptions of entity properties and
parameters, and etc.</p></div>
<div class="paragraph"><p>To read an entity&#8217;s schema, use its <code>schema</code> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityMetadata <span style="color: #990000">=</span> model<span style="color: #990000">..</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, which schema you are interested in.</code></pre>
</div></div>
<div class="paragraph"><p>The same data can be obtained using the object-instance of this entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> model<span style="color: #990000">.[];</span><span style="font-style: italic"><span style="color: #9A1900">// Gets some item</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityMetadata <span style="color: #990000">=</span> item<span style="color: #990000">.</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` is an object's index.</code></pre>
</div></div>
<div class="paragraph"><p>To get access to the an entitiy&#8217;s property metadata:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propMetadata <span style="color: #990000">=</span> model<span style="color: #990000">..</span>schema<span style="color: #990000">.;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, `

    ` is the name of the corresponding property.</code></pre>
</div></div>
<div class="paragraph"><p>Example of code, which checks if the <code>id</code> property of the documents
entity is an object&#8217;s key.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>id<span style="color: #990000">.</span>pk<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'id is key attribute of entity.'</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The schema composed of the following properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Type </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>pk</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the property is an ID key</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fk</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the property is a reference to another entity
instance</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">String</p></td>
<td align="left" valign="top"><p class="table">Property name</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>description</code></p></td>
<td align="left" valign="top"><p class="table">String</p></td>
<td align="left" valign="top"><p class="table">Property description</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>readonly</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the property is read-only</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>size</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Size of the property value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>scale</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Scale</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>precision</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Accuracy</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>signed</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the property has a Number type and can
take on negative values</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nullable</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the property can take on the <code>NULL</code>
value</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To get the number of properties in the entity, use the <code>length</code> property
in the entity schema object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span>schema<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>You can read the property&#8217;s metadata by index as an array element:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span>schema<span style="color: #990000">[]</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity, and `

    ` is within the range from `0` to `entityMetadata.length-1`.</code></pre>
</div></div>
<div class="paragraph"><p>Below you can find an example of output all properties of the documents
entity into the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">.</span>md<span style="color: #990000">[</span>i<span style="color: #990000">]);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To read the entity parameter metadata, use the <code>schema</code> property of the
<code>params</code> object of a data model or entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> paramsMetadata <span style="color: #990000">=</span> model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> paramsMetadata <span style="color: #990000">=</span> model<span style="color: #990000">..</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the metadata of a specific parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> paramMetadata <span style="color: #990000">=</span> paramsMetadata<span style="color: #990000">.;</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a name of the parameter.</code></pre>
</div></div>
<div class="paragraph"><p>Example of code, which checks if the <code>documentID</code> parameter of the data
model was changed:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>documentID<span style="color: #990000">.</span>modified<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Parameter documentID was modified.'</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>You can read metadata composed of the following for the parameter:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Type </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>mode</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Parameter operation mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>defaultValue</code></p></td>
<td align="left" valign="top"><p class="table">Object</p></td>
<td align="left" valign="top"><p class="table">Default parameter value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>modified</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the parameter was changed and <code>false</code>
otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pk</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the parameter is a primary key and <code>false</code>
otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fk</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the field is an foreign key referring to
another entity and <code>false</code> otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">String</p></td>
<td align="left" valign="top"><p class="table">Name of the parameter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>description</code></p></td>
<td align="left" valign="top"><p class="table">String</p></td>
<td align="left" valign="top"><p class="table">Description of the parameter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>readonly</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the parameter is read-only and <code>false</code>
otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>size</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Size of the property value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>scale</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Scale</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>precision</code></p></td>
<td align="left" valign="top"><p class="table">Number</p></td>
<td align="left" valign="top"><p class="table">Accuracy</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>signed</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the parameter has a Number type and can
take on negative values and <code>false</code> otherwise</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nullable</code></p></td>
<td align="left" valign="top"><p class="table">Boolean</p></td>
<td align="left" valign="top"><p class="table"><code>true</code>, if the parameter is not mandatory and
<code>false</code> otherwise</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To get the number of model parameters, use the <code>length</code> property of the
model parameter schema object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>or just the <code>length</code> property of the model parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>To get the number of the entity parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>or:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">..</span>params<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is an entity.</code></pre>
</div></div>
<div class="paragraph"><p>To access parameter metadata by index, call it as an array element:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">[]</span></tt></pre></div></div>
<div class="paragraph"><p>where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is within the range from 0 to `params.schema.length-1`.</code></pre>
</div></div>
<div class="paragraph"><p>Below you can see an example of outputting all model data parameters
into the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>params<span style="color: #990000">.</span>md<span style="color: #990000">[</span>i<span style="color: #990000">]);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="dynamic-entities">Dynamic entities</h4>
<div class="paragraph"><p>Use model&#8217;s loadEntity(queryName)method, where queryName is the name of
the query to dynamically create an entity in the data model. The
generated entity can be used to read, insert or modify objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> docEntity <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Documents"</span><span style="color: #990000">);</span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">();</span>

<span style="font-style: italic"><span style="color: #9A1900">//Print all documents names</span></span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foreach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Change first document's name</span></span>
docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span> <span style="color: #990000">&amp;&amp;</span> docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>NAME <span style="color: #990000">=</span> <span style="color: #FF0000">"New document"</span><span style="color: #990000">;</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="executing-arbitary-sql">Executing arbitary SQL</h4>
<div class="paragraph"><p>In addition to using entities based on a query, data model allows to
execute arbitrary SQL code. Using entities based on a query instance
have a number of advantages, such as security management or ability to
work with the client code. However, if necessary, you can execute
arbitrary SQL.</p></div>
<div class="paragraph"><p>SQL execution is available on a server or on a desktop client wich has a
direct connection to a database.</p></div>
<div class="paragraph"><p>Use the following methods of <code>model</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
createEntity to dynamically create a new entity.
</p>
</li>
<li>
<p>
executeSql to execute SQL without any preprocessing.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Use model.createEntity(sqlQuery, dataSourceName) method, where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the query text, dataSourceName is the datasource name</code></pre>
</div></div>
<div class="paragraph"><p>(optional) to dynamically create a new entity, which can be used for
executing the SQL code. The generated entity can be used to read, insert
or modify objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> docEntity <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SELECT * FROM Document"</span><span style="color: #990000">);</span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">();</span>

<span style="font-style: italic"><span style="color: #9A1900">//Print all documents names</span></span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foreach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Change first document's name</span></span>
docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span> <span style="color: #990000">&amp;&amp;</span> docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>NAME <span style="color: #990000">=</span> <span style="color: #FF0000">"New document"</span><span style="color: #990000">;</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Use executeUpdate entity method to execute the SQL code, which contains
the <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> or DDL commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> e <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"DELETE * FROM Document d WHERE d.DOC_TYPE = 1"</span><span style="color: #990000">);</span>
e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">executeUpdate</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Use executeSql(sqlQuery) model&#8217;s method to execute the SQL code, which
contains the <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> commands, where `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is the query text:</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">executeSql</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"DROP TABLE Document"</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="data-source-module">Data source module</h3>
<div class="paragraph"><p>A module can be used as a data source in other modules data models just
like a query.</p></div>
<div class="paragraph"><p>To create a data source module implement the following instance
properties and methods:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>schema</code> property to represent the data source metadata information.
The schema information is repesented as an array of fields elements. For
each array element contains the following: <code>name</code> is the name of the
field, <code>entity</code> is the entity name to be used as a reference (optional),
<code>description</code> is the field&#8217;s description, type is the field&#8217;s type
(optional), <code>key</code> is true if the field is a primary key, <code>ref</code> is the
reference to the other entity&#8217;s field.
</p>
</li>
<li>
<p>
<code>fetch()</code> method to query data, where params is an object, with
properties as defined in this module&#8217;s model&#8217;s parameters.
</p>
</li>
<li>
<p>
<code>apply(, )</code> method to save the data, where log is an array represents
the log of changes made by clients or server side data driven code to be
applied, session is a current user session identifier. For every element
of the <code>log</code> array use <code>consume</code> method to consume this change log
record.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example of an datasource module usage is as the follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">DataSourceModule</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">,</span> model <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>schema <span style="color: #990000">=</span> <span style="color: #990000">[</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"p1"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"entity"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p1 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> String<span style="color: #990000">,</span>
         key<span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"p2"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"entity"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p2 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> String<span style="color: #990000">,</span>
         ref<span style="color: #990000">:</span> <span style="color: #FF0000">{</span>property<span style="color: #990000">:</span> <span style="color: #FF0000">"referencedPropertyName"</span><span style="color: #990000">,</span>
               entity<span style="color: #990000">:</span> <span style="color: #FF0000">"referencedEntityName"</span><span style="color: #FF0000">}}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"property3Name"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"optionalEntityName"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p3 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> Number<span style="color: #990000">,</span>
         required<span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #990000">];</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>fetch <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aParams<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">[</span>
            <span style="color: #FF0000">{</span>p1<span style="color: #990000">:</span> <span style="color: #FF0000">"nameA"</span><span style="color: #990000">,</span>
             p2<span style="color: #990000">:</span> <span style="color: #FF0000">"descriptionA"</span><span style="color: #990000">,</span>
             p3<span style="color: #990000">:</span> <span style="color: #993399">2</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">{</span>p1<span style="color: #990000">:</span> <span style="color: #FF0000">"nameB"</span><span style="color: #990000">,</span>
             p2<span style="color: #990000">:</span> <span style="color: #FF0000">"descriptionB"</span><span style="color: #990000">,</span>
             p3<span style="color: #990000">:</span> <span style="color: #993399">20</span><span style="color: #FF0000">}</span>
        <span style="color: #990000">];</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>apply <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aLog<span style="color: #990000">,</span> aSession<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Log length: "</span> <span style="color: #990000">+</span> aLog<span style="color: #990000">.</span>length
                    <span style="color: #990000">+</span> <span style="color: #FF0000">" Session: "</span> <span style="color: #990000">+</span> aSession<span style="color: #990000">);</span>
        aLog<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aChange<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            aChange<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">consume</span></span><span style="color: #990000">();</span>
        <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="server-modules">Server modules</h3>
<div class="paragraph"><p>This section provides information how to use special features of
JavaScript modules running on an application server.</p></div>
<div class="sect3">
<h4 id="statefull-and-stateless-session-modules">Statefull and stateless session modules</h4>
<div class="paragraph"><p>A module being created on server is stateful by default. Such module
exists in the context of the current user session.</p></div>
<div class="paragraph"><p>Mark a module with <code>@stateless</code> annotation if you want to make the
module stateless. A new instance of stateless module is created every
time the module is called via a network.</p></div>
</div>
<div class="sect3">
<h4 id="resident-module">Resident module</h4>
<div class="paragraph"><p>Use <code>@resident</code> annotation to make a server module resident. A resident
modules are loaded and instanciated during server startup. Resident
modules are resides in the system session. They are can&#8217;t be stateless.</p></div>
</div>
<div class="sect3">
<h4 id="data-validators">Data validators</h4>
<div class="paragraph"><p>Use annotation <code>@validator ,  ...</code>, where DATA_SOURCEN is a data source
name to enable server side validation. Implement validation logic in the
instance metheod <code>validate(, , )</code>, where log is an array of changes
representing the log of changes made by clients or server side data
driven code to be applied, `</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ` is a datasource name mentioned in `@validator` annotation</code></pre>
</div></div>
<div class="paragraph"><p>(relational datasource or script datasource module name), session is
current user session identifier, the method returns <code>false</code> to stop
validating process (e.g. break validators chain), nothing or true
otherwise or throws an exception if validation fails.</p></div>
<div class="paragraph"><p>A module with no data sources in <code>@validatior</code> annotation is invoked for
default application datasource.</p></div>
<div class="paragraph"><p>Server-side validator example is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@validator</span><span style="font-style: italic"><span style="color: #9A1900"> DataSource1</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ValidatorA</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">,</span> model <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>validate <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aLog<span style="color: #990000">,</span> aDatasource<span style="color: #990000">,</span> aSession<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="authorizers-and-dynamic-roles">Authorizers and dynamic roles</h4>
<div class="paragraph"><p>Use <code>@authorizer</code> annotation to implement dynamic roles assignment for
an arbitary user. The runtime checks all module authorizers as well as
checks the system and if any of them approves the user&#8217;s role this role
is considered authorized.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@authorizer</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">AuthorizerA</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">,</span> model <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">;</span>

    self<span style="color: #990000">.</span>isUserInRole <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aUser<span style="color: #990000">,</span> aRole<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"manager"</span> <span style="color: #990000">===</span> aRole <span style="color: #990000">&amp;&amp;</span> <span style="font-weight: bold"><span style="color: #000000">isManager</span></span><span style="color: #990000">(</span>aUser<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">isManager</span></span><span style="color: #990000">(</span>aUser<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
     <span style="font-style: italic"><span style="color: #9A1900">//Check and return true if a user is a manager..</span></span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="tips-and-tricks">Tips and tricks</h4>
<div class="paragraph"><p>Plain JavaScript <code>Date</code> object is serialized as ISO formatted string in
client/server communication while using browser as a client and J2EE
server as a server. So you should realize that on the client side it may
be JavaScript <code>Date</code> object, but on the server side it will be just
string. May be transferring of timestamp value instead of <code>Date</code> object
will be a good choice.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">// On the server side</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@public</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">DateChecker</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">,</span> model <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">;</span>

    self<span style="color: #990000">.</span>check <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aPoint<span style="color: #990000">,</span> aTimeStamp<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">(</span>aTimeStamp<span style="color: #990000">)</span> <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>

<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">// And on the client side...</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@module</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">PeriodCalculatorClient</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>
    self<span style="color: #990000">.</span>go <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> calc <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ServerModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"DateChecker"</span><span style="color: #990000">);</span>
        calc<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">check</span></span><span style="color: #990000">((</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">()).</span><span style="font-weight: bold"><span style="color: #000000">getTime</span></span><span style="color: #990000">(),</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aResult<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
            Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Legal date: "</span> <span style="color: #990000">+</span> aResult<span style="color: #990000">);</span>
        <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="scripting-java">Scripting Java</h3>
<div class="paragraph"><p>Calling Java classes from JavaScript code is possible for applications,
which are executed in the Platypus client or on the application server
in any configuration.</p></div>
<div class="paragraph"><p>To access the Java packages and classes, use the Java global object. For
example, to get access to the File class, use the java.io.File object.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Deletes file</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> aFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">File</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"/home/user/afile.txt"</span><span style="color: #990000">);</span>
aFile<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">delete</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>For convenience, you can assign an object, corresponding to a Java
package or class, to some variable:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> File <span style="color: #990000">=</span> java<span style="color: #990000">.</span>io<span style="color: #990000">.</span>File<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//Delete two files</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> aFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">File</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"/home/user/afile.txt"</span><span style="color: #990000">);</span>
aFile<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">delete</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> bFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">File</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"/home/user/bfile.txt"</span><span style="color: #990000">);</span>
bFile<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">delete</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Another approach to facilitate working with Java packages is using
<code>importPackage</code> global function, which serves the same purpose as the
<code>import</code> declaration in Java.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">importPackage</span></span><span style="color: #990000">(</span>java<span style="color: #990000">.</span>io<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> aFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">File</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"/home/user/afile.txt"</span><span style="color: #990000">);</span>
aFile<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">delete</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To avoid potential name conflicts, do not use the <code>java</code> name for your
objects and variables.</p></div>
<div class="paragraph"><p>java.lang.* packages are imported in Java by default, but this is not
true for JavaScript, because JavaScript has its own Boolean, Math,
Number, Object, and String objects. That&#8217;s why import of the java.lang
package is not recommended.</p></div>
<div class="paragraph"><p>External Java libraries are also available in JavaScript code. To use
them:</p></div>
<div class="ulist"><ul>
<li>
<p>
Make <code>.jar</code> or <code>.class</code> files of external libraries available for the
class loader; when using the desktop client they should be placed in the
<code>ext</code> folder; when deploying the application into the J2EE container,
they should be usually placed into the <code>WEB-INF/lib</code> folder.
</p>
</li>
<li>
<p>
Use <code>Packages</code> object to access to external packages. Check the
following examples:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sensor <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Packages<span style="color: #990000">.</span>biz<span style="color: #990000">.</span>altsoft<span style="color: #990000">.</span>sensors<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">NavSensor</span></span><span style="color: #990000">();</span>
<span style="font-style: italic"><span style="color: #9A1900">//Gets navigation data</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> navData <span style="color: #990000">=</span> sensor<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getData</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">importPackage</span></span><span style="color: #990000">(</span>Packages<span style="color: #990000">.</span>biz<span style="color: #990000">.</span>altsoft<span style="color: #990000">.</span>sensors<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sensor <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NavSensor</span></span><span style="color: #990000">();</span>
<span style="font-style: italic"><span style="color: #9A1900">//Gets navigation data</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> navData <span style="color: #990000">=</span> sensor<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getData</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Use the <code>importClass</code> global function to import only a single class:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">importClass</span></span><span style="color: #990000">(</span>Packages<span style="color: #990000">.</span>biz<span style="color: #990000">.</span>altsoft<span style="color: #990000">.</span>sensors<span style="color: #990000">.</span>NavSensor<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sensor <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NavSensor</span></span><span style="color: #990000">();</span>
<span style="font-style: italic"><span style="color: #9A1900">//Gets navigation data</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> navData <span style="color: #990000">=</span> sensor<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getData</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="multithreading">Multithreading</h3>
<div class="paragraph"><p>Use multithreading in JavaScript for code, which is executed in the
desktop client as well on the server code.</p></div>
<div class="paragraph"><p>To run a function in a separate thread, call the invokeBackground on the
function&#8217;s object, providing it with the necessary arguments:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">process</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// lengthy operation here</span></span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">//Run it in background</span></span>
process<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">invokeBackground</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Example of code to execute an anonymous function in a separate thread:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">/* some huge work */</span></span> <span style="color: #FF0000">}</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">invokeBackground</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Functions, which are run by the invokeBackground, are executed in the
thread pool, for which the maximum number of simultaneous threads is set
(10 be default). You can read and changed it using the getThreadPoolSize
and setThreadPoolSize global methods:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getThreadPoolSize</span></span><span style="color: #990000">());</span><span style="font-style: italic"><span style="color: #9A1900">// 10 by default</span></span>
<span style="font-weight: bold"><span style="color: #000000">setThreadPoolSize</span></span><span style="color: #990000">(</span><span style="color: #993399">16</span><span style="color: #990000">);</span>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getThreadPoolSize</span></span><span style="color: #990000">());</span><span style="font-style: italic"><span style="color: #9A1900">// 16</span></span></tt></pre></div></div>
<div class="paragraph"><p>Variables and properties of JavaScript objects ensure security of
reading and writing when accessing them from multiple threads.</p></div>
<div class="paragraph"><p>If it is necessary to implement the synchronization mechanism
independently, use the <code>Lock</code>, object, which is a JavaScript wrapper for
the java.util.concurrent.locks.ReentrantLock Java class. Refer to Java
documentation for more information.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Warning</strong></p></div>
<div class="paragraph"><p>Multithreaded programming is rather complex. Incorrectly implemented
thread synchronization scheme can lead to hardly detectable errors and
unexpected program behavior.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To update the user interface items in the desktop client, create a
thread, which is not a GUI thread (a thread of events processing), call
the invokeLater function of the function object, which accesses the user
interface items, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> text <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">complexComputation</span></span><span style="color: #990000">();</span>

  <span style="font-style: italic"><span style="color: #9A1900">// Update GUI:</span></span>
  <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">funcion</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> resultLabel<span style="color: #990000">.</span>text <span style="color: #990000">=</span> text <span style="color: #FF0000">}</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">invokeLater</span></span><span style="color: #990000">();</span>

<span style="color: #FF0000">}</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">invokeBackground</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="logging">Logging</h3>
<div class="paragraph"><p>The logging subsystem is built on the base of the Java Logging
infrastructure.</p></div>
<div class="paragraph"><p>To write into the log, use the <code>Logger</code> object, which is a shell for the
java.util.logging.Logger class. The <code>Logger</code> object is also available in
the HTML5 web browser client.</p></div>
<div class="paragraph"><p>Example of using the <code>Logger</code> object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"info text"</span><span style="color: #990000">);</span>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">warning</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"warning text"</span><span style="color: #990000">);</span>
Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">severe</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"severe error"</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Check the Administration Guide and Java documentation for information
about configuring logging in runtime.</p></div>
</div>
<div class="sect2">
<h3 id="filesystem-io">Filesystem I/O</h3>
<div class="paragraph"><p>To read and write files, use Java API from the <code>java.io.*</code> and other
dedicated packages.</p></div>
<div class="paragraph"><p>To read and write strings, use <code>readString(, )</code>, and <code>writeString(, , )</code>
global functions, where <code>path</code> is a path to the file, <code>text</code> is a
string, <code>encoding</code> is the name of encoding. The <code>encoding</code> parameter in
both functions is optional and by default is set for the UTF-8 encoding.</p></div>
<div class="paragraph"><p>Example of using functions for reading and writing strings to a file:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Read from one text file and write to another</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> str <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">readString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'/home/user1/Documents/doc1.txt'</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #000000">writeString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'/home/user1/Documents/doc2.txt'</span><span style="color: #990000">,</span> str<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="working-with-xml">Working with XML</h3>
<div class="paragraph"><p>To work with data in the XML format, use the script syntax in accordance
with the E4X specification (EcmaScript for XML). The E4X technology can
be used by the code, which is executed on Rhino runtime engine. For more
information refer to the E4X documentation.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Warning</strong></p></div>
<div class="paragraph"><p>E4X is obsolete. Although it is still supported, its usage is
discouraged in new projects. Try to avoid using it.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
<div class="sect2">
<h3 id="preface">Preface</h3>
</div>
<div class="sect2">
<h3 id="sql-query">SQL query</h3>
<div class="paragraph"><p>Query is an application element which defines the SQL expression to be
executed in database. A query&#8217;s SQL text is preprocessed before
execution.</p></div>
<div class="paragraph"><p>Queries can solve several tasks:</p></div>
<div class="ulist"><ul>
<li>
<p>
Requesting data from the database (<code>SELECT</code> queries).
</p>
</li>
<li>
<p>
Definintion of metadata for enabling implicit data modifications
commands generation (<code>SELECT</code> queries).
</p>
</li>
<li>
<p>
Performing explicit data manupulations (<code>INSERT</code>, <code>DELETE</code>, and
<code>UPDATE</code> queries).
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>In most cases, data adding and updating tasks are carried out by the
data model automatically when saving changes. To do that, you can just
specify a query of the <code>SELECT</code> type.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Queries have the following characteristics:</p></div>
<div class="ulist"><ul>
<li>
<p>
Queries support named and typed parameters.
</p>
</li>
<li>
<p>
SQL clauses are re-used to enable inclusion of some queries into other
queries without any duplication.
</p>
</li>
<li>
<p>
You can edit queries in the visual tool and as SQL text form
simultaneously.
</p>
</li>
<li>
<p>
Query results are translated into entities which can be processed by
JavaScript code in ORM style.
</p>
</li>
<li>
<p>
Query allows you to define the pattern for processing data changes
made while the application is running. It is possible to define a list
of tables where the changes will be stored.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="new-query-creation">New query creation</h3>
<div class="paragraph"><p>To create a new query, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu, or select
the parent directory and select the New File item in the main menu, or
click New File on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Query type in the context menu, or select Choose file type
Platypus application elements Query on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Select the connections to the database and the schema:
</p>
<div class="ulist"><ul>
<li>
<p>
Select the default database — click the Default button or a
connection to the external database — click the Specific button; select
the Db Connection application element using the application element
selection dialog.
</p>
</li>
<li>
<p>
Click Next.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Specify the name of the new query in the Name field, and click Finish
button to create the new application element, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After the query creation wizard completes the steps, a new empty query
is created.</p></div>
</div>
<div class="sect2">
<h3 id="query-editor">Query editor</h3>
<div class="paragraph"><p>The special editor is used to edit a query SQL and its support
configuration files. This editor allows you to perform visual editing of
the query and direct modicatation of the SQL source text.</p></div>
<div class="paragraph"><p>Full-featured editing using the visual editor is possible if the
connection to the database is established. If there is no connection to
the database, only the SQL source modification is possible.</p></div>
<div class="paragraph"><p>To determine the general properties, use the query properties panel or
add the relevant annotation to the query header manually:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the root node in the query inspector.
</p>
</li>
<li>
<p>
Edit the query properties on the Properties panel (if necessary,
enable the panel in the Windows Properties global menu).
</p>
<div class="ulist"><ul>
<li>
<p>
Check the public option to make the query accessible to remote
invocation, e.g. on the server and using from the Platypus Client or
browser data model.
</p>
</li>
<li>
<p>
Check the procedure option, if the query will be used to call the
stored procedure.
</p>
</li>
<li>
<p>
Check the manual option, if you want to avoid automatic execution of
the query, when it works as a part of the module, report, or form data
model, for example, if the query contains the call of the stored
procedure, <code>INSERT</code> or <code>UPDATE</code> expressions.
</p>
</li>
<li>
<p>
Check the readonly option, if you don&#8217;t want to save changes.
</p>
</li>
<li>
<p>
Select the specific connection to a database if you want the query to
be executed againts this database. To assign a query to the default
database connection, clear this field.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>For navigation through the queries, it is convenient to use the query
inspector panel. In the query inspector, parameters, tables, and
sub-queries are represented as a tree nodes. Parameters and data fields
are the leaves.</p></div>
<div class="paragraph"><p>A table or sub-query can be selected both in the visual editor and in
the query inspector.</p></div>
<div class="paragraph"><p>You can start editing the SQL query from setting the query parameters
(if necessary) or from using the visual editor.</p></div>
<div class="paragraph"><p>To add a database table to the query, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the SQL designer tab in the query editor.
</p>
</li>
<li>
<p>
Select the Add table/Add query Add table item on the editor toolbar,
or use the Ctrl Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select the table from the list in the table selection dialog; if
necessary, select the schema in the Schema drop-down list. The Default
button sets the default schema for the application, if necessary, use
the search function by clicking the Find button.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table to the desired location in the query
diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To include the existing query as a sub-query into the query being
edited, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table/Add query Add query item in the menu on the
editor toolbar.
</p>
</li>
<li>
<p>
Select the Query application element type in the selection dialog.
</p>
</li>
<li>
<p>
Click OK to add the query, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the query to the desired location in the visual
editor diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Drag the existing query from the application elements tree of the
Projects panel onto the visual editor diagram in order to include it
into the query being edited without opening the application elements
selection dialog.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To assign the table or sub-query alias, just type it in the text editor
or the query or perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table or sub-query in the query diagram.
</p>
</li>
<li>
<p>
On the Properties panel, specify the value in the alias field.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the table or sub-query from the query visual editor diagram,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table or sub-query in the diagram or in the query
inspector.
</p>
</li>
<li>
<p>
Click the Delete button on the query editor toolbar to remove the
table or sub-query from the diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>If the Properties panel is not displayed, enable this panel; to do that,
select the Window Properties item in the Platypus Application Designer
main menu.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To add the query parameters, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the New field/parameter button on the fields editing tab toolbar
to add a field.
</p>
</li>
<li>
<p>
Modify the new parameter properties; to do that, select its node among
the query parameters nodes in the inspector and edit the parameter
properties in the Properties window.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Parameter field properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
Name is the parameter name.
</p>
</li>
<li>
<p>
Description is the parameter description.
</p>
</li>
<li>
<p>
Type is the parameter type, select in the drop-down list.
</p>
</li>
<li>
<p>
Type Name is the data structure type name, this field is accessible
when the Structure field type is selected.
</p>
</li>
<li>
<p>
Size is the field length or precision.
</p>
</li>
<li>
<p>
Mode defines this parameter mode, in the case the parameter will be
used as the stored procedure parameter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Stored procedure parameter modes:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Value </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>in</code></p></td>
<td align="left" valign="top"><p class="table"><code>IN</code> operation mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>in/out</code></p></td>
<td align="left" valign="top"><p class="table"><code>IN/OUT</code> operation mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>out</code></p></td>
<td align="left" valign="top"><p class="table"><code>OUT</code> operation mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>unknown</code></p></td>
<td align="left" valign="top"><p class="table">Parameter operation mode is unknown</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To edit the query parameter, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the parameter node from the parameters nodes in the inspector.
</p>
</li>
<li>
<p>
Edit the parameters; to do that, follow the same steps as when
creating a parameter.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using theCtrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the parameter, perform the following action:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the parameter on the parameters panel.
</p>
</li>
<li>
<p>
Click the Delete button on the parameters editing tab toolbar, or use
the Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The query parameter can be linked to a table or sub-query field, or to a
sub-query parameter.</p></div>
<div class="paragraph"><p>When linked to field, the parameter will be included into the SQL source
— visually, the link will be displayed as a black arrow.</p></div>
<div class="paragraph"><p>When the parameter is linked to a sub-query parameter, the parameters
will be mapped in the query model, visually, this link will be displayed
as a magenta arrow.</p></div>
<div class="paragraph"><p>To add a link between the parameter and a field or sub-query parameter,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Using the mouse, drag the parameter to the table field or sub-query
parameter to which the parameter should be linked; visually, the link
will be displayed as an arrow between tables and sub-queries fields.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove a link, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the link between a parameter and a table field or sub-query
parameter.
</p>
</li>
<li>
<p>
Click the Delete button or use the Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using theCtrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Modifications of the SQL query made in the visual editor are displayed
in the source text on the SQL Source panel, and vice versa.</p></div>
<div class="paragraph"><p>Modify the SQL source text in the editor, for example, in order to add
custom conditions, or write the SQL source text from scratch. Use the
query inspector to drag the table fields and parameters from the
inspector tree right into the query source text. For the tables fields
names, use the SQL code auto-completion function.</p></div>
<div class="paragraph"><p>If necessary, database specific SQL clause can be provided for the
query.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Use the database specific SQL only when it is really necessary, and only
if there is no need to enable portability of applications to different
databases.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Query execution output fields are determined automatically as a result
of the SQL source text processing. Check this output field in the
inspector&#8217;s Output Fields node.</p></div>
<div class="paragraph"><p>It is possible to change the output field type, as well as its
description. To do that, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the output field among the Output Fields node children in the
inspector, and edit its properties in the Properties editing window.
</p>
</li>
<li>
<p>
Specify the output field type in the Type property by selecting it in
the drop-down list.
</p>
</li>
<li>
<p>
Specify the output field description in the Description property.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To execute a database SQL query in the database, perform the following
actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the application element and select the Execute item in the
query context menu or in the SQL Source editor context menu; execution
results will be displayed in the application designer output window.
</p>
</li>
<li>
<p>
If the query has parameters, specify them in the query execution
dialog. If necessary, modify the query source in the same dialog.
</p>
</li>
<li>
<p>
Click OK to execute the query, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To change the size of the query visual representation, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Press the Zoom In button to scale up, and press the Zoom out button to
scale down the query diagram.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To use the search function for searching through the query diagram,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Find button to open the search dialog for searching through
the query diagram.
</p>
</li>
<li>
<p>
Specify the search string, select fields to be searched through:
Datasets, Fields, Params, and check (uncheck) the following options:
Whole words — search for whole words, Match case — perform
case-sensitive search.
</p>
</li>
<li>
<p>
Click Next and Previous buttons to go to the next search result.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sql-source">SQL source</h3>
<div class="paragraph"><p>Edit the query&#8217;s SQL source on the SQL Source tab. SQL syntax must
comply with the SQL-92 standard.</p></div>
<div class="paragraph"><p>The SQL source text must begin with a special header, in a form of
multiline SQL comment.</p></div>
<div class="paragraph"><p>It is required to define a query name within the application in
accordance with the requirements applicable to JavaScript identifiers.
On creating a new query in Platypus Application Designer, its name will
be generated according to the created files name, spaces will be
replaced by underscores.</p></div>
<div class="paragraph"><p>Specify the query name, for this use the <code>@name</code> annotation in the query
header:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Query header example</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> AllDocuments</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> Document</tt></pre></div></div>
<div class="paragraph"><p><code>@public</code> annotation enables using this query in a remote client&#8217;s data
model, which fetches and writes data over network.</p></div>
<div class="paragraph"><p><code>@procedure</code> annotation enables using this query with database stored
procedure.</p></div>
<div class="paragraph"><p>SQL <code>SELECT</code> query can contain sampling of all fields using <code>*</code> symbol
or only the required ones using explicit fields definition. If the first
type of sampling is used, the names of the properties that will be
accessible in the JavaScript code are defined by the table columns
names, and can be uppercased or lowercased. To create the code
compatible with various databases, it is recommended to use the second
option with explicit indication of the query output fields, for example
<code>SELECT a, b, c FROM table</code>.</p></div>
<div class="paragraph"><p>Platypus queries can contain named parameters. Every parameter must
begin with <code>':'</code> prefix: <code>:</code>, where paramName is the name of the
parameter.</p></div>
<div class="paragraph"><p>Example of a SQL query source with the named parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Device log for period of time</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Timelog</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> TR_TRACKINGDEVICE_LOG trackingLog
<span style="font-weight: bold"><span style="color: #0000FF">WHERE</span></span> trackingLog<span style="color: #990000">.</span>DEVICE_ID <span style="color: #990000">=</span> <span style="color: #990000">:</span>deviceId
<span style="font-weight: bold"><span style="color: #0000FF">AND</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="color: #990000">&gt;=</span> <span style="color: #990000">:</span>timeFrom
<span style="font-weight: bold"><span style="color: #0000FF">AND</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="color: #990000">&lt;=</span> <span style="color: #990000">:</span>timeTo
<span style="font-weight: bold"><span style="color: #0000FF">ORDER</span></span> <span style="font-weight: bold"><span style="color: #0000FF">BY</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="font-weight: bold"><span style="color: #0000FF">ASC</span></span></tt></pre></div></div>
<div class="paragraph"><p>Queries can be used again in other queries. To use a query as the
sub-query, include its name in the SQL source with '<code>#'</code> prefix: <code>#</code>,
where SubQuery is the name of the query to be used as a sub-query.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Time log priority filter</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Filter</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> <span style="font-style: italic"><span style="color: #9A1900">#Timelog timeLog</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">WHERE</span></span> timeLog<span style="color: #990000">.</span>PRIORITY <span style="color: #990000">&gt;</span> <span style="color: #990000">:</span>priority</tt></pre></div></div>
<div class="paragraph"><p>In the snippet above, a query named <code>Timelog</code> is used as the sub-query
in the <code>Filter</code> query.</p></div>
<div class="paragraph"><p>If the sub-query contains parameters, it is necessary to associate them
with the parameters of the query into which it was embedded.</p></div>
<div class="paragraph"><p><code>SELECT</code> query type returns a dataset which is loaded to the some data
model and can be processed using the JavaScript code. Concrete data
values of these dataset can be changed while the application is running.
When enabled, this data changes can be automatically converted into the
set of SQL <code>INSERT</code> and <code>UPDATE</code> commands when saving to the database.
To make this mechanism work, the dataset returned by the <code>SELECT</code> query
must contain the primary keys of all relevant tables. This enables the
ORM implementation to determine to which database table row write the
changed data.</p></div>
<div class="paragraph"><p>In order to specify, which tables mentioned in the query can be modified
using this mechanism, use the following annotations: <code>@writable</code> &#8230; For
this annotation, provide the list of tables, using spaces to delimit
them.</p></div>
<div class="paragraph"><p>If there is no <code>@writable</code> annotation, all tables mentioned in the query
will become writable.</p></div>
<div class="paragraph"><p>To disable writing to all tables mentioned in the query, add the
<code>@readonly</code> annotation to the query header.</p></div>
<div class="paragraph"><p>In the example below only the <code>Document</code> table is writable:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> docsCategories</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@writable</span><span style="font-style: italic"><span style="color: #9A1900"> Document</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> Document d
<span style="font-weight: bold"><span style="color: #0000FF">INNER</span></span> <span style="font-weight: bold"><span style="color: #0000FF">JOIN</span></span> Category c
<span style="font-weight: bold"><span style="color: #0000FF">ON</span></span> d<span style="color: #990000">.</span>CategoryID <span style="color: #990000">=</span> c<span style="color: #990000">.</span>CATEGORY_ID</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sql-dialect-source">SQL dialect source</h3>
<div class="paragraph"><p>Enter database specific SQL source text at the SQL dialect source tab.</p></div>
<div class="paragraph"><p>It is necessary to enter the correspondent source text in the SQL source
field. This source text will be used for determination of the metadata
for processing the query results.</p></div>
<div class="paragraph"><p>If the specific SQL source text is provided, it will be used during the
query execution, and the main SQL source text will be used to extract
the metadata.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Use the database specific SQL only when it is really necessary, and only
if there is no need to enable portability of applications to the
different databases.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>An example of an Oracle database specific hierarchical query:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> LEVEL<span style="color: #990000">,</span> ename <span style="color: #FF0000">"employee"</span><span style="color: #990000">,</span> empno<span style="color: #990000">,</span> mgr <span style="color: #FF0000">"manager"</span>
 <span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> emp START <span style="font-weight: bold"><span style="color: #0000FF">WITH</span></span> mgr <span style="font-weight: bold"><span style="color: #0000FF">IS</span></span> <span style="font-weight: bold"><span style="color: #0000FF">NULL</span></span>
 CONNECT <span style="font-weight: bold"><span style="color: #0000FF">BY</span></span> PRIOR empno <span style="color: #990000">=</span> mgr<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>For the dialect query snippet above the main SQL source can be:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Hierarchial employees query</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Employees</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> emp</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="security">Security</h3>
<div class="paragraph"><p>Generally, access to data in the database must be differentiated for
various user groups. In Platypus there is an embedded security mechanism
which implements the constraints of access to the resources based on the
roles of the logged in user who is performing the current operation.</p></div>
<div class="paragraph"><p>To limit the access to the query for certain roles, add the
<code>@rolesAllowed</code> &#8230; annotation into the query header. For the added
annotation, specify the list of roles delimiting them by spaces.</p></div>
<div class="paragraph"><p>The roles listed in the <code>@rolesAllowed</code> annotation are granted with
rights both for reading and writing data to the database. If more
detailed definition of the data access policy is required, use the
<code>@rolesAllowedRead</code> and <code>@rolesAllowedWrite</code> annotations.</p></div>
<div class="paragraph"><p>Specify the list of roles, for which only data reading is allowed, in
the <code>@rolesAllowedRead</code> annotation.</p></div>
<div class="paragraph"><p>Specify the list of roles, for which only data writing is allowed, in
the <code>@rolesAllowedWrite</code> annotation.</p></div>
<div class="paragraph"><p>If none of the <code>@rolesAllowed</code>, <code>@rolesAllowedRead</code>, or
<code>@rolesAllowedWrite</code> annotations are specified for the query, the
database data manipulated by the query are readable and writable for any
user.</p></div>
<div class="paragraph"><p>An example of the query where reading and writing rights are granted to
the <code>admin</code> role only:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> AllCategories</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> Category</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="report">Report</h3>
</div>
<div class="sect2">
<h3 id="introduction-to-reports">Introduction to reports</h3>
<div class="paragraph"><p>The reporting tools allows a developer to generate reports as a
Microsoft Excel files. You can open a generated report in a spreadsheet
application, print or save it to disk.</p></div>
<div class="paragraph"><p><code>Report</code> is a regular JavaScript module with a report template. The
report constructor is defined in the JavaScript file by first function
or using the <code>@module</code> annotation.</p></div>
<div class="paragraph"><p>The report application element includes the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
a report template (a file in the Microsoft Excel format with the
<code>.xlsx</code> extension,
</p>
</li>
<li>
<p>
JavaScript code,
</p>
</li>
<li>
<p>
a data model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Reports are based on the jXLS library, which in turn uses the Apache POI
library. Markup and formatting of the report are defined in the template
file. Binding to data is performed using jXLS library tags placed in
spreadsheet cells.</p></div>
<div class="paragraph"><p>In the process of report generation, template tags are linked to model
entity&#8217;s dataset as well as to JavaScript objects.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/reportsFlow.png" alt="Data transformations while generating a report" />
</span></p></div>
</div>
<div class="sect2">
<h3 id="new-report-creation">New report creation</h3>
<div class="paragraph"><p>To create a report, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a New item in the parent directory context menu, or select the
parent directory and click New Filе in the main menu, or click New File
on the toolbar, or use a corresponding shortcut.
</p>
</li>
<li>
<p>
Select a Reporttype in the context menu, or select Choose file type
Platypus application elements Report on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Enter the name of a new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="reports-editor">Reports editor</h3>
<div class="paragraph"><p>To open reports editor, double-click the application element in the
project tree.</p></div>
<div class="paragraph"><p>Edit the report template in the spreadsheet application. The following
applications are used by default for different operating systems:</p></div>
<div class="ulist"><ul>
<li>
<p>
Windows: Microsoft Excel.
</p>
</li>
<li>
<p>
Linux: Open/Libre Office Calc.
</p>
</li>
<li>
<p>
Mac OS: Microsoft Excel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit a report:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Layout tab of the report editor, run the template editor by
clicking Edit report template.
</p>
</li>
<li>
<p>
Specify the report formatting, add tags of linking to data to the
template, save the report template in the template editor application.
</p>
</li>
<li>
<p>
On the Datamodel and Source tabs configure the data model and write
the JavaScript code.
</p>
</li>
<li>
<p>
Implement report <code>onBeforeRender</code> event handler in the JavaScript
editor.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the Platypus
Application Designer toolbar or by clicking theCtrl S shortcut.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="template-tags">Template tags</h3>
<div class="paragraph"><p>Edit the report template in a spreadsheet application.</p></div>
<div class="paragraph"><p>Place tags for linking to JavaScript objects and model entities'
datasets in the template cells. To access data, use the following
syntax: ${propertyName}, where propertyName is the module instance
object&#8217;s property.</p></div>
<div class="paragraph"><p>Example of writing the name of a documents into cells:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$<span style="color: #FF0000">{</span>documents<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Such a template will lead to insertion of multiple rows in a resulting
spreadsheet. Each row will represent documents collection item.</p></div>
<div class="paragraph"><p>Similarly, you can use a complex object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$<span style="color: #FF0000">{</span>library<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>You can use multiple tags in a single cell, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
Employee<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">-</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>age<span style="color: #FF0000">}</span> years</tt></pre></div></div>
<div class="paragraph"><p>In the JavaScript code, define objects, which will be available in the
template tags:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> reportA <span style="color: #FF0000">{</span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>docs <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>library <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
   library<span style="color: #990000">.</span>documents <span style="color: #990000">=</span> <span style="color: #990000">[</span>
    <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'foo'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'bar'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'baz'</span><span style="color: #FF0000">}</span>
   <span style="color: #990000">];</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Add entities, which will be linked to the template, to the report data
model.</p></div>
<div class="paragraph"><p>When outputting collections, a new row is added for each collection
element and the style of a cell, which contains tag, is set for the
cells of this row.</p></div>
<div class="paragraph"><p>If you know the size of the collection beforehand, you can use the
template rows instead of adding new rows for each element. To do this,
set <code>true</code> for the <code>fixed</code> special property of the collection.</p></div>
<div class="paragraph"><p>If necessary, specify dynamic styles for cells. These styles will vary
depending on the contents of the cell. To do this:</p></div>
<div class="ulist"><ul>
<li>
<p>
Define the style, which should be applied dynamically to the
collection element cell, for the special template cell, define a label
for this cell, for example, <code>$[0]customRow</code>; this cell can be placed on
a hidden template cell.
</p>
</li>
<li>
<p>
Set a special cellTemplateLabel property for the collection element by
inserting a link to the style cell into it, for example
<code>cellTemplateLabel='customRow'</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Use special tags in the template in order to predetermine the
transformation of data when generating the report.</p></div>
<div class="paragraph"><p>To display collections, use the <code>jx:forEach</code> tag:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${departments}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"department"</span><span style="color: #990000">&gt;</span>
  $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>chief<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>jx</code> tags may be embedded into each other. If you place opening and
closing tags on the same row, columns in this row will be duplicated.
Place the <code>jx:forEach</code> and <code>jx:forEach</code> tags on different rows to enable
duplication of rows between these tags. Other cells in rows, which
contain opening and closing tags, will be ignored.</p></div>
<div class="paragraph"><p>The <code>jx:forEach</code> tag allows grouping of collection data by one of the
properties. To arrange grouping, use the groupBy and groupOrder,
attributes, which determine the property to be used for grouping data
and the order of outputting groups, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> groupBy<span style="color: #990000">=</span><span style="color: #FF0000">"age"</span><span style="color: #990000">&gt;</span>
  Age<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>group<span style="color: #990000">.</span>item<span style="color: #990000">.</span>age<span style="color: #FF0000">}</span>
  <span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${group.items}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span><span style="color: #990000">&gt;</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span> <span style="color: #990000">|</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
  <span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>In this example, we group employees by age. When grouping, a new group
object is created in the context of the cycle. This object contains two
properties: item, which is the current group, and items, which is the
collection of all objects in the group.</p></div>
<div class="paragraph"><p>By default, if the groupOrder attribute is not present when grouping,
the original order of items in the collection is maintained. Use the
groupOrder attribute and assign <code>asc</code> and <code>desc</code> values for forward and
reverse sorting to this attribute.</p></div>
<div class="paragraph"><p>If the groupBy attribute is used in the <code>jx:forEach</code> tag, the var
attribute is ignored.</p></div>
<div class="paragraph"><p>Use the select attribute to determine elements of the collection which
should be included into the report. In the example below, we include
only employees with salary greater than 2000 into the report:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span> select<span style="color: #990000">=</span><span style="color: #FF0000">"${employee.payment &gt; 2000}"</span><span style="color: #990000">&gt;</span>
 $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the index of the current collection element, use the
varStatus, attribute and set the name of the object, to which the status
object will be assigned, for this attribute. The status object have only
an index property, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span> varStatus<span style="color: #990000">=</span><span style="color: #FF0000">"status"</span><span style="color: #990000">&gt;</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>status<span style="color: #990000">.</span>index<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>Use the <code>jx:if</code> tag to control output depending on the condition:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> test<span style="color: #990000">=</span><span style="color: #FF0000">"${department.chief.payment &gt; 2000.0}"</span><span style="color: #990000">&gt;</span>
Chief Name<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>chief<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>You can use the <code>jx:if</code> tag to show or hide columns; to do this, place
opening and closing tags in the same row — when exporting data, columns
contained in the body of the tag will be displayed or hidden.</p></div>
<div class="paragraph"><p>Use the <code>jx:outline</code> tag to group rows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>outline<span style="color: #990000">&gt;</span>
   <span style="font-style: italic"><span style="color: #9A1900">//any rows can go here</span></span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>outline<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>jx:outline</code> tag has an optional detail attribute, which determines
the state of the row group. By default, it is set to <code>false</code>, which
means that the row group will be hidden.</p></div>
</div>
<div class="sect2">
<h3 id="report-api">Report API</h3>
<div class="paragraph"><p>To generate a report, create a report object by passing the required
report identifier to the constructor name.</p></div>
<div class="paragraph"><p>Use the report object:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create an report instance using either <code>Report</code> or server report proxy
by <code>ServerReport</code> constuctors. Use <code>ServerReport</code> constructor for a
report generated on the server side.
</p>
</li>
<li>
<p>
Display a report by calling the show method. The report will be
downloaded and a command to open it will be executed.
</p>
</li>
<li>
<p>
Send the report to print by calling the print method.
</p>
</li>
<li>
<p>
Save the report file to disk by calling the save method; pass the path
of the file, to which the report should be saved, as a parameters.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>When executing the report in the HTML5 browser client, calling the
show(), print(), and save(reportPath) methods lead to the same results —
the report file will be downloaded by your browser.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>In the example below, the report is generated on client side by desktop
appliction:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Report</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'DocumentReport'</span><span style="color: #990000">);</span>
r<span style="color: #990000">.</span>params<span style="color: #990000">.</span>documentCategory <span style="color: #990000">=</span> <span style="color: #FF0000">'business'</span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// update the model</span></span>
r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">// show report</span></span></tt></pre></div></div>
<div class="paragraph"><p>To execute the report on the server side (from a HTML5 browser or a
desktop client):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/*</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @module</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @public</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">DocumentReport</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">,</span> model <span style="color: #990000">=</span> self<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
    <span style="font-style: italic"><span style="color: #9A1900">// take parameter's value from self property.</span></span>
    model<span style="color: #990000">.</span>params<span style="color: #990000">.</span>documentCategory <span style="color: #990000">=</span> self<span style="color: #990000">.</span>documentCategory<span style="color: #990000">;</span>
    <span style="font-style: italic"><span style="color: #9A1900">// ...</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ServerReport</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'DocumentReport'</span><span style="color: #990000">);</span>
<span style="font-style: italic"><span style="color: #9A1900">// provide some property to be taken as a model parameter</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// by the report at the server side</span></span>
r<span style="color: #990000">.</span>documentCategory <span style="color: #990000">=</span> <span style="color: #FF0000">'business'</span><span style="color: #990000">;</span>
<span style="font-style: italic"><span style="color: #9A1900">// Transfer the report's properties and download a report</span></span>
r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Report&#8217;s JavaScript code prepares data for displaying, calculating new
data, etc.</p></div>
<div class="ulist"><ul>
<li>
<p>
Write code in the report&#8217;s constructor to perform initialization.
</p>
</li>
<li>
<p>
Add code in the <code>onBeforeRender</code> event hanler function, which will be
invoked before starting the generation of report, when client calls the
show, print, or save methods.
</p>
</li>
<li>
<p>
For server-side reports think about what data should be transferred to
the server side and provide properties of report proxy before calling
<code>show()</code> method.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The report events:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Event </th>
<th align="left" valign="top">Handler parameters </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>onBeforeRender</code></p></td>
<td align="left" valign="top"><p class="table"><code>evt</code> — an event object</p></td>
<td align="left" valign="top"><p class="table">Is called before starting
the generation of the report</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="revision-history">Revision History</h3>
<div class="paragraph"><p>1-0 05.12.2012 Vadim Vashkevich Marat Gainullin</p></div>
</div>
<div class="sect2">
<h3 id="http">HTTP</h3>
</div>
<div class="sect2">
<h3 id="http-interface">HTTP interface</h3>
<div class="paragraph"><p>Server modules instance methods can be remotely invoked over network
using simple GET or POST HTTP requests.</p></div>
<div class="paragraph"><p>To make the module instance methods available for external requests,
mark it with the <code>@public</code> annotation.</p></div>
<div class="paragraph"><p>To invoke a server method, send a request by the URL formed using the
base URL of the Servlet and the <code>/api</code> suffix for accessing HTTP API.</p></div>
<div class="paragraph"><p>Specify the request type, the module name, the method name and
parameters of method calling in the URL parameters or in the body of the
POST request in the application/x-www-form-urlencoded format. The
request body will contain a value, which was returned in the executed
method.</p></div>
<div class="paragraph"><p>If the JavaScript object is returned from an instance method, it will be
serialized as JSON and string will be sent to a client as a response. If
the object of the String or XML type is returned, string response will
be sent to a client. It is also possible to specify the response content
type explicitly.</p></div>
<div class="paragraph"><p>Parameters of the server module method inocation request:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Parameter </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>__type</code></p></td>
<td align="left" valign="top"><p class="table">Request type. To execute the server module method, this
parameter should be set to <code>14</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>__moduleName</code></p></td>
<td align="left" valign="top"><p class="table">Module identifier.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>__methodName</code></p></td>
<td align="left" valign="top"><p class="table">Name of the called module method.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>__param</code></p></td>
<td align="left" valign="top"><p class="table">Method&#8217;s single parameter. A single value, a string, a
number or a serialized JavaScript object in the JSON format.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>__param[]</code></p></td>
<td align="left" valign="top"><p class="table">Method&#8217;s multiply parameters. Several values, value can be
a string, a <code>Number</code> or a serialized JavaScript objects in JSON format.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of URL for calling a server module method (URL is not encoded):</p></div>
<div class="paragraph"><p><a href="http://server/platypus/application/api?<em>type=14&amp;</em>moduleName=TestModule&amp;<em>methodName=say&amp;</em>param">http://server/platypus/application/api?<em>type=14&amp;</em>moduleName=TestModule&amp;<em>methodName=say&amp;</em>param</a>=Hello%20Platypus&amp;<em>param[]=1[<a href="http://server/platypus/application/api?</em>type=14&amp;<em>moduleName=TestModule&amp;</em>methodName=say&amp;<em>param">http://server/platypus/application/api?</em>type=14&amp;<em>moduleName=TestModule&amp;</em>methodName=say&amp;<em>param</a>=Hello
Platypus&amp;</em>param[]=1]</p></div>
</div>
<div class="sect2">
<h3 id="http-request-and-response-api">HTTP request and response API</h3>
<div class="paragraph"><p>To access HTTP request and response in the JavaScript server code, use
the <code>http</code> property, which is available, if the method is called by the
external HTTP request.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@public</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleConstructor</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> tester admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>doSomething <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>paramA<span style="color: #990000">,</span> paramB<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      <span style="font-style: italic"><span style="color: #9A1900">// Use self.http property</span></span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>http</code> property contains the following objects:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>request</code></p></td>
<td align="left" valign="top"><p class="table">HTTP request object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>response</code></p></td>
<td align="left" valign="top"><p class="table">HTTP response object.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The <code>request</code> object contains the following properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>authType</code></p></td>
<td align="left" valign="top"><p class="table">Authentication scheme name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>characterEncoding</code></p></td>
<td align="left" valign="top"><p class="table">Character encoding name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>contentLength</code></p></td>
<td align="left" valign="top"><p class="table">Request body length in bytes or -1, if the length is
unknown.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>contentType</code></p></td>
<td align="left" valign="top"><p class="table">MIME type of the request body or <code>null</code> if the type is
unknown.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>body</code></p></td>
<td align="left" valign="top"><p class="table">Request body as a string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>bodyBuffer</code></p></td>
<td align="left" valign="top"><p class="table">Request body as a bytes array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>contextPath</code></p></td>
<td align="left" valign="top"><p class="table">Part of URL, the request context.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cookies</code></p></td>
<td align="left" valign="top"><p class="table">Cookies which were sent by the client in the request in
key-value form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>headers</code></p></td>
<td align="left" valign="top"><p class="table">Request headers in key-value form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>localAddr</code></p></td>
<td align="left" valign="top"><p class="table">IP address, on which the request was received.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>localName</code></p></td>
<td align="left" valign="top"><p class="table">Иame of the host, on which the request was received.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>localPort</code></p></td>
<td align="left" valign="top"><p class="table">Port, on which the request was received.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>method</code></p></td>
<td align="left" valign="top"><p class="table">Request method HTTP name, for example <code>GET</code>, <code>POST</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>params</code></p></td>
<td align="left" valign="top"><p class="table">Request parameters in key-value form. If several parameters
have the same name, their values will be presented as an array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pathInfo</code></p></td>
<td align="left" valign="top"><p class="table">Additional information about the path in the request URL.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pathTranslated</code></p></td>
<td align="left" valign="top"><p class="table">Additional information about the path in the request
URL, worked out to the real path.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>protocol</code></p></td>
<td align="left" valign="top"><p class="table">Request protocol name and version in the form of
protocol/majorVersion.minorVersion, for example, <code>HTTP/1.1</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>queryString</code></p></td>
<td align="left" valign="top"><p class="table">URL request string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>remoteAddr</code></p></td>
<td align="left" valign="top"><p class="table">IP address of the client or last proxy.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>remoteHost</code></p></td>
<td align="left" valign="top"><p class="table">Fully qualified name of the client or last proxy.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>remotePort</code></p></td>
<td align="left" valign="top"><p class="table">Port of the client or last proxy.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>requestURI</code></p></td>
<td align="left" valign="top"><p class="table">A part of the URL request from the protocol name to the
request string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>requestURL</code></p></td>
<td align="left" valign="top"><p class="table">URL of the request.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>scheme</code></p></td>
<td align="left" valign="top"><p class="table">Request pattern, for example <code>http</code>, <code>https</code>, or <code>ftp</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>serverName</code></p></td>
<td align="left" valign="top"><p class="table">Name of the host, to which the request was sent.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>serverPort</code></p></td>
<td align="left" valign="top"><p class="table">Port, to which the request was sent.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>secure</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> when the request was sent via the secured channel, for
example HTTPS and <code>false</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>In the example below, all request headers are output into the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> http<span style="color: #990000">.</span>response<span style="color: #990000">.</span>headers<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>c <span style="color: #990000">+</span> <span style="color: #FF0000">' - '</span> <span style="color: #990000">+</span> http<span style="color: #990000">.</span>response<span style="color: #990000">.</span>headers<span style="color: #990000">[</span>c<span style="color: #990000">]);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>response</code> object contains the following properties and methods:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property/method </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>status</code></p></td>
<td align="left" valign="top"><p class="table">Current status of the response.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>contentType</code></p></td>
<td align="left" valign="top"><p class="table">MIME type of the response body.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>body</code></p></td>
<td align="left" valign="top"><p class="table">The text body sent in this response. The body must be set after
content type. Note that content length is set automatically.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>bodyBuffer</code></p></td>
<td align="left" valign="top"><p class="table">The binary body sent in this response, as a bytes array.
The body must be set after content type. Note that content length is set
automatically.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>headers</code></p></td>
<td align="left" valign="top"><p class="table">Response headers in key-value form.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>addHeader(name, value)</code></p></td>
<td align="left" valign="top"><p class="table">Adds a new header with the specified name and
value to the response.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>setHeader(name, value)</code></p></td>
<td align="left" valign="top"><p class="table">Defines a new value for the response header.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>addCookie(cookie)</code></p></td>
<td align="left" valign="top"><p class="table">Adds new cookies to the response.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The <code>cookie</code> object contains the following properties:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Property </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">The cookie name (required).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>value</code></p></td>
<td align="left" valign="top"><p class="table">The current cookie value (required).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>comment</code></p></td>
<td align="left" valign="top"><p class="table">Comment, which describes the purpose of the cookie.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>domain</code></p></td>
<td align="left" valign="top"><p class="table">Cookie domain name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maxAge</code></p></td>
<td align="left" valign="top"><p class="table">Cookie lifetime in seconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>path</code></p></td>
<td align="left" valign="top"><p class="table">Path on the server for which the browser returns this cookie.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>secure</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> set to notify the browser that this cookie should only
be sent over a secure protocol and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>version</code></p></td>
<td align="left" valign="top"><p class="table">Cookie protocol version.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>In the example below, new cookie will be added to the HTTP response:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>http<span style="color: #990000">.</span>response<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addCookie</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>
    name <span style="color: #990000">:</span> <span style="color: #FF0000">'platypus'</span><span style="color: #990000">,</span>
    value <span style="color: #990000">:</span> <span style="color: #FF0000">'test'</span><span style="color: #990000">,</span>
    maxAge <span style="color: #990000">:</span> <span style="color: #993399">60</span><span style="color: #990000">*</span><span style="color: #993399">60</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To delete cookie from your browser, set <code>0</code> for its <code>maxAge</code> property.</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2015-04-17 14:45:12 MSK
</div>
</div>
</body>
</html>
