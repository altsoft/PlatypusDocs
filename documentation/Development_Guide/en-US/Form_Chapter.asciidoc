= User interface guide
[[user-interface-guide]]

== Form
[[form]]

`Form` is a user interface building block wich can be represented as a
top-level window with a title and a decorations or can be build-in on a panel
or on another form.

A form is a regular JavaScript module with visual widgets. Any form
can be displayed both in J2SE client as well in HTML5 web-browser.

`Form` by default includes a top-level container, which holds widgets and other
containers and usually has `view` name.

A widget is a widget, which has a visual representation. A container
is a widget, which holds widgets and other containers.

Each widget, as well as the form itself, has a set of properties,
which defines the widget appearance and behavior, and a set of events
(e.g. user actions, for which you can define handlers).

image:images/form.png[Form's widgets layout]

In the J2SE client, forms are displayed in separate windows, can be
minimized or expanded to the full screen, displayed in other forms as
built-in elements (frames) and as internal windows in the DesktopPane
widget. In the HTML5 browser client, forms are displayed in the same
way, but within a browser page.

[[new-form-creation]]
New form creation
-----------------

To create a new form layout and JavaScript code in the IDE, perform the
following actions:

* Select New in the parent directory context menu, or select the parent
directory and click New File in the main menu, or click New File on the
main toolbar, or use a corresponding keyboard shortcut.
* Select Form type of the Platypus application element in the context
menu, or select Choose file type Platypus application elements on the
wizard first step and click Next.
* Enter the name for the new application element in the Name field and
click Finish to create it, or click Cancel to cancel.

== Visual UI editor
[[visual-ui-editor]]

Edit form widgets layout using the visual form editor. To open the
editor double-click the application element in the project tree.

To edit the form:

* Open the Design tab of the module editor.
* Drag a widget, a container or a menu from the widgets palette onto
the form surface.
* Arrange the widgets on the form.
* Set the general properties of the form and properties of each
widget on the Properties panel, e.g. text, font, foreground and
background colors.
* Specify handlers functions of the form and widgets. To do that
write the event handlers code in the JavaScript editor.
* Configure the form's data model and write code responsible for data
manipulations.
* Save the form by clicking Save All on the Platypus Application
Designer tool bar or by pressing Ctrl S shortcut.

______________________________________________________________________________________________________________________________
*Note*

A form should contain JavaScript code, responsible for user interface.
Business logic in most cases should be implemented in server modules.
______________________________________________________________________________________________________________________________

Form's structure is presented as a tree in the form inspector panel. Use
the inspector to select a widget, a container or a menu, to move a
widget from one container to another, and to select the container
layout.

Drag widgets up or down in the inspector tree or activate the Move
Up, Move Down, and Change Order context menu items to set the order
along the Z axis.

To run a quick preview of the form, click Preview design on the visual
editor tool bar. The preview window opens, showing a visual
representation of the form, which is identical to its look in runtime.

The anchors layout is enabled for all form's containers by default. To
choose some other layout for the specific container, select the layout
menu item in the Set Layout submenu from the container's context menu in
the inspector widget tree.

Add a widget from the pallete using the visual editor, anchors are
attached for the nearest container's sides and width and height values
are automatically set.

Change dimensions of the widget and its location by using the mouse
or arrows keys. When you move a widget using arrows keys, the
position of the widget is tied to the grid. Hold down the Ctrl to
move the widget smoothly. Hold down the Shift key to expand the
widget.

____________________________________________________________________________________________________________
*Note*

To define form's editor settings, use the properties setting
dialog:Tools Options Miscellaneous GUI Builder.
____________________________________________________________________________________________________________

To enable or disable an anchor, use anchors buttons on the form editor
toolbar.

Specify values for anchors and dimensions explicitly, changing the
values of the widget's properties panel in the Layout properties
group: Left, Top, Right, Bottom, Left, Width, and Height.

Anchors properties values are specified as a strings together with the
indication of measurement units: pixels or percentages. If measurement
units are not specified, pixels are used. If a value is defined as a
percentage, this anchor and dimension will be changed while maintaining
the defined value when changing dimensions of the container, for example
: `60px`, `30%`, `40`.

Use the widget alignment control buttons on the form editor tool bar
to align widgets in relation to each other. Alignment buttons become
active when you select multiple widgets. To select multiple widgets,
click them while holding down the Ctrl key.

Specify a widget's the properties and event handlers:

* Click a form area, which is free from other widgets, or select a
form node in the widget inspector.
* Change properties of the form on the Properties panel.
* Write code of the handlers in the JavaScript editor.

== Form API
[[form-api]]

Create a form instance in client JavaScript as follows:

[source,Javascript]
-------------------------- 
define('forms', function(Forms){
    var form = Forms.loadForm(ModuleName);
});
--------------------------

To make a form visible use the `show` method:

[source,Javascript]
-------------------- 
form.show();
--------------------

An application supports a registry of its shown forms. For every form an
identifier can be specified to refer to the shown form in this registry,
to do this use form's instance `formKey` property. By default a form's
key set to its module's name.

Use the `Form.getShownForm()` method, where formKey is a form's key to
get the shown form by its key.

[source,Javascript]
---------------------------------------- 
define('FormB', ['forms', 'forms/form'], function(Forms){});

define('FormA', ['forms', 'forms/form'], function(Forms){
    var formA = Forms.loadForm(ModuleName);
    var formB = Forms.loadForm('FormB');
    formA.formKey = 'A1';
    formB.formKey = 'B1';
    formA.show();
    formB.show();
    Form.getShownForm('A1').visible = false;
});
----------------------------------------

Get the array of the application's shown forms registry using `Form`
object `shown` property:

[source,Javascript]
---------------------------------------- 
for(var i=0;i < Form.shown.length;i++) {
    Logger.info(shownForms[i].title);
}
----------------------------------------

Explicitly provide form keys before using `Form.shown` because the shown
forms registry uses this keys as identifiers.

Add a handler function to the shown form's registry change event. Use
the `Form` object `onChange` property:

[source,Javascript]
---------------------------------- 
Form.onChange = function(e) {
    Logger.info(e.source.formKey);
    Logger.info(e.source.visible);
};
----------------------------------

The form properties are listed in the following table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`title` |Form's title text.

|`top` |The distance from the parent container top side.

|`left` |The distance from the parent container left side.

|`width` |The form's width.

|`height` |The form's height.

|`formKey` |The form's identifier in the open forms registry.

|`icon` |The form's `Icon`.

|`locationByPlatform` |`true` if form should appear at the default
location for the native windowing system or at the current location and
`false` otherwise.

|`opacity` |Opacity of the form, Number in the range of 0..1: 0 when it
is completely transparent, 1 when form is completely opaque.

|`resizable` |`true` if it is allowed changing of the form dimensions
and `false` otherwise.

|`undecorated` |`true` to enable displaying of the system borders and
form buttons and `false` otherwise.

|`minimizable` |`true` if the form is minimizable, and `false`
otherwise.

|`maximizable` |`true` if the form is maximizable, and `false`
otherwise.

|`minimized` |`true` if the form is minimized, and `false` otherwise
(read-only).

|`maximized` |`true` if the form is maximized, and `false` otherwise
(read-only).

|=======================================================================

The form methods are listed in the following table:

[cols="<,<",options="header",]
|=======================================================================
|Method |Description
|`show()` |Displays the form.

|`showInternalFrame(desktopPane)` |Displays the form within the
`DesktopPane` container provided as a `desktopPane` parameter.

|`showModal(callback)` |Displays the form as a confirmation dialog. If
`form.close(param)` method is used to close the dialog form, then
`callback` function is invoked with a `param` passed as an argument.

|`close(selected)` |Closes the form. This method may be used to return a
value, selected using the dialog. If the `selected` parameter is
specified, it will be passed as the `callback` argument of the function,
which is passed in turn as a parameter to the `showModal()` method of
the parent form. If the `selected` parameter has the `null` value, the
`callback` function will still be called. If the `selected` parameter is
not passed at all, the `callback` function won't be called.

|`minimize()` |Minimizes the form.

|`maximize()` |Maximizes the form.

|`restore()` |Restores the previous state of the form.

|`toFront()` |Brings the form to the forefront.
|=======================================================================

`Form` events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Event type |Description
|`onWindowActivated` |`WindowEvent` |Is called after the window
activation.

|`onWindowDeactivated` |`WindowEvent` |Is called after another window
activation.

|`onWindowClosed` |`WindowEvent` |Is called after closing the form
window.

|`onWindowClosing` |`WindowEvent` |Is called before closing the form
window.

|`onWindowRestored` |`WindowEvent` |Is called after
deactivating the form window.

|`onWindowMinimized` |`WindowEvent` |Is called after minimizing the
form.

|`onWindowMaximized` |`WindowEvent` |Is called after maximizing the
form.

|`onWindowOpened` |`WindowEvent` |Is called after opening the form
window.
|=======================================================================

The `windowClosing` event is cancelable. This event is useful for
invoking a dialog to confirm the window closing. If the handler returns
`false`, the form won't be closed:

[source,Javascript]
-------------------------------------- 
//Handles windowClosing event
form.onWindowClosing = function(evt) {
  return confirm("Close the window?");
}
--------------------------------------

To get access to the properties and events of the form from JavaScript
code, use the corresponding property:

[source,Javascript]
-------------------------------------- 
//Sets form's title
form.title = "Document form";

//Handles onWindowClosing event
form.onWindowClosing = function() {
  return confirm("Close the window?");
}
--------------------------------------

Typically the top-level container has the `view` name and form has same property:

[source,Javascript]
----------------------------------- 
//Sets the veiw's background
form.view.background = Color.BLACK;
-----------------------------------

== Widgets events
[[widgets-events]]

NOTE: Widget events are not propagated to the its parent in J2SE client.

The base `ComponentEvent` object contains `source` property that
contains the event's source widget.

Use an event handler function as follows:

[source,Javascript]
--------------------------------------- 
form.btnConnect.onEventHandler = function(evt) {
   evt.source.background = Color.WHITE;
}
---------------------------------------

The specific event objects also contain `source` property, as well as
their own specific properties. The following types of specific events
are defined: `ContainerEvent`, `KeyboardEvent` and `MouseEvent`.

`ContainerEvent` event object represents an event that is called when
something happens with the container, e.g. a widget added or
removed, its specific propetries are listed in the following table:

[cols="<,<",options="header",]
|=============================================================
|Property |Description
|`child` |Child widget container operation is performed on.
|=============================================================

`KeyEvent` event object contains information about a keyboard event,
e.g. a key pressed or released, its specific propetries are listed in
the following table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`key` |Key code associated with this event.

|`altDown` |`true` if Alt key is down on this event and `false`
otherwise.

|`controlDown` |`true` if Ctrl key is down on this event and `false`
otherwise.

|`shiftDown` |`true` if Shift key is down on this event and `false`
otherwise.

|`metaDown` |`true` if Meta key is down on this event and `false`
otherwise.
|=======================================================================

`MouseEvent` event object contains information about a mouse event, e.g.
a mouse moved or a mouse key is clicked, its specific propetries are
listed in the following table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`x` |The x coordinate of mouse pointer in evt.source space.

|`y` |The y coordinate of mouse pointer in evt.source space.

|`button` |`true` if Ctrl key is down on this event and `false`
otherwise.One of the following `Number` values: 0 for no button, 1 for
the button 1, 2 for the button 2 and 3 for the button 3.

|`clickCount` |The number of mouse clicks associated with this event.

|`altDown` |`true` if Alt key is down on this event and `false`
otherwise.

|`controlDown` |`true` if Ctrl key is down on this event and `false`
otherwise.

|`shiftDown` |`true` if Shift key is down on this event and `false`
otherwise.

|`metaDown` |`true` if Meta key is down on this event and `false`
otherwise.
|=======================================================================

== Standard widgets
[[standard-widgets]]

Standard widgets are simple widgets intended to organize
application's user interface.

To specify visual presentation of the widget, set its properties and
event handlers in the visual editor or in JavaScript code.

Standard widgets have a set of common properties and events as well as
specific properties and events.

The common properties for all widgets are listed in the following
table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`visible` |`true` if the widget is visible and `false` otherwise

|`background` |Background color

|`font` |Font

|`componentPopupMenu` |Popup menu

|`foreground` |Color

|`toolTipText` |Text, which is shown when hovering a cursor over the
widget

|`cursor` |Cursor above the widget

|`enabled` |`true` if the widget is enabled and `false` otherwise

|`focusable` |`true` if it is allowed for the widget to get keyboard
focus and `false` otherwise

|`opaque` |`true` if the widget's background is opaque and `false`
otherwise

|`error` |Error message of this widget. Validation procedure may set
this property and subsequent focus lost event will clear it.
|=======================================================================

Common events for all widgets are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ComponentEvent` |Is called when main action
performed

|`onComponentAdded` |`ComponentEvent` |Is called after adding the
widget

|`onComponentHidden` |`ComponentEvent` |Is called after hiding the
widget

|`onComponentMoved` |`ComponentEvent` |Is called after moving the
widget

|`onComponentRemoved` |`ComponentEvent` |Is called after removing the
widget from its container

|`onComponentResized` |`ComponentEvent` |Is called after changing the
widget size

|`onComponentShown` |`ComponentEvent` |Is called after displaying the
widget

|`onFocusGained` |`FocusEvent` |Is called after getting the keyboard
focus

|`onFocusLost` |`FocusEvent` |Is called after losing the keyboard focus

|`onKeyPressed` |`KeyEvent` |Is called after pressing the keyboard key

|`onKeyReleased` |`KeyEvent` |Is called after releasing the keyboard key

|`onKeyTyped` |`KeyEvent` |Is called after pressing the keyboard key

|`onMouseClicked` |`MouseEvent` |Mouse key is pressed and released

|`onMouseDragged` |`MouseEvent` |Widget is dragged by the mouse

|`onMouseEntered` |`MouseEvent` |Mouse cursor has entered the widget
rectangle

|`onMouseExited` |`MouseEvent` |Mouse cursor has left the widget
rectangle

|`onMouseMoved` |`MouseEvent` |Mouse cursor has changed its position

|`onMousePressed` |`MouseEvent` |Mouse key is pressed

|`onMouseReleased` |`MouseEvent` |Mouse key is released

|`onMouseWheelMoved` |`MouseWheelEvent` |Mouse wheel is rotated
|=======================================================================

=== Label
[[label]]

`Label` is a widget with a short piece of text, image or text with an
image. The label does not respond to keyboard input events and can't get
the keyboard focus.

The specific properties of this widget are listed in the following
table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`text` |Text

|`icon` |Icon

|`iconTextGap` |Gap between the text and the icon, in pixels

|`horizontalTextPositon` |Horizontal position of the text in relation to
the icon, one of the following: `HorizontalPosition.RIGHT`,
`HorizontalPosition.LEFT`, `HorizontalPosition.CENTER`

|`horizontalAlignment` |Horizontal position of the text with the icon
relative to the widget's size, one of the following:
`HorizontalPosition.RIGHT`, `HorizontalPosition.LEFT`,
`HorizontalPosition.CENTER`.

|`verticalTextPositon` |Vertical position of the text relative to the
icon, one of the following: `VerticalPosition.TOP`,
`VerticalPosition.BOTTOM`, `VerticalPosition.CENTER`

|`verticalAlignment` |Vertical position of the text with the icon
relative to the widget's size, one of the following:
`VerticalPosition.TOP`, `VerticalPosition.BOTTOM`,
`VerticalPosition.CENTER`.
|=======================================================================

To create a widget of this type by program means, use the Label
constructor, which can be called with a different number of parameters:

[source,Javascript]
---------------------------- 
var label = new Label(text, icon, iconTextGap);
----------------------------

where text is the text (optional), icon is an icon (optional),
iconTextGap is a gap between the icon and text (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
---------------------------- 
label.text = "Message text";
form.view.add(label, ...);
----------------------------

[NOTE]
It is useful, to manipulate with property `opaque` of Label widget.
If `opaque` property is set to true, than background of the widget
is filled and it is not filled otherwise. So you may use the `opaque`
property as a switcher of label's background.

=== Button
[[button]]

`Button` is a simple button, which responds to the click action.

The properties of this widget are listed in the following table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`icon` |`Icon` attached to `Button`.

|`text` |Widget's text.

|`iconTextGap` |Gap between the text and the icon, in pixels.

|`horizontalTextPositon` |Horizontal position of the text in relation to
the icon: `HorizontalPosition.RIGHT`, `HorizontalPosition.LEFT`,
`HorizontalPosition.CENTER`

|`verticalTextPosition` |Vertical position of the text in relation to
the icon: `VerticalPosition.BOTTOM`, `VerticalPosition.TOP`,
`VerticalPosition.CENTER`
|=======================================================================

The specific widget events are listed in the following table:

[cols="<,<,<",options="header",]
|======================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ActionEvent` |Button click event
|======================================================

To create a widget of this type by program means, use the Button,
which can be called with a different number of parameters:

[source,Javascript]
------------------------------ 
var btn5 = new Button(text, icon, iconTextGap, actionPerformed);
------------------------------

where text is text (optional), icon is an icon (optional), iconTextGap
is a gap between the icon and text (optional), actionPerformed is a
handler of the button clicking event (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
------------------------------------- 
btn5.text = "Click me";
btn5.onActionPerformed = function() {
  alert("Clicked!");
}
form.view.add(btn1, ...);
-------------------------------------

=== ToggleButton
[[togglebutton]]

`ToggleButton` is a button with two states: selected and not selected.

This widget looks like a standard button, but after a click action it
and it will stay in a toggled state. You can use this widget, for
example, when it is necessary to choose from the two options, but flags
or switches are not suitable.

The list of `ToggleButton` widget properties is identical to the
`Button` widget properties, with the the following specific properties:

[cols="<,<",options="header",]
|==================================================================
|Property |Description
|`buttonGroup` |The button group this button belongs
|`selected` |`true` if the button is selected and `false` otherwise
|==================================================================

The specific widget events:

[cols="<,<,<",options="header",]
|=======================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ActionEvent` |The widget user interaction event
|`onValueChange` |`ValueChangeEvent` |ToggleButton value change event
|=======================================================

To create a widget of this type by program means, use the
ToggleButton constructor, which can be called with a different number of
parameters:

[source,Javascript]
---------------------------------------------

var btn1 = new ToggleButton(text, icon, selected, iconTextGap, actionPerformed);
---------------------------------------------

where text is text, icon is an icon (optional), selected is set to `true` if the button is
selected and `false` otherwise (optional), iconTextGap is a gap between the icon and text,
actionPerformed is a handler function of the button clicking event (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
------------------------------------- 
btn1.text = "Turn me on!";
btn1.onActionPerformed = function(evt) {
    if(btn.selected)
        btn1.text = "Turn me off.";
    else
        btn1.text = "Turn me on!";
}
form.view.add(btn1, ...);
-------------------------------------

=== CheckBox
[[checkbox]]

`CheckBox` is a widget with two states: selected/not selected.

The specific widget events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ActionEvent` |The widget user interaction event
|`onValueChange` |`ValueChangeEvent` |CheckBox value change event
|=======================================================================

To create a widget of this type by program means, use the CheckBox
constructor, which can be called with a different number of parameters:

[source,Javascript]
---------------------------- 
var cb = new CheckBox(text, selected, actionPerformed);
----------------------------

where text is text (optional), selected is set to `true`, when the
check box is selected and `false` otherwise (optional),
actionPerformed is a handler function of the check box switching
event (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
-------------------------------------------------

cb1.text = "Check box 1";
cb1.selected = true;
cb1.onValueChange = function(evt) {
  alert("Value of check box 1 changed!");
}
form.view.add(cb1, ...);
-------------------------------------------------

=== RadioButton
[[radiobutton]]

`RadioButton` is a widget with two states: selected/not selected.
Widgets of this type can be joined into groups. Only one widget of this
type can be selected in one group.

The list of `RadioButton` widget properties is identical to the `Button`
widget properties, but it includes the following specific properties:

[cols="<,<",options="header",]
|==================================================================
|Property |Description
|`buttonGroup` |The button group this button belongs
|`icon` |The `Icon` for the widget
|`selected` |`true` if the button is selected and `false` otherwise
|==================================================================

See the description of the `Button` widget for the list of `RadioButton`
widget properties.

[cols="<,<,<",options="header",]
|======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ActionEvent` |The widget user interaction event
|`onValueChange` |`ValueChangeEvent` |Radio button value change event
|======================================================================

To create a widget of this type by program means, use the RadioButton
constructor, which can be called with a different number of parameters:

[source,Javascript]
-------------------------------- 
var rb1 = new RadioButton(text, selected, actionPerformed);
--------------------------------

where `text` is text (optional), `selected` is set to `true` when the
radio button is selected and `false` otherwise (optional),
`actionPerformed` is the user interaction handler function (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
--------------------------------------------------

rb1.text = "Radio button 1";
rb1.selected = true;
rb1.onActionPerformed = function(evt) {
    rb1.selected && alert("Radio button 1 selected!");
}
view.add(rb1, ...);
--------------------------------------------------

=== ButtonGroup
[[buttongroup]]

`ButtonGroup` is a special kind of a widget without its own visual
representation. After adding to the form, the button group widget
will be added to the Other widgets tree node on the inspector panel.

The group of buttons enables the simultaneous selection of only one of
widgets of `ToggleButton`, `RadioButton`, and
`RadioMenuItem` types, for which the same button group is assigned. When
you select one of the widgets in the group, the other widgets will be
reset.

Widget's specific events:

[cols="<,<,<",options="header",]
|=======================================================
|Event |Event type |Description
|`onItemSelected` |`ItemEvent` |Item switching event
|=======================================================

Set the `buttonGroup` property for the supported widgets types. To do
this, select the appropriate button group from the property field list
on the properties panel.

Use ButtonGroup constructor in your program:

[source,Javascript]
------------------------------------ 
var buttonGroup = new P.ButtonGroup();
------------------------------------

To specify a `ButtonGroup` for a exclusive buttons, use widget's
buttonGroup property:

[source,Javascript]
-------------------------------------- 
radioButton.buttonGroup = buttonGroup;
--------------------------------------

As an alternative method to add child buttons to the `ButtonGroup`, use
the add method:

[source,Javascript]
------------------ 
buttonGroup.add(widget);
------------------

where widget is a button widget to add.

After creating, add button widgets to the group:

[source,Javascript]
-------------------------------------- 
var rbA = new RadioButton("A", true);
var rbB = new RadioButton("B", false);
rbA.buttonGroup = buttonGroup;
rbB.buttonGroup = buttonGroup;
--------------------------------------

=== TextField
[[textfield]]

`TextField` is a simple widget, which allows you to edit single line
of text.

The properties of this widget are listed in the following table:

[cols="<,<",options="header",]
|================================================================
|Property |Description
|`text` |The text for the widget.
|`emptyText` |The text displayed when the actual value is absent.
|================================================================

The specific widget events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ActionEvent` |User interaction event firing when user changes the text
|`onValueChange` |`ValueChangeEvent` |Text field value change event
|=======================================================================

To create a widget of this type by program means, use the TextField
constructor, which can be called with a different number of parameters:

[source,Javascript]
-------------------------- 
var tf1 = new TextField(text);
--------------------------

where `text` is the field text (optional).

After creating, if necessary, set the properties and event handlers and
add the widget to the container:

[source,Javascript]
------------------------------------ 
tf1.emptyText = "Enter your name...";
view.add(tf1, ...);
------------------------------------

=== Slider
[[slider]]

`Slider` is a widget, which allows you to visually select a value by
moving the slider lever within the specified interval.

The properties of this widget are listed in the following table:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`maximum` |Maximum value

|`minimum` |Minimum value

|`value` |Value
|=======================================================================

The specific widget events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ComponentEvent` |Slider movement termination event
|`onValueChange` |`ValueChangeEvent` |Slider value change event
|=======================================================================

To create a widget of this type by program means, use the Slider
constructor, which can be called with a different number of parameters:

[source,Javascript]
---------------------------- 
var sl = new Slider(min, max, value);
----------------------------

where `min` is a minimum value (optional), `max` is a maximum value
(optional), `value` is the current value (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
---------------------------------------------

var sl1 = new Slider();
sl1.minimum = 0;
sl1.maximum = 100;
sl1.value = 50;
s1l.onActionPerformed = function(evt) {
  P.Logger.info("Slider moved.");
}
view.add(sl1, ...);
---------------------------------------------

=== ProgressBar
[[progressbar]]

`ProgressBar` is a widget, which visually shows the progress of some
task.

For example, during the execution of a task the percentage of its
completion may be displayed. In this case, set the minimum property
value to 0, maximum set the maximum property value to 100 and specify
the value when receiving new data on the progress of this task.

If you have no information about the current task progress or such data
can't be obtained, use the uncertainty mode, in which the indicator will
show that the task was started but is not completed yet instead of its
progress.

The specific properties of this widget are listed in the following
table:

[cols="<,<",options="header",]
|============================================
|Property |Description
|`maximum` |Maximum value
|`minimum` |Minimum value
|`value` |Value of progress
|`text` |Text displayed inside a progress bar
|============================================

To create a widget of this type, use the ProgressBar constructor,
which can be called with a different number of parameters:

[source,Javascript]
----------------------------- 
var pb = new ProgressBar(min, max);
-----------------------------

where `min` is a minimum value (optional), `max` is a maximum value (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
---------------------------- 
var pb1 = new ProgressBar();
pb1.minimum = 0;
pb1.maximum = 100;
view.add(pb1, ...);
----------------------------

=== FormattedField
[[formattedfield]]

`FormattedField` is a widget, which allows you to edit value of some
specific type as the text. So, a user sees just text and a program sees
a value of specific type e.g. date, number, boolean, string and etc.
Specify the valur type which will be managed by this field.
Provide the value's format according to value type and the widget's value.
The value is converted into the text of the required format before displaying.

You can configure the widget to enter some date in some
predefined formats, and also set the custom format to enter strings.

The `FormattedField` properties is identical to the `TextField` widget
properties, but it includes the following specific properties:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`valueType` |Type of value, managed by this field.
|`format` |Format string, specific for each value type.
|=======================================================================

The formatted field is intended to display and enter values of a
particular type. The format of displaying and editing can vary only
within a given type. Therefore, when you programmatically create this
widget, you should specify a value type before defining the format.
After determining the value type, the format can be changed if the
new format will be suitable for displaying and editing the values of this type.

Use the format setting dialog to specify the format string in the visual
editor. Click the button in the format property field. Select a category
from the following: number, date, time, percentage, currency, and mask.
Select a predefined format for the selected category or specify the
custom one in the Format field.

The specific widget events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameters |Description
|`onActionPerformed` |`ComponentEvent` |User interaction event: pressing the Enter key.
|`onValueChange` |`ValueChangeEvent` |Formatted field value change event: value property assignment from script, focus loose or pressing the Enter key
|=======================================================================

To create a widget of this type by program means, use the
FormattedField constructor, which can be called with a different number
of parameters:

[source,Javascript]
------------------------------ 
var ff = new FormattedField();
------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
---------------------------------- 
var ff = new FormattedField();
ff.valueType = Date;
ff.format = "dd.MM.yyyy HH:mm:ss";
ff.value = new Date();
----------------------------------

=== PasswordField
[[passwordfield]]

`PasswordField` is a simple input widget, which allows you to edit
single line of text. It displays placeholders instead of actual
characters.

The properties and events of `PasswordField` are identical to the
`TextField` widget.

To create a widget of this type in JavaScript code, use PasswordField
constructor, which can be called with a different number of parameters:

[source,Javascript]
----------------------------- 
var pf = new PasswordField(text);
-----------------------------

where `text` is text (optional).

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
----------------------------- 
var pf = new PasswordField();
view.add(pf, ...);
-----------------------------

=== TextArea
[[textarea]]
    

`TextArea` is the text widget for editing and displaying multiline
text.

The properties and events of `TextArea` are identical to the `TextField`
widget.

To create a widget of this type in JavaScript code, use TextArea
constructor, which can be called with a different number of parameters:

[source,Javascript]
------------------------------ 
var textArea = new TextArea(text);
------------------------------

where `text` is text (optional).

[source,Javascript]
------------------------------ 
var textArea = new TextArea();
view.add(textArea, ...);
------------------------------

=== HtmlArea
[[htmlarea]]

`HtmlArea` is a widget for editing and displaying HTML documents.
It is a WYSIWYG html editor.

When showing a form in web-browser, the editor area is displayed as HTML
WYSIWYG editor.

The properties and events of `HtmlArea` are identical to the `TextField`
widget.

To create a widget of this type in JavaScript code, use HtmlArea
constructor, which can be called with a different number of parameters:

[source,Javascript]
------------------------------ 
var textArea = new HtmlArea(text);
------------------------------

where `text` is text (optional).

[source,Javascript]
------------------------------------- 
var htmlArea = new HtmlArea();
htmlArea.text = "<p>Sample text</p>";
view.add(htmlArea, ...);
-------------------------------------

== Model widgets
[[model-widgets]]

Model widgets are widgets, which can be binded with JavaScript objects.

You can bind a model widgets to any JavaScript object. This object will change in response to the user
actions on the widgets and its changes will lead to automatic update of
data displayed on all bound widgets.

Configure specific properties for binding to JavaScript object, using
properties in the Model binding category.

Scalar model widgets represent a single JavaScript object and its specific
field. `field` here means some data accessible by some property path begining with
bound object. Property path is a string like a `cursor.customer.name`.
Only dot separated property paths are supported.
Other more complex model widget - `ModelGrid` can represent a JavaScript array.

Scalar model widgets have the following common properties:

[cols="<,<",options="header",]
|=============================================
|Property |Description
|`data`  |Bound JavaScript object.
|`field` |Bound property path within a `data` object.
|`value` |The current value for the widget.
|`nullable` |Nullable flag indicating, that clear button will be shonw to the right of the widget.
|=============================================

Scalar model widgets common events are listed in the following table:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameter |Description
|`onSelect` |The `aEditor` object is the source widget, is passed to
the event handler as a parameter, specify the value of the widget by
setting its properties. |Occurs when the select button, located next to
the widget, is clicked. The select button is displayed only if the
handler is defined.

|`onRender` |`RenderEvent` |Occurs when preparing the widget for
displaying (both when it is used independently or as a `ModelGrid`
widget cell).
|=======================================================================

Any model widget can be presented as an independent widget and as a
`ModelGrid` cell's widget. There is an "abstract" cell in each model
widget. It is available in the `onRender` event handlers.

`RenderEvent` object specific propetries are listed in the following
table:

[cols="<,<",options="header",]
|=========================================
|Property |Description
|`object` |The data object being rendered.
|`cell` |The "abstract" cell.
|`column` |The grid's column node.
|=========================================

For such a `cell`, the following properties are defined:

* `display` is the displayed text.
* `data` is the value of the cell.

Model widgets also have the same basic properties and events as standard
widgets. It is not recommended to specify handlers of low-level events
(keyboard, mouse movement events, etc.) for model widgets.

The following example illustrates how to use `onSelect` event:

[source,Javascript]
---------------------------------------- 
/**
 * Shows custom selector dialog and sets
 * the cell's editor's value.
 *
 */
form.button.onSelect = function(aEditor) {
  var selector = new PetSelector();
  selector.showModal(function(){
    aEditor.value = selector.pet;
  });
}
----------------------------------------

`onRender` event usage example is as follows:

[source,Javascript]
-----------------------------------------------------

/**
 * Renders a cell with complex data
 */
form.cbCategory.onRender = function(evt) {
    var txt = '';
    categories.find(categories.schema.CAT_ID, evt.id)
        .forEach(function(aDoc) {
             if(txt.length > 0) {
                 txt += ' ';
             }
             txt += aCat.NAME ? aDoc.NAME : '';
        });
    evt.cell.display = txt;
}
-----------------------------------------------------

=== ModelCheckBox
[[modelcheck]]

`ModelCheckBox` is a scalar model widget representing a check box, the
state of which is linked to an entity's field of a Boolean, Number, or
String type.

The data of various types is displayed as boolean data by this widget.
Data types conversion rules are as follows:

* Widget's value is displayed as `true` when actual data is the
following values: Boolean type: `true`, Number type: any number other
than `0`, String type: any string other than empty.
* Widget's `true` value is converted to various types as follows:
Boolean: `true`, Number type: `1`, String type: `'true'`.
* Widget's `false` value is converted to various types as follows:
Boolean type: `false`, Number type: 0, String type: an empty string.

To configure the widget binding specifiy the data and field properties for
the widget.

To create a widget of this type by program means, use the
ModelCheckBox constructor:

[source,Javascript]
------------------------------------- 
var modelCheck = new ModelCheckBox();
-------------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
-----------------------------------------------

modelCheck.data = model.entityA.cursor;
modelCheck.field = 'fieldA';
view.add(modelCheck, ...);
-----------------------------------------------

=== ModelCombo
[[modelcombo]]

`ModelCombo` is a scalar model widget representing a lookup box that is
bound to some data object and its property path. It holds and edits one
value and displays some other looked up value. It allows you to select a
value from a list or form a selection form. List items are also looked up
while displaying.

`ModelCombo` widget has the following specific properties:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`displayField` |Property path inside value or list items to be used to obtain data to be displayed.

|`displayList` |Object to be used as lookup list.

|`list` |`true` to allow selection from drop-down list and `false` otherwise.
|=======================================================================

To configure the widget's model binding:

* Specify the data property for the widget.
* Specify the field property for the widget.
* Specify the displayList property.
* Specify the displayField property.
* To allow selection of value from the list, enable the list property
checkbox.
* To allow a customized selection of the widget's value, specify
`onSelect` event handler.

To create a widget of this type by program means, use the ModelCombo
constructor:

[source,Javascript]
---------------------------------- 
var modelCombo = new ModelCombo();
----------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
----------------------------------------------------

//Specify value field as a model parameter:
modelCombo.data = model.pets;
modelCombo.field = 'cursor.owner';

//Lookup fields:
modelCombo.displayList = model.owners;
modelCombo.displayField = 'ownerName';

view.add(modelCombo, ...);
----------------------------------------------------

=== ModelDate
[[modeldate]]

`ModelDate` is a scalar model widget representing a timestamp and bound to
some date or timestamp in some object.

`ModelDate` widget has the following specific properties:

[cols="<,<",options="header",]
|=================================================================
|Property |Description
|`editable` |`true` if the date is editable and `false` otherwise.
|`datePicker` |`true` if the date part is editable by popup window of date picker and `false` otherwise.
|`timePicker` |`true` if the time part is editable by popup window of time picker and `false` otherwise.
|=================================================================

To configure the widget model binding:

* Specify the data property for the widget.
* Specify the field property for the widget.
* Specify the date and time format. E.g. 
* Enable the datePicker flag to display the calendar button on the right side of the widget.
* Enable the timePicker flag to display the clock button on the right side of the widget.

To create a widget of this type by program means, use the ModelDate
constructor:

[source,Javascript]
-------------------------------- 
var modelDate = new ModelDate();
--------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
-------------------------------------------------

modelDate.data = model.pets;
modelDate.field = 'cursor.dateOfBirth';
modelDate.format = 'dd.MM.yyyy';
modelDate.datePicker = true;
modelDate.timePicker = false;
modelDate.editable = true;
view.add(modelDate, ...);
-------------------------------------------------

=== ModelGrid
[[modelgrid]]

`ModelGrid` model widget is a powerful widget to display and enter data,
which is presented in a tabular form and as a tree.

`ModelGrid` widget has the following features:

* Array's data presentation as a cell view.
* Data cells editing, inserting new and deleting rows.
* Frozen non-scrollable rows and/or columns.
* Service columns with the cursor pointer, checkboxes and radiobuttons.
* Multiple service column at a time.
* Governing of data object cursor property while scrolling and user selection actions.
* Tree view of rows with multiple columns as well.

`ModelGrid` widget has the following specific properties:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`frozenColumns` |The number of the non-scrollable grid columns.

|`frozenRows` |The number of the non-scrollable grid rows.

|`gridColor` |The `Color` of the grid.

|`oddRowsColor` |The `Color` of the grid's odd rows.

|`rowsHeight` |The height of the grid's rows.

|`showHorizontalLines` |`true` to show horizontal lines and `false` otherwise.

|`showVerticalLines` |`true` to show vertical lines and `false` otherwise.

|`showOddRowsInOtherColor` |`true` to show odd rows in the different color and `false` otherwise.

|`deletable` |`true` to enable rows delete operation for the grid and `false` otherwise.

|`editable` |`true` to enable cells edit operation for the grid and `false` otherwise.

|`insertable` |`true` to enable rows insert operation for the grid and `false` otherwise.

|`data` |The bounded object/array for the grid rows.

|`field` |Property path within data object to object/array for the grid rows.
It might be omitted if data property points to actual grid's rows array.

|`childrenField` |Determines wich property of data array's element consists element's children collection.

|`parentField` |Determines wich property of data array's element consists scalar reference to parent element.

|`selected` |All selected in grid elements of `data` array as an array.

|=======================================================================

`ModelGrid` widget has the following specific methods:

[cols="<,<,<",options="header",]
|=======================================================================
|Method |Parameters |Description
|`select` |(aObject) | Selects the specified grid's data array element.

|`unselect` |(aObject) | Deselects the specified grid's data array element.

|`clearSelection` |() | Deselects all selected grid's data array elements. E.g. clears the slection.

|`find` |() | Opens find dialog

|`makeVisible` |(aObject, ifSelect) | Scrolls a ModelGrid's view to show gird's row of the specified element in visible area.

|`unsort` |() | Cancels all sorting in the ModelGrid.

|`redraw` |() | Redraws in J2SE client and regenerates all inner ModelGrid's markup in browser client.

|`removeColumnNode` |(aColumn) | Removes the specified column from ModelGrid's header and columns collection.

|`addColumnNode` |(aColumn) | Adds the specified column to ModelGrid's header and columns collection at the end.

|`insertColumnNode |(aIndex, aColumnFacade) | Adds the specified column to ModelGrid's header and columns collection at the specified index.

|`added` |(aAddedElements) | Notifies the grid about additions of elements to `data` array. `aAddedElements` is the array of added elements.

|`removed` |(aRemovedElements) | Notifies the grid about removes from `data` array. `aRemovedElements` is the array of removed elements.

|`changed` |(aChangedElements) | Notifies the grid about changes of certain elements in `data` array. `aChangedElements` is the array of changed elements.
|=======================================================================

`ModelGrid` widget has the following specific events:

[cols="<,<,<",options="header",]
|=======================================================================
|Event |Handler parameter |Description
|`onItemSelected` |`ItemEvent` |Selection lead of the grid change event.

|`onCollapse` |`ItemEvent` |Event handler, which will be called when user collapses a grid's row.

|`onExpand` |`ItemEvent` |Event handler, which will be called when user expands a grid's row.

|`onRender` |`RenderEvent` |Event handler, which will be called for each data
grid cell, if a similar handler was not defined for theirs columns.

|`onAfterRender` |`Event` |Event handler, which will be called when cells' rendering is complete.
It is called in asynchronous manner.
|=======================================================================

To configure `ModelGrid` properties:

* Use the frozenColumns and frozenRows properties in the Apperance
properties group to freeze the required number of columns on the left
and/or rows on the top of the grid.
* Use service columns from designer's palette. There are service columns 
of the following types:
** Ordinary service column is displayed with the cursor icon.
** Service column with check boxes allows you to select multiple
rows
** Service column with radio buttons allows you to select only one row of the grid.
* Use the `onRender` event handler, which will be called for each data
grid cell, if a similar handler was not defined for theirs columns.
* If you whant to make a hierarchical view of rows, then you need to configure
parentField and childrenField properties. They will be used to discover children rows of
a particular row and to determine what is the parent row of the row.

`ModelGridColumn` has the following properties:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`title` |The column's title string.

|`visible` |`true` the column is visible and `false` otherwise.

|`background` |The header style background
color.

|`foreground` |The header style foreground
color.

|`font` |The header font.

|`maxWidth` |The maximum width of the column.

|`minWidth` |The minimum width of the column.

|`preferredWidth` |The preferred width of the column.

|`width`|Readonly property, calculated by the grid according to columns widths automatic distribution algorithm.

|`movable` |Flag indicating thst column can be moved by user.

|`resizable` |`true` if the column can be resized by user and `false`
otherwise.

|`field` |Property path of rendered and edited value of the cell. Property path is accounted against data object of grid's row.

|`sortable` |`true` if the grid's rows can be sorted by the column cells vales and `false` otherwise.

|`sortField` |Property path within data object of grid's row to be used as sorting keys source while sorting by the column.

|`readonly` |`true` if the column's cells is in a read-only mode and `false`
otherwise.

|`onRender` |Event handler, which will be called for each data
grid cell within the column.

|`onSelect` |Value selection handler, which will be called while user clicks on select button on the right side of edited cell.
|=======================================================================

`ModelGrid` has ability to change it's cells' display style and to
select values using custom editors while editing cells. In order to use
these features, define `onRender` and `onSelect` event handlers in
particular columns. If `onRender` event handler is defined on a column,
it will be ivoked rather than similar event handler, defined on
`ModelGrid`. Refer to link:#mwidgets[Model Widgets] section to read
about how to deal with `onRender` and `onSelect` event handlers.

Use the form inspector: the inspector displays the grid's columns node
as children of `ModelGrid` widget node and allows you to edit them.

To add, remove and configure grid columns:

* To fill all `ModelGrid` columns corresponding to the fields of the
linked data model entity, select Fill columns. In this case, columns'
binding will be performed automatically.
* To manually add a column to `ModelGrid` drag it from the widgets
palette or add it using Add from palette context menu in form inspector.
* To add a column as a child to another column use parent column's node
Add from palette of from context menu in form inspector.
* Move the selected columns up and down using the Move up, Move down or
Change Order context menu items or by draggining it by mouse.

To configure bind a column to data:

* Specify the field property, to which the column should be
bound. To do this, use the field property and select a field from the
bound entity.
* Define a widget, which will be used for displaying in the column
cells. Select its type from the view context menu of the column's node
in the inpector. The choices will be compatible with the type of the
linked entity field. Set the properties of the corresponding widget (see
the corresponding sections for the description of the model widget
setting procedure).

ModelGrid widget can be configured to display a tree structure in the first
column on the left (next to the service column). Other columns in this
grid are displayed as usual. To configure ModelGrid to be a tree-grid, you
shoud use `childrenField` and `parentField` properties, wich will contain
children elements collection and reference to a parent element respectively.
Note, children collection and parent should be elements themsevs, not reference ids.
To get this to work you may use dereferencind feature of P{latypus.js data model,
define properties on elements of data aray through `Object.definePorperty` and so on.

To show a tree we need an entity, which contains a field referring to
some other field, thus forming a hierarchical data structure.

image:images/gridTree.png[Hierarchical data dataset]

Create and use ModelGrid within your JavaScript progams as follows:

[source,Javascript]
----------------
    var g = new ModelGrid();
    g.data = model.allcustomers;
    var colService = new ServiceGridColumn();
    g.addColumnNode(colService);
    var colName = new ModelGridColumn();
    colName.field = 'name';
    colName.title = 'just added name column'
    g.addColumnNode(colName);
    form.view.add(g, {left: '300px', top: '10px', right: '9px', bottom: '48px'});
----------------

=== ModelFormattedField
[[modelformattedfield]]

`ModelFormattedField` is the same widget as `FormattedField` widget with ability of binding.
<<formattedfield,See `FormattedField` widget>>

To create a widget of this type by program means, use the
ModelFormattedField constructor:

[source,Javascript]
------------------------------------ 
var mff = new ModelFormattedField();
------------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to a container:

[source,Javascript]
-------------------------------------------

mff.data = model.entityA;
mff.field = 'cursor.timeOfDeath';
mff.format = "dd.MM.yyyy HH:mm:ss";
view.add(mff);
-------------------------------------------

=== ModelTextArea
[[modeltextarea]]

`ModelTextArea` is a scalar model widget, the state of which is linked
to a field of the data model of string or number type. The widget can be
used to display and enter text.

`ModelTextArea` widget has the following specific properties:

[cols="<,<",options="header",]
|=================================================================
|Property |Description
|`editable` |`true` if the text is editable and `false` otherwise.
|=================================================================

To configure the widget:

* Set the entity property for the widget, using the field property on
the properties panel; select the data model parameter or data model
entity property in the dialog.
* If necessary, set handlers for selection and data changing events.

To create a widget of this type by program means, use the
ModelTextArea constructor:

[source,Javascript]
------------------------------ 
var mta = new ModelTextArea();
------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
-------------------------------------------

mta.field = model.entityB.schema.textField;
view.add(mta);
-------------------------------------------

=== ModelSpin
[[modelspin]]

`ModelSpin` is a scalar model widget, the state of which is linked to a
value of number type. One can input numbers either from the keyboard or
using buttons to increase/decrease values.

`ModelSpin` widget has the following specific properties:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`editable` |`true` if the widget is editable and `false` otherwise.

|`min` |Determines the lower bound of spinner's value. If it's `null`,
valus is unlimited at lower bound.

|`max` |The upper bound of spinner's value. If it's `null`, valus is
unlimited at upper bound.

|`step` |The spinner's value change step. Can't be `null`.

|`emptyText` |The text displayed when the actual value is absent.
|=======================================================================

To create a widget of this type by program means, use the ModelSpin
constructor:

[source,Javascript]
-------------------------------- 
var modelSpin = new ModelSpin();
--------------------------------

After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:

[source,Javascript]
----------------------------------------------

modelSpin.data = model.entityC;
modelSpin.field = 'cursor.count';
view.add(modelSpin, ...);
----------------------------------------------

== Containers
[[containers]]

Containers are widgets, which can contain other widgets e.g.
widgets or other containers and control their child widgets size and
location.

In the visual editor Containers are represented as panel widget with specific layout.

The layout of a panel can be changed using the editor. At runtime, panel
with particular layout will be replaced by the corresponding container.

Containers have a set of properties and events common for all widgets
as well as their own specific properties and events.

The common methods for all containers:

[cols="<,<",options="header",]
|==============================================================
|Method |Description
|`remove(widget)` |Removes a child widget
|`child(index)` |Returns a child widget by its numeric index
|`children()` |Returns a array of a child widgets
|`clear()` |Removes all child widgets
|==============================================================

The common property of all containers:

[cols="<,<",options="header",]
|===================================================
|Property |Description
|`count` |The number of child widgets (read-only)
|===================================================

=== AnchorsPane
[[anchorspane]]

`AnchorsPane` is a lightweight container with the anchors layout.

Anchors layout provides a simple, flexible yet powerful layout
algorithm, which allows you to build complex user interfaces.

image:images/anchorLayout.png[Anchor layout: anchors and widget's
width and height dimensions]

Configure the position and behavior of a widget in the container by
defining Left, Top, Right, Bottom anchors and Width and Height settings
of the widget. You can specify two of the three properties by the
horizontal and vertical axis.

At the same time can be set two anchors or one anchor and one dimension
values. The set properties are fixed and maintained when changing
dimensions of the container. If the property is not defined, it is
stretched along with the dimensions of the container.

Use AnchorsPane constructor in form's JavaScript code:

[source,Javascript]
----------------------------- 
var pane = new AnchorsPane();
-----------------------------

To add child widgets to the container, use the add method and pass a
child widget and object of the Anchors type as parameters to this
method.

[source,Javascript]
------------- 
pane.add(widget, anchors);
-------------

where widget is a widget to add, anchors is an object of the
Anchors type.

[source,Javascript]
--------------------------------------------------------

var pane = new AnchorsPane();
var comp = new Button("Sample");
pane.add(comp, {left: 12, right: 14, top: 22, bottom: 24));
--------------------------------------------------------

In the above example a button with the specified Left, Right, Top, and
Bottom anchors is added to the anchor pane.

The object in second argument defines widget's binding anchors in a container with
anchors layout.

Each anchor can be specified in pixels. To do this, define an anchor
using a number or string with the " `px`" symbols added. For example:
`100`, "`100px`" mean the same anchor. To specify an anchor in percents,
define an anchor using a string with the "`%`" symbol added, for example: "`30%`".

According to the rules of anchor layout, you can define two anchor
values per coordinate.

If the anchor value is not set, pass the `null` value to the
corresponding parameter, for example:

[source,Javascript]
----------------------------------------- 
var panel = new AnchorsPane();
panel.add(new Label("Test"), {left: 100, width: 200, top: 100, height: 100});
-----------------------------------------

=== BorderPane
[[borderpane]]

`BorderPane` is a lightweight container with the border layout.

Border layout is a simple way of arranging widgets, when a container
changes the position and dimensions of its widgets to the fit five
regions: northern, southern, western, eastern and center. Each area can
contain only one widget, which is determined by one of the following
constants: North, South, East, West, Center.

image:images/borderLayout.png[Border layout]

Explicitly set the value of the property, which controls the position of
the widget in the container. To do this, change widget Direction
property fields at the Layout property group, by selecting one of the
values from the drop-down list.

Use BorderPane constructor to create this container in JavaScript code:

[source,Javascript]
-------------------------------------- 
var pane = new BorderPane(hgap, vgap);
--------------------------------------

where `hgap` is the horizontal gap (optional) and `vgap` is the vertical
gap (optional).

To add child widgets to the container, use add instance method:

[source,Javascript]
--------------- 
pane.add(widget, place, size);
---------------

where widget is a widget to add, place is an instance of a
`HorizontalPosition` or `VerticalPosition` constants, determining the
region (optional) and size is the size of the widget by the provided
place direction (optional).

The following example shows how to create a `BorderPane` container and
add to this container two child widgets:

[source,Javascript]
------------------------------------------------
require('ui', function(Ui){
    var pane = new BorderPane();
    var topComp = new Button("Top");
    pane.add(topComp, Ui.VerticalPosition.TOP);
    var bottomComp = new Button("Bottom");
    pane.add(bottomComp, Ui.VerticalalPosition.BOTTOM);
});
------------------------------------------------

=== GridPane
[[gridpane]]

`GridPane` is a lightweight container with the grid layout. It is
intended for static UI designs.

`GridPane` lays widgets out by the grid, all columns must have the
same width and all rows must have the same height.

image:images/gridLayout.png[Grid Layout arranging widgets by a grid]

To set the number of columns and rows and the vertical and horizontal
interval between cells, select the GridLayout node in the widget tree
of the inspector and change the corresponding values on the properties
panel.

If you set a value other than zero for the number of columns and rows,
column number setting is ignored. Instead of this, the number of columns
is determined by the number of rows and the total number of widgets
in the container.

Use GridPane constructor to create this container in JavaScript code:

[source,Javascript]
-------------------------------- 
var pane = new GridPane(rows, cols, hgap, vgap);
--------------------------------

Where rows is the number of grid rows, cols is the number of grid
columns, hgap is the horizontal gap (optional) and vgap is the
vertical gap (optional).

To add child widgets to the container, use add instance method, which
adds a widget to the next avaliable position:

[source,Javascript]
----------- 
pane.add(widget, row, column);
-----------

where widget is a widget to add, row is the vertical position, the widget to added to and column is the horizontal position.

Use `child` method to get an child widget at the specified row and
column, if the target position is empty the method will return `null`:

[source,Javascript]
-------------------------- 
var comp = pane.child(row, column);
--------------------------

where row is the row of the widget and column is the column of the
grid position.

The following example shows how to create an `GridPane` container by program means:

[source,Javascript]
------------------------------ 
require(['forms/button', 'forms/grid-pane'], function(Button, GridPane){
    var pane = new GridPane(3, 1);
    var comp1 = new Button("1");
    var comp2 = new Button("2");
    var comp3 = new Button("3");
    pane.add(comp1, 0, 0);
    pane.add(comp2, 1, 0);
    pane.add(comp3, 2, 0);
});
------------------------------

=== FlowPane
[[flowpane]]

`FlowPane` is a lightweight container with the flow layout.

Flow layout aligns widgets into a row/line. Dimensions of the
widgets are calculated according to their content (widget
preferences). If the widget doesn't fit into a row, it is transferred
to the next line.

image:images/flowLayout.png[Flow Layout arranging into a line]

Use FlowPane constructor to create this container in JavaScript code:

[source,Javascript]
---------------------------- 
var pane = new FlowPane(hgap, vgap);
----------------------------

Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).

To add child widgets to the container, use add instance method:

[source,Javascript]
----------- 
pane.add(widget);
-----------

where widget is a widget to add.

The following example shows how to create an `FlowPane` container and
add this container to its parent container:

[source,Javascript]
-------------------------------- 
require(['forms/button', 'forms/flow-pane'], function(Button, FlowPane){
    var pane = new FlowPane();
    var comp = new Button("Sample");
    pane.add(comp);
});
--------------------------------

=== CardPane
[[cardpane]]

`CardPane` is a lightweight container with the card layout.

Card layout allows you to arrange widgets as a stack of cards, one
above the other. Only the top widget is visible. This layout manager
is usually used to create a step-by-step wizards.

Each widget has an assigned card name, which can be set on the
widget properties panel in the Card Name field of the Layout
properties group. This name can be used later to select a visible
widget.

To select a visible widget, use show(cardName) method, where cardName is the card name.

Use CardPane constructor to create this container in JavaScript code:

[source,Javascript]
---------------------------- 
var pane = new CardPane(hgap, vgap);
----------------------------

Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).

To add child widgets to the container, use add instance method:

[source,Javascript]
------------- 
pane.add(widget, cardName);
-------------

where widget is a widget to add and cardName is the name of the
card.

The following example shows how to create an `FlowPane` container and
add this container to the widgets tree:

[source,Javascript]
----------------------------------------- 
require(['forms/button', 'forms/card-pane'], function(Button, CardPane){
    var pane = new CardPane();
    var compA = new Button("SampleA");
    pane.add(comp, "A");
    var compB = new Button("SampleB");
    pane.add(comp, "B");
    var compC = new Button("SampleC");
    pane.add(comp, "C");

    pane.show("B");//Shows the SampleB button
});
-----------------------------------------

=== BoxPane
[[boxpane]]

`BoxPane` is a lightweight container with the vertical or horizontal box layout.

The box layout arranges widgets in the order, in which they were
added to the container, one after the other, back to back.

Specify an axis, along which the Box layout manager will arrange
widgets. For this select the BoxLayout node in the inspector
widget tree and select the Axis property value from the list on the
properties panel:

* HORIZONTAL for widgets are laid out horizontally from left to
right.
* VERTICAL for widgets are laid out vertically from top to bottom.

Use BoxPane constructor to create this container in JavaScript code:

[source,Javascript]
------------------------- 
var pane = new BoxPane(orientation, hgap, vgap);
-------------------------

Where orientation is a value of `P.Orientation.HORIZONTAL` or
`P.Orientation.VERTICAL` constants (optional). By default
`P.Orientation.HORIZONTAL` orientation is specified.
If orientation is specified as P.Orientation.HORIZONTAL hgap is horizontal
gap between child widgets and it is ignored otherwise.
If orientation is specified as P.Orientation.VERTICAL vgap is vertical
gap between child widgets and it is ignored otherwise.

To add child widgets to the container, use add instance method:

[source,Javascript]
----------- 
pane.add(widget);
-----------

where widget is a widget to add.

The following example shows how to create a `BoxPane` instance and add
a widget to this container:

[source,Javascript]
---------------------------------------------
require(['forms/button', 'forms/box-pane', 'ui'], function(Button, BoxPane, Ui){
    var pane = new BoxPane(Ui.Orientation.VERTICAL, 0, 20);// vertical box with 20 pixels vertical gap
    var comp = new Button("Sample");
    pane.add(comp);
});
---------------------------------------------

NOTE: Take into accout, that changing of orientation in box pane will rearrange child widgets,
but theirs widths and heights will remain unchanged if it will be allowed by thne container. E.g.
if you've got a horizontal box with defferent widths of child widgets and then you will change
orientation to Ui.Orientation.VERTICAL, then all child widgets heights will remain equal to height
if the cintainer and widths will be changed to fit container's width. Of course you may reassign
heights of child widgets is such case and layout will become pretty again.

=== TabbedPane
[[tabbedpane]]

`TabbedPane` container allows the user to switch between a group of
widgets by clicking tabs with titles and icons.

Widget's specific properties:

[cols="<,<",options="header",]
|===========================================
|Property |Description
|`selectedComponent` |Active tab's widget
|`selectedIndex` |Active tab index
|===========================================

Widget's specific events:

[cols="<,<,<",options="header",]
|=======================================================
|Event |Event type |Description
|`onItemSelected` |`ItemEvent` |Tab switching event
|=======================================================

To create a widget of this type by program means, use the TabbedPane
constructor:

[source,Javascript]
---------------------------- 
var pane = new TabbedPane();
----------------------------

To add child widgets to the container, use the add method and pass a
child widget as well as a tab title and an optional icon as
parameters to this method:

[source,Javascript]
--------------- 
pane.add(widget, text, icon);
---------------

where widget is a widget to add, text is the tab's label text,
icon is the tab's label icon (optional).

An example of code using the `TabbedPane` container:

[source,Javascript]
----------------------------- 
require(['forms/anchors-pane', 'forms/tabbed-pane'], function(AnchorsPane, TabbedPane){
    var pane = new TabbedPane();
    var tab1 = new AnchorsPane();
    var tab2 = new AnchorsPane();
    pane.add(tab1, "Tab 1");
    pane.add(tab2, "Tab 2");
});
-----------------------------

=== SplitPane
[[splitpane]]

`SplitPane` container is used to display two (and only two) splitted
widgets. The user can change their size by moving the separator.

Split pane setup in form editor:

* Drag-and-drop a container of the type from the palette.
* Drag one widget to be displayed as the first widget of SplitPane.
* Drag another widget to be displayed as the second widget of SplitPane.

The specific properties of the `SplitPane`:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`orientation` |The separator's orientation: `Ui.Orientation.VERTICAL` or
`Ui.Orientation.HORIZONTAL`

|`dividerLocation` |The split pane divider's location in pixels

|`oneTouchExpandable` |`true` if the pane is one touch expandable and
`false` otherwise.

|`firstComponent` |The first widget of the container.

|`secondComponent` |The second widget of the container.
|=======================================================================

To create a widgets of this type by program means, use the SplitPane
constructor with an optional parameter for specifying orientation:

[source,Javascript]
--------------------------- 
var pane = new SplitPane(orientation);
---------------------------

where orientation is an object of the Orientation type, which defines
orientation of the panel separator (optional). The container uses the
horizontal orientation by default.

As an alternative to the `firstComponent` and
`secondComponent`properties use add method:

[source,Javascript]
----------- 
pane.add(firstWidget);
pane.add(secondWidget);
-----------

where firstWidget and secondWidget are the first and then the second widget to add.

[source,Javascript]
-----------------------------------------------
require(['forms/anchors-pane', 'forms/split-pane', 'ui'], function(AnchorsPane, SplitPane, Ui){
    var pane = new SplitPane(Ui.Orientation.VERTICAL);
    var comp1 = new AnchorsPane();
    var comp2 = new AnchorsPane();
    pane.firstComponent = comp1;
    pane.secondComponent = comp2;
});
-----------------------------------------------

=== ScrollPane
[[scrollpane]]

`ScrollPane` is a container, which supports scrolling of its content.
Usually another container is added to this one, using `ScrollPane` as a
wrapper.

The specific properties of the `ScrollPane`:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`view`|Single child widget - content of the ScrollPane.

|`horizontalScrollBarPolicy` |Horizontal scroll bar policy of the container.
P.ScrollBarPolicy.AUTO or P.ScrollBarPolicy.NEVER or P.ScrollBarPolicy.ALLWAYS
can be assigned to this property to specify scroll bars appearance.

|`verticalScrollBarPolicy` |Vertical scroll bar policy of the container.
P.ScrollBarPolicy.AUTO or P.ScrollBarPolicy.NEVER or P.ScrollBarPolicy.ALLWAYS
can be assigned to this property to specify scroll bars appearance.
|=======================================================================

To create a widget of this type by program means, use the ScrollPane
constructor, which can be called with a different number of parameters:

[source,Javascript]
------------------------ 
var pane = ScrollPane(view);
------------------------

where view is a widget, which is added inside the scroll panel
(optional).

You can add one child widget to the container using the
add method, for example:

[source,Javascript]
------------------------------- 
require(['forms/anchors-pane', 'forms/scroll-pane'], function(AnchorsPane, ScrollPane){
    var scroll = new ScrollPane();
    var view = new AnchorsPane();
    scroll.add(view);
});
-------------------------------

=== ToolBar
[[toolbar]]

`ToolBar` is a container used to display widgets, which are
responsible for the most common user actions.

Toolbars are intended to display a set of buttons (usually without
labels, but with tooltips and small, clearly visible icons) which
trigger the most frequently used application actions.

Widgets in the toolbar are placed in horizontal box one-by-one.

To create a widget of this type by program means, use the ToolBar
constructor:

[source,Javascript]
---------------------------- 
var toolbar = new ToolBar();
----------------------------

To add child widgets to the container, use the add method and pass a
child widget:

[source,Javascript]
----------- 
pane.add(widget);
-----------

where widget is the widget to add.

For example:

[source,Javascript]
----------------------------- 
require(['forms/tool-bar', 'forms/button', 'ui'], function(ToolBar, Button, Ui){
    var toolbar = new ToolBar();
    var b1 = new Button();
    pane.add(b1);
    Ui.Icon.load("1.png", function(aLoaded){
        b1.icon = aLoaded;
    });
    var b2 = new Button();
    pane.add(b2);
    Ui.Icon.load("2.png", function(aLoaded){
        b2.icon = aLoaded;
    });
});
-----------------------------

=== DesktopPane
[[desktoppane]]

`DesktopPane` is used to create a multi-document interface.

Forms can be displayed inside this container. Such forms are named as `frames`
Add forms to the container in your program. After adding, these forms can be moved,
closed, minimized or expanded (maximized) to the full container's size.

To create a widget of this type by program means, use the DesktopPane
constructor:

[source,Javascript]
----------------------------- 
var pane = new DesktopPane();
-----------------------------

The list of specific methods of the widget:

[cols="<,<",options="header",]
|============================================================
|Property |Description
|`minimizeAll()` |Minimizes all frames on the pane.
|`restoreAll()` |Restores frames original state and location.
|`maximizeAll()` |Maximizes all frames on the pane.
|`closeAll()` |Closes all frames on the pane.
|============================================================

The specific property of the widget:

[cols="<,<",options="header",]
|========================================================
|Property |Description
|`forms` |An array of all frames on the pane (read-only).
|========================================================

To add a form to a `DesktopPane`:

* Create a new form instance.
* Add this new form to the desktop by calling the
showInternalFrame(desktopPane) method where desktopPane is a
`DesktopPane` object instance.

Example:

[source,Javascript]
-------------------------------------- 
define('InnerForm', 'forms', function(Forms, ModuleName){
    return function (){
        var form = Forms.loadForm(ModuleName);
        this.onDesktop = function(aDesktop){
            form.showInternalFrame(aDesktop);
        };
    }
});
--------------------------------------

[source,Javascript]
-------------------------------------- 
require(['forms/desktop-pane', 'InnerForm'], function(DesktopPane, InnerForm){
    var desktop = new DesktopPane();
    var formModule = new InnerForm();
    formModule.onDesktop(desktop);
});
--------------------------------------

== Menus
[[menus]]

Menus widgets provide a convinient way to let the user choose one of
several options.

=== MenuBar
[[menubar]]

`MenuBar` widget is a form's main menu bar, into which individual
menus can be added. This compontent is a kind of a container and
inherits it common properties and methods.

After adding this widget from the palette, the menu bar contains some
default menus, this menus can be changed, edited or deleted.

To create a widget of this type by in your code, use the MenuBar
constructor:

[source,Javascript]
-------------------------------------------------

var menuBar = new MenuBar();
view.add(menuBar, ...);// add it to the root container
-------------------------------------------------

The list of specific methods of the widget:

[cols="<,<",options="header",]
|=======================================================================
|Method |Description
|`add()` |Adds a new menu to the menu bar, where menu is a `Menu` to
add.
|=======================================================================

=== Menu
[[menu]]

`Menu` is an individual menu, it can contain `MenuItem` and
`MenuSeparator` widgets. This compontent is a kind of a container and
inherits it's common properties and methods.

Add new `Menu` widgets on to the `MenuBar` from the widgets
pallete in the visual editor.

Add the submenu into a `Menu` by selecting Add From Palette in the
context menu.

To create a widget of this type by your code, use the Menu
constructor:

[source,Javascript]
---------------------- 
var menu = new Menu(text);
menuBar.add(menu);
----------------------

Where text is menu's label, displayed in parent menu it this menu is used as a sub menu.

The list of specific properties of the widget:

[cols="<,<",options="header",]
|===========================================
|Property |Description
|`text` |Menu's text label.
|`parent` |The parent container (read-only).
|===========================================

The list of specific methods of the widget:

[cols="<,<",options="header",]
|=======================================================================
|Property |Description
|`add(widget)` |Adds an item to the menu, where widget is the `MenuItem` or
`MenuSeparator` widget to add.
|=======================================================================

=== PopupMenu
[[popupmenu]]

`PopupMenu` is an options selection window, which can be assigned to any
widget. This compontent is a kind of a container and inherits it's
common properties and methods.

Add the `PopupMenu` widget onto the form by dragging it from the
palette in visual editor. After adding, this widget will have no
visual representation in the form's layout, it will be avaliable under
the Other widgets node in the inspector widget tree.

Add items to the popup menu the same way as to the standard menu.

To assign a popup menu for a widget in the visual editor, define a
widget's `componentPopupMenu` property and select the required popup menu from
the list.

To create a widget of this type by in your code, use the PopupMenu
constructor:

[source,Javascript]
--------------------------------- 
var popup = new PopupMenu();
var label = new Label("Sample");
label.componentPopupMenu = popup;
---------------------------------

The list of specific methods of the widget:

[cols="<,<",options="header",]
|=======================================================================
|Method |Description
|`add(item)` |Adds an item to the menu, where comp is the `MenuItem` or
`MenuSeparator` widget to add.
|=======================================================================

=== MenuItem
[[menuitem]]

The default `MenuItem` object contains a simple labeled menu item.

To create a widget of this type by in your program, use the MenuItem
constructor:

[source,Javascript]
---------------------------------- 
var menuItem = new MenuItem(text, icon, actionPerformed);
----------------------------------

where text is the text of the menu item (optional), icon is the icon of
the widget (optional), actionPerformed the function for the action
performed handler (optional).

The list of specific properties of the widget:

[cols="<,<",options="header",]
|===========================================
|Property |Description
|`text` |Menu item's text label.
|`icon` |Menu item's `Icon`.
|`parent` |The parent container (read-only).
|===========================================

An example of code using `MenuItem` widget:

[source,Javascript]
---------------------------------------- 
var item = new MenuItem("Sample");
item.onActionPerformed = function(evt) {
   alert("Sample selected.")
}
menu.add(item);
----------------------------------------

=== CheckMenuItem
[[checkmenuitem]]

`CheckMenuItem` is a menu item combined with a checkbox.

To create a widget of this type by in your program, use the
CheckMenuItem constructor:

[source,Javascript]
--------------------------------------------

var checkMenuItem = new CheckMenuItem(text, selected, actionPerformed);
--------------------------------------------

where text is the text of the widget (optional), selected is `true`
when the check box is selected and `false` otherwise (optional),
actionPerformed the function for the action performed handler
(optional).

The list of specific properties of the widget:

[cols="<,<",options="header",]
|======================================================================
|Property |Description
|`text` |Menu item text.
|`selected` |`true` if the menu item is selected and `false` otherwise.
|`parent` |The parent container (read-only).
|======================================================================

A menu item of this type can be added to a `ButtonGroup` widget,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.

=== RadioMenuItem
[[radiomenuitem]]

`RadioMenuItem` is a menu item combined with a radio button.

To create a widget of this type by in your program, use the
RadioMenuItem constructor:

[source,Javascript]
--------------------------------------------

var radioMenuItem = new RadioMenuItem(text, selected, actionPerformed);
--------------------------------------------

where text is the text of the widget (optional), selected is `true`
when the check box is selected and `false` otherwise (optional),
actionPerformed the function for the action performed handler
(optional).

The list of specific properties of the widget:

[cols="<,<",options="header",]
|======================================================================
|Property |Description
|`text` |Menu item text.
|`selected` |`true` if the menu item is selected and `false` otherwise.
|`buttonGroup` |The button group this widget belongs
|`parent` |The parent container (read-only).
|======================================================================

A menu item of this type can be added to a `ButtonGroup` widget,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.

=== MenuSeparator
[[menuseparator]]

`MenuSeparator` is a separator of menu items. Use this widget to
visually split the groups of menu items.

To create a widget of this type by in your program, use the
MenuSeparator constructor:

[source,Javascript]
------------------------------------ 
var separator = new MenuSeparator();
------------------------------------

The list of specific properties of the widget:

[cols="<,<",options="header",]
|===========================================
|Property |Description
|`parent` |The parent container (read-only).
|===========================================

== UI utilities API
[[ui-utilities-api]]

=== Icon
[[icon]]

`Icon` is a small picture.

To create an icon object, use the factory load method of the Icon
object:

[source,Javascript]
----------------------- 
var icon = Ui.Icon.load(path);
-----------------------

where path is the name of the icon file, relative path of an application
or http URL.

The icon file name will be used for accessing the application project's collection of
icons.

An example of using an icon to create a button:

[source,Javascript]
----------------------------------- 
require(['ui', 'forms/button'], function(Ui, Button){
    Ui.Icon.load("car.png", funtion(aCarIcon){
        var b = new Button("Car", aCarIcon);
        view.add(b, ...);
    });
});
-----------------------------------

=== FontStyle
[[fontstyle]]

`FontStyle` object contains constants, which can be used to set font
styles.

[cols="<,<",options="header",]
|===========================
|Property |Description
|`NORMAL` |Standard font
|`BOLD` |Bold
|`ITALIC` |Italics
|`BOLD_ITALIC` |Bold italics
|===========================

Example of usage:

[source,Javascript]
--------------------------------------- 
var italicFontStyle = Ui.FontStyle.ITALIC;
---------------------------------------

=== Font
[[font]]

`Font` object.

Object properties:

[cols="<,<",options="header",]
|=================================
|Property |Description
|`family` |Name of the font family
|`style` |Style, See <<fontstyle, FontStyle>>
|`size` |Size
|=================================

To create a font object, use the Font constructor:

[source,Javascript]
------------------------- 
var font = new Ui.Font(family, style, size)
-------------------------

where family is a string of the font family name; style is a font
style of the <<fontstyle, FontStyle>> type, size is a font size in points.

Example:

[source,Javascript]
---------------------------------------------------

button.font = new Ui.Font("Verdana", P.FontStyle.BOLD, 14);
---------------------------------------------------

=== Color
[[color]]

`Color` represents color an the object.

The color object contains constants of main colors:

[cols="<,<",options="header",]
|========================
|Property |Description
|`WHITE` |White
|`LIGHT_GRAY` |Light gray
|`GRAY` |Gray
|`DARK_GRAY` |Dark gray
|`BLACK` |Black
|`RED` |Red
|`PINK` |Pink
|`ORANGE` |Orange
|`YELLOW` |Yellow
|`MAGENTA` |Magenta
|`CYAN` |Cyan
|`GREEN` |Green
|`BLUE` |Blue
|========================

To create an object of an arbitrary color, use the Color constructor by
passing it three RGB integers as parameters:

[source,Javascript]
---------------------------- 
var color = new Ui.PColor(red, green, blue, alpha);
----------------------------

where R, G, B are red, green, blue and alpha are integer constituents of the color.

Example of usage:

[source,Javascript]
-------------------------------------------

button.foreground = Ui.P.Color.BLUE;

var ivory = new Ui.Color(255, 255, 240);
panel.background = ivory;
-------------------------------------------

=== HorizontalPosition
[[horizontalposition]]

`HorizontalPosition` is the horizontal position constants object.

This object contains constants, which determine the horizontal position:

[cols="<,<",options="header",]
|=====================
|Property |Description
|`LEFT` |To the left
|`CENTER` |Center
|`RIGHT` |To the right
|=====================

Example of usage:

[source,Javascript]
---------------------------------------------------

var horizontalPosition = Ui.HorizontalPosition.CENTER;
---------------------------------------------------

=== VerticalPosition
[[verticalposition]]

`VerticalPosition` is the vertical position constants object.

This object contains constants, which determine the vertical position:

[cols="<,<",options="header",]
|=======================
|Property |Description
|`TOP` |To the top
|`CENTER` |Center
|`BOTTOM` |To the bottom
|=======================

Example of usage:

[source,Javascript]
-----------------------------------------------

var verticalPosition = Ui.VerticalPosition.CENTER;
-----------------------------------------------

=== Orientation
[[orientation]]

`Orientation` is the orientation constants object.

This object contains constants, which determine the orientation:

[cols="<,<",options="header",]
|==========================
|Property |Description
|`HORIZONTAL` |Horizontally
|`VERTICAL` |Vertically
|==========================

Example of usage:

[source,Javascript]
----------------------------------------- 
var orientation = Ui.Orientation.HORIZONTAL;
-----------------------------------------

=== ScrollBarPolicy
[[scrollbarpolicy]]

`ScrollBarPolicy` is the scroll bar policy constants object.

This object contains constants, which determine the scroll bar policy:

[cols="<,<",options="header",]
|==========================
|Property |Description
|`AUTO` |Scroll bar appears automatically, when content of scroll pane becomes greater than scroll pane.
|`NEVER` |Scroll bar is never shown.
|`ALLWAYS` |Scroll bar is allways shown.
|==========================

Example of usage:

[source,Javascript]
----------------------------------------- 
scrooll.scrollBarPolicy = Ui.ScrollBarPolicy.NEVER;
-----------------------------------------

== Dialogs API
[[dialogs-api]]

Use this global functions to display custom dialogs:

[width="98%",cols="<17%,<83%",options="header",]
|=======================================================================
|Function |Description
|`alert(message)` |Displays an info message, where `message` is the message text.
Platypus J2SE client accepts extra parameter, - `title` and uses it as title of the message window.

|`prompt(message, default)` |Displays a prompt window, returns the response string,
where `message` is the message text, `default` is the default text.

|`confirm(message)` |Displays a dialog with confirmation, where `message` is the message text.

|`selectFile(callback, fileFilter)` |Displays a dialog, which allows the user to select a
file. Calls callback and passes a file object, where `curDir` is the current directory,
`fileFilter` is a files names filter. It has the following format: `.png,.txt,.xls`.

|`selectDirectory(callback, curDir)` |Displays a dialog, which allows the user to select a directory and callback is called
upon user's selection. `curDir` is the directory the dialog will be opened with.

|`selectColor(callback, oldColor)` |Displays a color selection dialog and calls callback upon user's selection.
`oldColor` is the color to be preset in dialog for user's convenience.
|=======================================================================

Code examples:

[source,Javascript]
---------------------------------------------------------

alert("Message title", "Message");

var txt = prompt("Enter text here", "Some default text");

if (confirm("Are you sure?")) {
  // Do something here...
}
---------------------------------------------------------